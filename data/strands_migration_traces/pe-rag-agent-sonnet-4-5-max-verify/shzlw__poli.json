{
    "max_migration_success": false,
    "min_migration_success": false,
    "trajectory": [
        {
            "role": "user",
            "content": [
                {
                    "text": "The code repository located at /tmp/workdir/search_strands_20260128/poli is currently written in Java 8. Please migrate the entire codebase to Java 17."
                }
            ]
        },
        {
            "role": "assistant",
            "content": [
                {
                    "reasoningContent": {
                        "reasoningText": {
                            "text": "I'll help migrate this Java 8 codebase to Java 17. Let me start by exploring the repository structure to understand what we're working with.\n\nThe steps I'll need to take:\n1. Explore the repository structure\n2. Check the current Java version configuration\n3. Look at pom.xml files to understand dependencies\n4. Update Java version in build files\n5. Update dependencies to Java 17 compatible versions\n6. Check for any Java 8 specific code that needs updating\n7. Run `mvn clean verify` to ensure everything works\n\nLet's start by viewing the repository structure.",
                            "signature": "EtYFCkgICxABGAIqQMo5t8Kt7rP/oWWoWQu9KFx2zjhOaUyIdwpr3mn5HEWg4sfeyVapM9Hb6Zbitg2sh7M5wsjcXieex8gIghGE0HESDMJRHqzmCYGMNYNtXBoMG8gImSfNpWI5Rj6kIjCdALq91FxzqBone1dD+S2aOsjhthG29AOBJqTIZ8QrYp9gInnvQGiCUZLpTkMiueUquwQlKWyNB36KteMsycvBxtq01Op2+0+rd49kf4Q6pcD4ngXAcj6clHiWPsuJ1FOsjG8PCGg55YElzB7QuiHYukEd4ml3AKcXN8aVvucZ6IHtMLCHcYZ4PO+o2CNtY0xEUUelK+kWfqIH8xPI9iohmDQS08Y/XTXFKQs+eg50M7tAAOs5/20yAARQf6sVnnlmKYo4CTrfuWBjl+3s56KvKILjZjDuiLut7M3avEgNNnf2w0Uwz3U4XkvTcM1KvsFu3CqaMVD6Vq7Tdxb3jhiCNzXT8DspOglGmyL+ucw7G0kuQiJYPWmHaApvWrMjHoxX6X1cjsyevtT9tXx7WdztEHXokW0lRTcI8Dgi3SA5dDmOPGj7WXmJlQ/8mk/G1nDEU/AXqJ3Ba8JTG1kc+7xIM4DkBAnuauapCZmIyuvcN0sLm3Pporq+oG4gDymiDHso0+kZ7YG0F1I0vO3ahAQbFPlXXCmsCTUoL//VuxgB6ngEpp/MINvdd5O92ZbjazZIV9xRBNwqQuxR56h1Zh9NS9mIj5j6P6knQi1sd8p6LZu1gNMCAio3cD2CoDFofgYchfUKoaJ8U5Vo87N9wl/dTpCrWxNDsScPrqSRuwWM2jqvix7hmli4bPrboKjCUs2Bo4xrlxPvuHf4Z7e7ZudXV8P53j9rzVrBp8cTETnPQnHY3HI/vv/jSm/iwPwpqIQmyG6zh1LEzlIEMZy7X7gSGX+dIS4KiyknR12//JI6Yy7JcfTfR6+OFZWNSnBVGAE="
                        }
                    }
                },
                {
                    "text": "I'll help you migrate this Java 8 codebase to Java 17. Let me start by exploring the repository structure to understand what we're working with."
                },
                {
                    "toolUse": {
                        "toolUseId": "tooluse_rKSgB0WxR9SUYgFV-8gRoQ",
                        "name": "editor",
                        "input": {
                            "command": "view",
                            "path": "/tmp/workdir/search_strands_20260128/poli"
                        }
                    }
                }
            ]
        },
        {
            "role": "user",
            "content": [
                {
                    "toolResult": {
                        "status": "success",
                        "content": [
                            {
                                "text": "Directory structure displayed in console.\nDirectory tree: /tmp/workdir/search_strands_20260128/poli"
                            }
                        ],
                        "toolUseId": "tooluse_rKSgB0WxR9SUYgFV-8gRoQ"
                    }
                }
            ]
        },
        {
            "role": "assistant",
            "content": [
                {
                    "toolUse": {
                        "toolUseId": "tooluse_km8eTn3uQjCsI2zQrVBYow",
                        "name": "restricted_shell",
                        "input": {
                            "command": "find /tmp/workdir/search_strands_20260128/poli -type f -name \"pom.xml\" | head -20"
                        }
                    }
                }
            ]
        },
        {
            "role": "user",
            "content": [
                {
                    "toolResult": {
                        "toolUseId": "tooluse_km8eTn3uQjCsI2zQrVBYow",
                        "status": "success",
                        "content": [
                            {
                                "text": "/tmp/workdir/search_strands_20260128/poli/pom.xml\n"
                            }
                        ]
                    }
                }
            ]
        },
        {
            "role": "assistant",
            "content": [
                {
                    "toolUse": {
                        "toolUseId": "tooluse_pSY9X0zkQFKMVvoJ2tH5Tg",
                        "name": "editor",
                        "input": {
                            "command": "view",
                            "path": "/tmp/workdir/search_strands_20260128/poli/pom.xml"
                        }
                    }
                }
            ]
        },
        {
            "role": "user",
            "content": [
                {
                    "toolResult": {
                        "status": "success",
                        "content": [
                            {
                                "text": "File content displayed in console.\nContent: <project xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\">\n    <modelVersion>4.0.0</modelVersion>\n    <groupId>com.shzlw.poli</groupId>\n    <artifactId>poli</artifactId>\n    <packaging>jar</packaging>\n    <version>0.12.2</version>\n    <name>Poli</name>\n    <description>The SQL BI tool</description>\n\n    <properties>\n        <java.version>1.8</java.version>\n        <maven.compiler.source>1.8</maven.compiler.source>\n        <maven.compiler.target>1.8</maven.compiler.target>\n        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>\n        <project.reporting.outputEncoding>UTF-8</project.reporting.outputEncoding>\n    </properties>\n\n    <parent>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>spring-boot-starter-parent</artifactId>\n        <version>2.2.6.RELEASE</version>\n    </parent>\n\n    <dependencies>\n\n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-web</artifactId>\n        </dependency>\n\n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-test</artifactId>\n        </dependency>\n\n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-tomcat</artifactId>\n        </dependency>\n\n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-jdbc</artifactId>\n        </dependency>\n\n        <!-- https://mvnrepository.com/artifact/com.zaxxer/HikariCP -->\n        <dependency>\n            <groupId>com.zaxxer</groupId>\n            <artifactId>HikariCP</artifactId>\n            <version>3.3.1</version>\n        </dependency>\n\n        <!-- https://mvnrepository.com/artifact/org.xerial/sqlite-jdbc -->\n        <dependency>\n            <groupId>org.xerial</groupId>\n            <artifactId>sqlite-jdbc</artifactId>\n            <version>3.25.2</version>\n        </dependency>\n\n        <!-- https://mvnrepository.com/artifact/com.google.guava/guava -->\n        <dependency>\n            <groupId>com.google.guava</groupId>\n            <artifactId>guava</artifactId>\n            <version>27.0.1-jre</version>\n        </dependency>\n\n        <!-- https://mvnrepository.com/artifact/com.squareup.okhttp3/okhttp -->\n        <dependency>\n            <groupId>com.squareup.okhttp3</groupId>\n            <artifactId>okhttp</artifactId>\n            <version>4.2.0</version>\n        </dependency>\n\n        <!-- https://mvnrepository.com/artifact/org.jetbrains.kotlin/kotlin-reflect -->\n        <dependency>\n            <groupId>org.jetbrains.kotlin</groupId>\n            <artifactId>kotlin-reflect</artifactId>\n            <version>1.3.61</version>\n        </dependency>\n\n\n    </dependencies>\n\n    <build>\n        <plugins>\n            <plugin>\n                <groupId>org.springframework.boot</groupId>\n                <artifactId>spring-boot-maven-plugin</artifactId>\n                <configuration>\n                    <layout>ZIP</layout>\n                </configuration>\n            </plugin>\n            <plugin>\n                <groupId>org.jacoco</groupId>\n                <artifactId>jacoco-maven-plugin</artifactId>\n                <version>0.8.3</version>\n                <executions>\n                    <execution>\n                        <id>prepare-agent</id>\n                        <goals>\n                            <goal>prepare-agent</goal>\n                        </goals>\n                    </execution>\n                    <execution>\n                        <id>report</id>\n                        <phase>prepare-package</phase>\n                        <goals>\n                            <goal>report</goal>\n                        </goals>\n                    </execution>\n                    <execution>\n                        <id>post-unit-test</id>\n                        <phase>test</phase>\n                        <goals>\n                            <goal>report</goal>\n                        </goals>\n                        <configuration>\n                            <dataFile>target/jacoco.exec</dataFile>\n                            <outputDirectory>target/my-reports</outputDirectory>\n                        </configuration>\n                    </execution>\n                </executions>\n            </plugin>\n        </plugins>\n    </build>\n\n</project>"
                            }
                        ],
                        "toolUseId": "tooluse_pSY9X0zkQFKMVvoJ2tH5Tg"
                    }
                }
            ]
        },
        {
            "role": "assistant",
            "content": [
                {
                    "text": "Now let me check the source code structure and look for any Java version-specific code:"
                },
                {
                    "toolUse": {
                        "toolUseId": "tooluse_Bph3qkdlSPixrsQ2-kMGCg",
                        "name": "restricted_shell",
                        "input": {
                            "command": "find /tmp/workdir/search_strands_20260128/poli -type f -name \"*.java\" | head -20"
                        }
                    }
                }
            ]
        },
        {
            "role": "user",
            "content": [
                {
                    "toolResult": {
                        "toolUseId": "tooluse_Bph3qkdlSPixrsQ2-kMGCg",
                        "status": "success",
                        "content": [
                            {
                                "text": "/tmp/workdir/search_strands_20260128/poli/src/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java\n/tmp/workdir/search_strands_20260128/poli/src/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java\n/tmp/workdir/search_strands_20260128/poli/src/test/java/com/shzlw/poli/rest/ReportWsTest.java\n/tmp/workdir/search_strands_20260128/poli/src/test/java/com/shzlw/poli/rest/UserWsTest.java\n/tmp/workdir/search_strands_20260128/poli/src/test/java/com/shzlw/poli/rest/GroupWsTest.java\n/tmp/workdir/search_strands_20260128/poli/src/test/java/com/shzlw/poli/rest/CannedReportWsTest.java\n/tmp/workdir/search_strands_20260128/poli/src/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java\n/tmp/workdir/search_strands_20260128/poli/src/test/java/com/shzlw/poli/rest/InfoWsTest.java\n/tmp/workdir/search_strands_20260128/poli/src/test/java/com/shzlw/poli/rest/AbstractWsTest.java\n/tmp/workdir/search_strands_20260128/poli/src/test/java/com/shzlw/poli/rest/ComponentWsTest.java\n/tmp/workdir/search_strands_20260128/poli/src/test/java/com/shzlw/poli/rest/AuthWsTest.java\n/tmp/workdir/search_strands_20260128/poli/src/test/java/com/shzlw/poli/rest/SharedReportWsTest.java\n/tmp/workdir/search_strands_20260128/poli/src/test/java/com/shzlw/poli/filter/AuthFilterTest.java\n/tmp/workdir/search_strands_20260128/poli/src/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java\n/tmp/workdir/search_strands_20260128/poli/src/test/java/com/shzlw/poli/dao/DaoHelperTest.java\n/tmp/workdir/search_strands_20260128/poli/src/test/java/com/shzlw/poli/dao/AuditLogDaoTest.java\n/tmp/workdir/search_strands_20260128/poli/src/test/java/com/shzlw/poli/util/CommonUtilsTest.java\n/tmp/workdir/search_strands_20260128/poli/src/test/java/com/shzlw/poli/util/PasswordUtilsTest.java\n/tmp/workdir/search_strands_20260128/poli/src/main/java/com/shzlw/poli/config/AppConfig.java\n/tmp/workdir/search_strands_20260128/poli/src/main/java/com/shzlw/poli/config/AppProperties.java\n"
                            }
                        ]
                    }
                }
            ]
        },
        {
            "role": "assistant",
            "content": [
                {
                    "text": "Let me check the current Java version and look at the structure:"
                },
                {
                    "toolUse": {
                        "toolUseId": "tooluse_J78QT8WFTli-a4_TMaG3dw",
                        "name": "restricted_shell",
                        "input": {
                            "command": "cd /tmp/workdir/search_strands_20260128/poli && java -version 2>&1"
                        }
                    }
                }
            ]
        },
        {
            "role": "user",
            "content": [
                {
                    "toolResult": {
                        "toolUseId": "tooluse_J78QT8WFTli-a4_TMaG3dw",
                        "status": "success",
                        "content": [
                            {
                                "text": "openjdk version \"17.0.17\" 2025-10-21\nOpenJDK Runtime Environment (build 17.0.17+10-Ubuntu-122.04)\nOpenJDK 64-Bit Server VM (build 17.0.17+10-Ubuntu-122.04, mixed mode, sharing)\n"
                            }
                        ]
                    }
                }
            ]
        },
        {
            "role": "assistant",
            "content": [
                {
                    "text": "Good! Java 17 is already installed. Now let me search for recommended Java 17 compatible versions for the dependencies:"
                },
                {
                    "toolUse": {
                        "toolUseId": "tooluse_DoLdw87zRgawpqlS77MQaw",
                        "name": "search_dependency_version",
                        "input": {
                            "dependency_coordinate": "org.springframework.boot:spring-boot-starter-parent"
                        }
                    }
                },
                {
                    "toolUse": {
                        "toolUseId": "tooluse_otd38tR9Ty-7Gcavw4pjZA",
                        "name": "search_dependency_version",
                        "input": {
                            "dependency_coordinate": "com.zaxxer:HikariCP"
                        }
                    }
                },
                {
                    "toolUse": {
                        "toolUseId": "tooluse_bM2KzOmPTjOC7KbLy408nA",
                        "name": "search_dependency_version",
                        "input": {
                            "dependency_coordinate": "org.xerial:sqlite-jdbc"
                        }
                    }
                },
                {
                    "toolUse": {
                        "toolUseId": "tooluse_ZZNyTclsQVml9Qaz4Lp67g",
                        "name": "search_dependency_version",
                        "input": {
                            "dependency_coordinate": "com.google.guava:guava"
                        }
                    }
                },
                {
                    "toolUse": {
                        "toolUseId": "tooluse_VZXEDCebR0euJIRqOXXYSA",
                        "name": "search_dependency_version",
                        "input": {
                            "dependency_coordinate": "com.squareup.okhttp3:okhttp"
                        }
                    }
                },
                {
                    "toolUse": {
                        "toolUseId": "tooluse_EpmquDdSRcywhcAzZp7gBg",
                        "name": "search_dependency_version",
                        "input": {
                            "dependency_coordinate": "org.jetbrains.kotlin:kotlin-reflect"
                        }
                    }
                },
                {
                    "toolUse": {
                        "toolUseId": "tooluse_mxY61b39RHGm9ao47f_vCA",
                        "name": "search_dependency_version",
                        "input": {
                            "dependency_coordinate": "org.jacoco:jacoco-maven-plugin"
                        }
                    }
                }
            ]
        },
        {
            "role": "user",
            "content": [
                {
                    "toolResult": {
                        "toolUseId": "tooluse_DoLdw87zRgawpqlS77MQaw",
                        "status": "success",
                        "content": [
                            {
                                "text": "Recommended version for 'org.springframework.boot:spring-boot-starter-parent': 3.3.4"
                            }
                        ]
                    }
                },
                {
                    "toolResult": {
                        "toolUseId": "tooluse_otd38tR9Ty-7Gcavw4pjZA",
                        "status": "success",
                        "content": [
                            {
                                "text": "Recommended version for 'com.zaxxer:HikariCP': 6.0.0"
                            }
                        ]
                    }
                },
                {
                    "toolResult": {
                        "toolUseId": "tooluse_bM2KzOmPTjOC7KbLy408nA",
                        "status": "success",
                        "content": [
                            {
                                "text": "No version information found for 'org.xerial:sqlite-jdbc'. You may need to search online for the latest Java 17 compatible version."
                            }
                        ]
                    }
                },
                {
                    "toolResult": {
                        "toolUseId": "tooluse_ZZNyTclsQVml9Qaz4Lp67g",
                        "status": "success",
                        "content": [
                            {
                                "text": "Recommended version for 'com.google.guava:guava': 23.0"
                            }
                        ]
                    }
                },
                {
                    "toolResult": {
                        "toolUseId": "tooluse_VZXEDCebR0euJIRqOXXYSA",
                        "status": "success",
                        "content": [
                            {
                                "text": "Recommended version for 'com.squareup.okhttp3:okhttp': 4.12.0"
                            }
                        ]
                    }
                },
                {
                    "toolResult": {
                        "toolUseId": "tooluse_EpmquDdSRcywhcAzZp7gBg",
                        "status": "success",
                        "content": [
                            {
                                "text": "No version information found for 'org.jetbrains.kotlin:kotlin-reflect'. You may need to search online for the latest Java 17 compatible version."
                            }
                        ]
                    }
                },
                {
                    "toolResult": {
                        "toolUseId": "tooluse_mxY61b39RHGm9ao47f_vCA",
                        "status": "success",
                        "content": [
                            {
                                "text": "No version information found for 'org.jacoco:jacoco-maven-plugin'. You may need to search online for the latest Java 17 compatible version."
                            }
                        ]
                    }
                }
            ]
        },
        {
            "role": "assistant",
            "content": [
                {
                    "text": "Now let me update the pom.xml file with Java 17 and compatible dependency versions. I'll use Spring Boot 3.3.4, but note that the recommended Guava version (23.0) seems outdated - I'll use a more recent one (32.1.3-jre) which is compatible with Java 17:"
                },
                {
                    "toolUse": {
                        "toolUseId": "tooluse_AgGWrBQ6QIe1Wc_8OCW-Dw",
                        "name": "editor",
                        "input": {
                            "command": "str_replace",
                            "path": "/tmp/workdir/search_strands_20260128/poli/pom.xml",
                            "old_str": "    <properties>\n        <java.version>1.8</java.version>\n        <maven.compiler.source>1.8</maven.compiler.source>\n        <maven.compiler.target>1.8</maven.compiler.target>\n        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>\n        <project.reporting.outputEncoding>UTF-8</project.reporting.outputEncoding>\n    </properties>",
                            "new_str": "    <properties>\n        <java.version>17</java.version>\n        <maven.compiler.source>17</maven.compiler.source>\n        <maven.compiler.target>17</maven.compiler.target>\n        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>\n        <project.reporting.outputEncoding>UTF-8</project.reporting.outputEncoding>\n    </properties>"
                        }
                    }
                }
            ]
        },
        {
            "role": "user",
            "content": [
                {
                    "toolResult": {
                        "status": "success",
                        "content": [
                            {
                                "text": "Text replacement complete and details displayed in console.\nFile: /tmp/workdir/search_strands_20260128/poli/pom.xml\nReplaced 1 occurrence\nOld string:     <properties>\n        <java.version>1.8</java.version>\n        <maven.compiler.source>1.8</maven.compiler.source>\n        <maven.compiler.target>1.8</maven.compiler.target>\n        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>\n        <project.reporting.outputEncoding>UTF-8</project.reporting.outputEncoding>\n    </properties>\nNew string:     <properties>\n        <java.version>17</java.version>\n        <maven.compiler.source>17</maven.compiler.source>\n        <maven.compiler.target>17</maven.compiler.target>\n        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>\n        <project.reporting.outputEncoding>UTF-8</project.reporting.outputEncoding>\n    </properties>\n"
                            }
                        ],
                        "toolUseId": "tooluse_AgGWrBQ6QIe1Wc_8OCW-Dw"
                    }
                }
            ]
        },
        {
            "role": "assistant",
            "content": [
                {
                    "toolUse": {
                        "toolUseId": "tooluse_mKTJm0fmQXi-833J3hMB5A",
                        "name": "editor",
                        "input": {
                            "command": "str_replace",
                            "path": "/tmp/workdir/search_strands_20260128/poli/pom.xml",
                            "old_str": "    <parent>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>spring-boot-starter-parent</artifactId>\n        <version>2.2.6.RELEASE</version>\n    </parent>",
                            "new_str": "    <parent>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>spring-boot-starter-parent</artifactId>\n        <version>3.3.4</version>\n    </parent>"
                        }
                    }
                }
            ]
        },
        {
            "role": "user",
            "content": [
                {
                    "toolResult": {
                        "status": "success",
                        "content": [
                            {
                                "text": "Text replacement complete and details displayed in console.\nFile: /tmp/workdir/search_strands_20260128/poli/pom.xml\nReplaced 1 occurrence\nOld string:     <parent>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>spring-boot-starter-parent</artifactId>\n        <version>2.2.6.RELEASE</version>\n    </parent>\nNew string:     <parent>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>spring-boot-starter-parent</artifactId>\n        <version>3.3.4</version>\n    </parent>\n"
                            }
                        ],
                        "toolUseId": "tooluse_mKTJm0fmQXi-833J3hMB5A"
                    }
                }
            ]
        },
        {
            "role": "assistant",
            "content": [
                {
                    "toolUse": {
                        "toolUseId": "tooluse_MBOi9OpBQp-Y5b3OJ6aN6A",
                        "name": "editor",
                        "input": {
                            "command": "str_replace",
                            "new_str": "        <!-- https://mvnrepository.com/artifact/com.zaxxer/HikariCP -->\n        <dependency>\n            <groupId>com.zaxxer</groupId>\n            <artifactId>HikariCP</artifactId>\n            <version>6.0.0</version>\n        </dependency>",
                            "old_str": "        <!-- https://mvnrepository.com/artifact/com.zaxxer/HikariCP -->\n        <dependency>\n            <groupId>com.zaxxer</groupId>\n            <artifactId>HikariCP</artifactId>\n            <version>3.3.1</version>\n        </dependency>",
                            "path": "/tmp/workdir/search_strands_20260128/poli/pom.xml"
                        }
                    }
                }
            ]
        },
        {
            "role": "user",
            "content": [
                {
                    "toolResult": {
                        "status": "success",
                        "content": [
                            {
                                "text": "Text replacement complete and details displayed in console.\nFile: /tmp/workdir/search_strands_20260128/poli/pom.xml\nReplaced 1 occurrence\nOld string:         <!-- https://mvnrepository.com/artifact/com.zaxxer/HikariCP -->\n        <dependency>\n            <groupId>com.zaxxer</groupId>\n            <artifactId>HikariCP</artifactId>\n            <version>3.3.1</version>\n        </dependency>\nNew string:         <!-- https://mvnrepository.com/artifact/com.zaxxer/HikariCP -->\n        <dependency>\n            <groupId>com.zaxxer</groupId>\n            <artifactId>HikariCP</artifactId>\n            <version>6.0.0</version>\n        </dependency>\n"
                            }
                        ],
                        "toolUseId": "tooluse_MBOi9OpBQp-Y5b3OJ6aN6A"
                    }
                }
            ]
        },
        {
            "role": "assistant",
            "content": [
                {
                    "toolUse": {
                        "toolUseId": "tooluse_ZV8oPMxrQnmpu9gRKvO0gQ",
                        "name": "editor",
                        "input": {
                            "command": "str_replace",
                            "new_str": "        <!-- https://mvnrepository.com/artifact/org.xerial/sqlite-jdbc -->\n        <dependency>\n            <groupId>org.xerial</groupId>\n            <artifactId>sqlite-jdbc</artifactId>\n            <version>3.46.1.0</version>\n        </dependency>",
                            "old_str": "        <!-- https://mvnrepository.com/artifact/org.xerial/sqlite-jdbc -->\n        <dependency>\n            <groupId>org.xerial</groupId>\n            <artifactId>sqlite-jdbc</artifactId>\n            <version>3.25.2</version>\n        </dependency>",
                            "path": "/tmp/workdir/search_strands_20260128/poli/pom.xml"
                        }
                    }
                }
            ]
        },
        {
            "role": "user",
            "content": [
                {
                    "toolResult": {
                        "status": "success",
                        "content": [
                            {
                                "text": "Text replacement complete and details displayed in console.\nFile: /tmp/workdir/search_strands_20260128/poli/pom.xml\nReplaced 1 occurrence\nOld string:         <!-- https://mvnrepository.com/artifact/org.xerial/sqlite-jdbc -->\n        <dependency>\n            <groupId>org.xerial</groupId>\n            <artifactId>sqlite-jdbc</artifactId>\n            <version>3.25.2</version>\n        </dependency>\nNew string:         <!-- https://mvnrepository.com/artifact/org.xerial/sqlite-jdbc -->\n        <dependency>\n            <groupId>org.xerial</groupId>\n            <artifactId>sqlite-jdbc</artifactId>\n            <version>3.46.1.0</version>\n        </dependency>\n"
                            }
                        ],
                        "toolUseId": "tooluse_ZV8oPMxrQnmpu9gRKvO0gQ"
                    }
                }
            ]
        },
        {
            "role": "assistant",
            "content": [
                {
                    "toolUse": {
                        "toolUseId": "tooluse_mxS2OUprQOCvBYEMkUBrSA",
                        "name": "editor",
                        "input": {
                            "command": "str_replace",
                            "new_str": "        <!-- https://mvnrepository.com/artifact/com.google.guava/guava -->\n        <dependency>\n            <groupId>com.google.guava</groupId>\n            <artifactId>guava</artifactId>\n            <version>32.1.3-jre</version>\n        </dependency>",
                            "old_str": "        <!-- https://mvnrepository.com/artifact/com.google.guava/guava -->\n        <dependency>\n            <groupId>com.google.guava</groupId>\n            <artifactId>guava</artifactId>\n            <version>27.0.1-jre</version>\n        </dependency>",
                            "path": "/tmp/workdir/search_strands_20260128/poli/pom.xml"
                        }
                    }
                }
            ]
        },
        {
            "role": "user",
            "content": [
                {
                    "toolResult": {
                        "status": "success",
                        "content": [
                            {
                                "text": "Text replacement complete and details displayed in console.\nFile: /tmp/workdir/search_strands_20260128/poli/pom.xml\nReplaced 1 occurrence\nOld string:         <!-- https://mvnrepository.com/artifact/com.google.guava/guava -->\n        <dependency>\n            <groupId>com.google.guava</groupId>\n            <artifactId>guava</artifactId>\n            <version>27.0.1-jre</version>\n        </dependency>\nNew string:         <!-- https://mvnrepository.com/artifact/com.google.guava/guava -->\n        <dependency>\n            <groupId>com.google.guava</groupId>\n            <artifactId>guava</artifactId>\n            <version>32.1.3-jre</version>\n        </dependency>\n"
                            }
                        ],
                        "toolUseId": "tooluse_mxS2OUprQOCvBYEMkUBrSA"
                    }
                }
            ]
        },
        {
            "role": "assistant",
            "content": [
                {
                    "toolUse": {
                        "toolUseId": "tooluse_VA8D8aY8Reiete1wBAiq8Q",
                        "name": "editor",
                        "input": {
                            "command": "str_replace",
                            "new_str": "        <!-- https://mvnrepository.com/artifact/com.squareup.okhttp3/okhttp -->\n        <dependency>\n            <groupId>com.squareup.okhttp3</groupId>\n            <artifactId>okhttp</artifactId>\n            <version>4.12.0</version>\n        </dependency>",
                            "old_str": "        <!-- https://mvnrepository.com/artifact/com.squareup.okhttp3/okhttp -->\n        <dependency>\n            <groupId>com.squareup.okhttp3</groupId>\n            <artifactId>okhttp</artifactId>\n            <version>4.2.0</version>\n        </dependency>",
                            "path": "/tmp/workdir/search_strands_20260128/poli/pom.xml"
                        }
                    }
                }
            ]
        },
        {
            "role": "user",
            "content": [
                {
                    "toolResult": {
                        "status": "success",
                        "content": [
                            {
                                "text": "Text replacement complete and details displayed in console.\nFile: /tmp/workdir/search_strands_20260128/poli/pom.xml\nReplaced 1 occurrence\nOld string:         <!-- https://mvnrepository.com/artifact/com.squareup.okhttp3/okhttp -->\n        <dependency>\n            <groupId>com.squareup.okhttp3</groupId>\n            <artifactId>okhttp</artifactId>\n            <version>4.2.0</version>\n        </dependency>\nNew string:         <!-- https://mvnrepository.com/artifact/com.squareup.okhttp3/okhttp -->\n        <dependency>\n            <groupId>com.squareup.okhttp3</groupId>\n            <artifactId>okhttp</artifactId>\n            <version>4.12.0</version>\n        </dependency>\n"
                            }
                        ],
                        "toolUseId": "tooluse_VA8D8aY8Reiete1wBAiq8Q"
                    }
                }
            ]
        },
        {
            "role": "assistant",
            "content": [
                {
                    "toolUse": {
                        "toolUseId": "tooluse_XeqcxRX1QNWQ0MmBjAQYrg",
                        "name": "editor",
                        "input": {
                            "command": "str_replace",
                            "new_str": "        <!-- https://mvnrepository.com/artifact/org.jetbrains.kotlin/kotlin-reflect -->\n        <dependency>\n            <groupId>org.jetbrains.kotlin</groupId>\n            <artifactId>kotlin-reflect</artifactId>\n            <version>1.9.25</version>\n        </dependency>",
                            "old_str": "        <!-- https://mvnrepository.com/artifact/org.jetbrains.kotlin/kotlin-reflect -->\n        <dependency>\n            <groupId>org.jetbrains.kotlin</groupId>\n            <artifactId>kotlin-reflect</artifactId>\n            <version>1.3.61</version>\n        </dependency>",
                            "path": "/tmp/workdir/search_strands_20260128/poli/pom.xml"
                        }
                    }
                }
            ]
        },
        {
            "role": "user",
            "content": [
                {
                    "toolResult": {
                        "status": "success",
                        "content": [
                            {
                                "text": "Text replacement complete and details displayed in console.\nFile: /tmp/workdir/search_strands_20260128/poli/pom.xml\nReplaced 1 occurrence\nOld string:         <!-- https://mvnrepository.com/artifact/org.jetbrains.kotlin/kotlin-reflect -->\n        <dependency>\n            <groupId>org.jetbrains.kotlin</groupId>\n            <artifactId>kotlin-reflect</artifactId>\n            <version>1.3.61</version>\n        </dependency>\nNew string:         <!-- https://mvnrepository.com/artifact/org.jetbrains.kotlin/kotlin-reflect -->\n        <dependency>\n            <groupId>org.jetbrains.kotlin</groupId>\n            <artifactId>kotlin-reflect</artifactId>\n            <version>1.9.25</version>\n        </dependency>\n"
                            }
                        ],
                        "toolUseId": "tooluse_XeqcxRX1QNWQ0MmBjAQYrg"
                    }
                }
            ]
        },
        {
            "role": "assistant",
            "content": [
                {
                    "toolUse": {
                        "toolUseId": "tooluse_yHS1TksVRzWX9RwE-2q2Zw",
                        "name": "editor",
                        "input": {
                            "command": "str_replace",
                            "new_str": "            <plugin>\n                <groupId>org.jacoco</groupId>\n                <artifactId>jacoco-maven-plugin</artifactId>\n                <version>0.8.12</version>\n                <executions>\n                    <execution>\n                        <id>prepare-agent</id>\n                        <goals>\n                            <goal>prepare-agent</goal>\n                        </goals>\n                    </execution>\n                    <execution>\n                        <id>report</id>\n                        <phase>prepare-package</phase>\n                        <goals>\n                            <goal>report</goal>\n                        </goals>\n                    </execution>\n                    <execution>\n                        <id>post-unit-test</id>\n                        <phase>test</phase>\n                        <goals>\n                            <goal>report</goal>\n                        </goals>\n                        <configuration>\n                            <dataFile>target/jacoco.exec</dataFile>\n                            <outputDirectory>target/my-reports</outputDirectory>\n                        </configuration>\n                    </execution>\n                </executions>\n            </plugin>",
                            "old_str": "            <plugin>\n                <groupId>org.jacoco</groupId>\n                <artifactId>jacoco-maven-plugin</artifactId>\n                <version>0.8.3</version>\n                <executions>\n                    <execution>\n                        <id>prepare-agent</id>\n                        <goals>\n                            <goal>prepare-agent</goal>\n                        </goals>\n                    </execution>\n                    <execution>\n                        <id>report</id>\n                        <phase>prepare-package</phase>\n                        <goals>\n                            <goal>report</goal>\n                        </goals>\n                    </execution>\n                    <execution>\n                        <id>post-unit-test</id>\n                        <phase>test</phase>\n                        <goals>\n                            <goal>report</goal>\n                        </goals>\n                        <configuration>\n                            <dataFile>target/jacoco.exec</dataFile>\n                            <outputDirectory>target/my-reports</outputDirectory>\n                        </configuration>\n                    </execution>\n                </executions>\n            </plugin>",
                            "path": "/tmp/workdir/search_strands_20260128/poli/pom.xml"
                        }
                    }
                }
            ]
        },
        {
            "role": "user",
            "content": [
                {
                    "toolResult": {
                        "status": "success",
                        "content": [
                            {
                                "text": "Text replacement complete and details displayed in console.\nFile: /tmp/workdir/search_strands_20260128/poli/pom.xml\nReplaced 1 occurrence\nOld string:             <plugin>\n                <groupId>org.jacoco</groupId>\n                <artifactId>jacoco-maven-plugin</artifactId>\n                <version>0.8.3</version>\n                <executions>\n                    <execution>\n                        <id>prepare-agent</id>\n                        <goals>\n                            <goal>prepare-agent</goal>\n                        </goals>\n                    </execution>\n                    <execution>\n                        <id>report</id>\n                        <phase>prepare-package</phase>\n                        <goals>\n                            <goal>report</goal>\n                        </goals>\n                    </execution>\n                    <execution>\n                        <id>post-unit-test</id>\n                        <phase>test</phase>\n                        <goals>\n                            <goal>report</goal>\n                        </goals>\n                        <configuration>\n                            <dataFile>target/jacoco.exec</dataFile>\n                            <outputDirectory>target/my-reports</outputDirectory>\n                        </configuration>\n                    </execution>\n                </executions>\n            </plugin>\nNew string:             <plugin>\n                <groupId>org.jacoco</groupId>\n                <artifactId>jacoco-maven-plugin</artifactId>\n                <version>0.8.12</version>\n                <executions>\n                    <execution>\n                        <id>prepare-agent</id>\n                        <goals>\n                            <goal>prepare-agent</goal>\n                        </goals>\n                    </execution>\n                    <execution>\n                        <id>report</id>\n                        <phase>prepare-package</phase>\n                        <goals>\n                            <goal>report</goal>\n                        </goals>\n                    </execution>\n                    <execution>\n                        <id>post-unit-test</id>\n                        <phase>test</phase>\n                        <goals>\n                            <goal>report</goal>\n                        </goals>\n                        <configuration>\n                            <dataFile>target/jacoco.exec</dataFile>\n                            <outputDirectory>target/my-reports</outputDirectory>\n                        </configuration>\n                    </execution>\n                </executions>\n            </plugin>\n"
                            }
                        ],
                        "toolUseId": "tooluse_yHS1TksVRzWX9RwE-2q2Zw"
                    }
                }
            ]
        },
        {
            "role": "assistant",
            "content": [
                {
                    "text": "Now let's view the updated pom.xml to confirm all changes:"
                },
                {
                    "toolUse": {
                        "toolUseId": "tooluse_HoIEs4mFT3qKpMCg9wSNZQ",
                        "name": "editor",
                        "input": {
                            "command": "view",
                            "path": "/tmp/workdir/search_strands_20260128/poli/pom.xml"
                        }
                    }
                }
            ]
        },
        {
            "role": "user",
            "content": [
                {
                    "toolResult": {
                        "status": "success",
                        "content": [
                            {
                                "text": "File content displayed in console.\nContent: <project xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\">\n    <modelVersion>4.0.0</modelVersion>\n    <groupId>com.shzlw.poli</groupId>\n    <artifactId>poli</artifactId>\n    <packaging>jar</packaging>\n    <version>0.12.2</version>\n    <name>Poli</name>\n    <description>The SQL BI tool</description>\n\n    <properties>\n        <java.version>17</java.version>\n        <maven.compiler.source>17</maven.compiler.source>\n        <maven.compiler.target>17</maven.compiler.target>\n        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>\n        <project.reporting.outputEncoding>UTF-8</project.reporting.outputEncoding>\n    </properties>\n\n    <parent>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>spring-boot-starter-parent</artifactId>\n        <version>3.3.4</version>\n    </parent>\n\n    <dependencies>\n\n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-web</artifactId>\n        </dependency>\n\n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-test</artifactId>\n        </dependency>\n\n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-tomcat</artifactId>\n        </dependency>\n\n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-jdbc</artifactId>\n        </dependency>\n\n        <!-- https://mvnrepository.com/artifact/com.zaxxer/HikariCP -->\n        <dependency>\n            <groupId>com.zaxxer</groupId>\n            <artifactId>HikariCP</artifactId>\n            <version>6.0.0</version>\n        </dependency>\n\n        <!-- https://mvnrepository.com/artifact/org.xerial/sqlite-jdbc -->\n        <dependency>\n            <groupId>org.xerial</groupId>\n            <artifactId>sqlite-jdbc</artifactId>\n            <version>3.46.1.0</version>\n        </dependency>\n\n        <!-- https://mvnrepository.com/artifact/com.google.guava/guava -->\n        <dependency>\n            <groupId>com.google.guava</groupId>\n            <artifactId>guava</artifactId>\n            <version>32.1.3-jre</version>\n        </dependency>\n\n        <!-- https://mvnrepository.com/artifact/com.squareup.okhttp3/okhttp -->\n        <dependency>\n            <groupId>com.squareup.okhttp3</groupId>\n            <artifactId>okhttp</artifactId>\n            <version>4.12.0</version>\n        </dependency>\n\n        <!-- https://mvnrepository.com/artifact/org.jetbrains.kotlin/kotlin-reflect -->\n        <dependency>\n            <groupId>org.jetbrains.kotlin</groupId>\n            <artifactId>kotlin-reflect</artifactId>\n            <version>1.9.25</version>\n        </dependency>\n\n\n    </dependencies>\n\n    <build>\n        <plugins>\n            <plugin>\n                <groupId>org.springframework.boot</groupId>\n                <artifactId>spring-boot-maven-plugin</artifactId>\n                <configuration>\n                    <layout>ZIP</layout>\n                </configuration>\n            </plugin>\n            <plugin>\n                <groupId>org.jacoco</groupId>\n                <artifactId>jacoco-maven-plugin</artifactId>\n                <version>0.8.12</version>\n                <executions>\n                    <execution>\n                        <id>prepare-agent</id>\n                        <goals>\n                            <goal>prepare-agent</goal>\n                        </goals>\n                    </execution>\n                    <execution>\n                        <id>report</id>\n                        <phase>prepare-package</phase>\n                        <goals>\n                            <goal>report</goal>\n                        </goals>\n                    </execution>\n                    <execution>\n                        <id>post-unit-test</id>\n                        <phase>test</phase>\n                        <goals>\n                            <goal>report</goal>\n                        </goals>\n                        <configuration>\n                            <dataFile>target/jacoco.exec</dataFile>\n                            <outputDirectory>target/my-reports</outputDirectory>\n                        </configuration>\n                    </execution>\n                </executions>\n            </plugin>\n        </plugins>\n    </build>\n\n</project>"
                            }
                        ],
                        "toolUseId": "tooluse_HoIEs4mFT3qKpMCg9wSNZQ"
                    }
                }
            ]
        },
        {
            "role": "assistant",
            "content": [
                {
                    "text": "Good! Now let's check if there are any Java source files that need to be updated for Java 17 compatibility. Since we're upgrading from Spring Boot 2.x to 3.x, we need to check for javax.* package references that need to be changed to jakarta.*:"
                },
                {
                    "toolUse": {
                        "toolUseId": "tooluse_XUJhU5S9QHKQILBkyYr6_w",
                        "name": "restricted_shell",
                        "input": {
                            "command": "cd /tmp/workdir/search_strands_20260128/poli && grep -r \"import javax\\.\" src/ --include=\"*.java\" | head -30"
                        }
                    }
                }
            ]
        },
        {
            "role": "user",
            "content": [
                {
                    "toolResult": {
                        "toolUseId": "tooluse_XUJhU5S9QHKQILBkyYr6_w",
                        "status": "success",
                        "content": [
                            {
                                "text": "src/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:import javax.servlet.http.HttpServletRequest;\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:import javax.servlet.http.Cookie;\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:import javax.servlet.FilterChain;\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:import javax.servlet.FilterConfig;\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:import javax.servlet.ServletException;\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:import javax.servlet.http.Cookie;\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:import javax.servlet.http.HttpServletRequest;\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:import javax.servlet.http.HttpServletResponse;\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:import javax.servlet.http.HttpServletRequest;\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:import javax.servlet.http.Cookie;\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:import javax.servlet.http.HttpServletResponse;\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:import javax.sql.DataSource;\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:import javax.servlet.http.HttpServletRequest;\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:import javax.sql.DataSource;\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:import javax.servlet.http.HttpServletRequest;\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:import javax.servlet.http.HttpServletRequest;\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:import javax.sql.DataSource;\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:import javax.servlet.http.HttpServletRequest;\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:import javax.servlet.http.HttpServletRequest;\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:import javax.servlet.http.HttpServletRequest;\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:import javax.servlet.*;\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:import javax.servlet.http.HttpServletRequest;\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:import javax.servlet.http.HttpServletResponse;\nsrc/main/java/com/shzlw/poli/service/AuditLogService.java:import javax.servlet.http.HttpServletRequest;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:import javax.annotation.PostConstruct;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:import javax.sql.DataSource;\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:import javax.annotation.PostConstruct;\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:import javax.annotation.PreDestroy;\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:import javax.sql.DataSource;\nsrc/main/java/com/shzlw/poli/util/HttpUtils.java:import javax.servlet.http.Cookie;\n"
                            }
                        ]
                    }
                }
            ]
        },
        {
            "role": "assistant",
            "content": [
                {
                    "text": "Perfect! I found the imports that need to be changed. In Spring Boot 3.x (which requires Java 17+), `javax.*` packages have been migrated to `jakarta.*`. Let me identify all the files and replace the imports:"
                },
                {
                    "toolUse": {
                        "toolUseId": "tooluse_URmJseWjTUqXTUaAczBwZQ",
                        "name": "restricted_shell",
                        "input": {
                            "command": "cd /tmp/workdir/search_strands_20260128/poli && find src/ -name \"*.java\" -exec grep -l \"import javax\\.\" {} \\;"
                        }
                    }
                }
            ]
        },
        {
            "role": "user",
            "content": [
                {
                    "toolResult": {
                        "toolUseId": "tooluse_URmJseWjTUqXTUaAczBwZQ",
                        "status": "success",
                        "content": [
                            {
                                "text": "src/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java\nsrc/main/java/com/shzlw/poli/rest/UserWs.java\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java\nsrc/main/java/com/shzlw/poli/service/AuditLogService.java\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java\nsrc/main/java/com/shzlw/poli/util/HttpUtils.java\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java\n"
                            }
                        ]
                    }
                }
            ]
        },
        {
            "role": "assistant",
            "content": [
                {
                    "text": "Let me use a find and replace script to update all javax imports to jakarta:"
                },
                {
                    "toolUse": {
                        "toolUseId": "tooluse_1ZJvW1EVTVqxs6cYAj5XNQ",
                        "name": "restricted_shell",
                        "input": {
                            "command": "cd /tmp/workdir/search_strands_20260128/poli && find src/ -name \"*.java\" -type f -exec sed -i 's/import javax\\.servlet\\./import jakarta.servlet./g' {} \\;"
                        }
                    }
                }
            ]
        },
        {
            "role": "user",
            "content": [
                {
                    "toolResult": {
                        "toolUseId": "tooluse_1ZJvW1EVTVqxs6cYAj5XNQ",
                        "status": "success",
                        "content": [
                            {
                                "text": "(no output)"
                            }
                        ]
                    }
                }
            ]
        },
        {
            "role": "assistant",
            "content": [
                {
                    "toolUse": {
                        "toolUseId": "tooluse_8XyYflgsQLq6y-0-eTPUrA",
                        "name": "restricted_shell",
                        "input": {
                            "command": "cd /tmp/workdir/search_strands_20260128/poli && find src/ -name \"*.java\" -type f -exec sed -i 's/import javax\\.annotation\\./import jakarta.annotation./g' {} \\;"
                        }
                    }
                }
            ]
        },
        {
            "role": "user",
            "content": [
                {
                    "toolResult": {
                        "toolUseId": "tooluse_8XyYflgsQLq6y-0-eTPUrA",
                        "status": "success",
                        "content": [
                            {
                                "text": "(no output)"
                            }
                        ]
                    }
                }
            ]
        },
        {
            "role": "assistant",
            "content": [
                {
                    "text": "Now let's verify the changes worked:"
                },
                {
                    "toolUse": {
                        "toolUseId": "tooluse_nxweL3wDTl2hsz_op8J6zA",
                        "name": "restricted_shell",
                        "input": {
                            "command": "cd /tmp/workdir/search_strands_20260128/poli && grep -r \"import javax\\.\" src/ --include=\"*.java\" | grep -v \"javax.sql\" | head -10"
                        }
                    }
                }
            ]
        },
        {
            "role": "user",
            "content": [
                {
                    "toolResult": {
                        "toolUseId": "tooluse_nxweL3wDTl2hsz_op8J6zA",
                        "status": "success",
                        "content": [
                            {
                                "text": "src/main/java/com/shzlw/poli/util/PasswordUtils.java:import javax.crypto.Cipher;\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:import javax.crypto.spec.IvParameterSpec;\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:import javax.crypto.spec.SecretKeySpec;\n"
                            }
                        ]
                    }
                }
            ]
        },
        {
            "role": "assistant",
            "content": [
                {
                    "text": "Good! The javax.crypto package is part of the JDK itself and doesn't need to be changed. Let's also check that javax.sql (also part of JDK) is still there:"
                },
                {
                    "toolUse": {
                        "toolUseId": "tooluse_Pum2YWUcS6-WEunrCKd05w",
                        "name": "restricted_shell",
                        "input": {
                            "command": "cd /tmp/workdir/search_strands_20260128/poli && grep -r \"import javax\\.sql\\.\" src/ --include=\"*.java\" | head -5"
                        }
                    }
                }
            ]
        },
        {
            "role": "user",
            "content": [
                {
                    "toolResult": {
                        "toolUseId": "tooluse_Pum2YWUcS6-WEunrCKd05w",
                        "status": "success",
                        "content": [
                            {
                                "text": "src/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:import javax.sql.DataSource;\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:import javax.sql.DataSource;\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:import javax.sql.DataSource;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:import javax.sql.DataSource;\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:import javax.sql.DataSource;\n"
                            }
                        ]
                    }
                }
            ]
        },
        {
            "role": "assistant",
            "content": [
                {
                    "text": "Perfect! javax.sql.DataSource is part of the Java SE API and should remain as javax. Let's verify a few of the changed files:"
                },
                {
                    "toolUse": {
                        "toolUseId": "tooluse_Lqf1zm9QRPKCnYlfNGwbog",
                        "name": "restricted_shell",
                        "input": {
                            "command": "cd /tmp/workdir/search_strands_20260128/poli && head -20 src/main/java/com/shzlw/poli/filter/AuthFilter.java"
                        }
                    }
                }
            ]
        },
        {
            "role": "user",
            "content": [
                {
                    "toolResult": {
                        "toolUseId": "tooluse_Lqf1zm9QRPKCnYlfNGwbog",
                        "status": "success",
                        "content": [
                            {
                                "text": "package com.shzlw.poli.filter;\n\nimport com.shzlw.poli.dto.SharedLinkInfo;\nimport com.shzlw.poli.model.User;\nimport com.shzlw.poli.service.SharedReportService;\nimport com.shzlw.poli.service.UserService;\nimport com.shzlw.poli.util.Constants;\nimport com.shzlw.poli.util.HttpUtils;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.core.annotation.Order;\nimport org.springframework.stereotype.Component;\n\nimport jakarta.servlet.*;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\nimport java.io.IOException;\nimport java.util.Set;\n\n"
                            }
                        ]
                    }
                }
            ]
        },
        {
            "role": "assistant",
            "content": [
                {
                    "text": "Excellent! The jakarta imports are in place. Now let's check if there are any additional code compatibility issues. Let me look at one of the service files:"
                },
                {
                    "toolUse": {
                        "toolUseId": "tooluse_jevnaIaMTsip6oq23zigkg",
                        "name": "restricted_shell",
                        "input": {
                            "command": "cd /tmp/workdir/search_strands_20260128/poli && head -30 src/main/java/com/shzlw/poli/service/JdbcDataSourceService.java"
                        }
                    }
                }
            ]
        },
        {
            "role": "user",
            "content": [
                {
                    "toolResult": {
                        "toolUseId": "tooluse_jevnaIaMTsip6oq23zigkg",
                        "status": "success",
                        "content": [
                            {
                                "text": "package com.shzlw.poli.service;\n\nimport com.google.common.cache.Cache;\nimport com.google.common.cache.CacheBuilder;\nimport com.google.common.cache.CacheLoader;\nimport com.google.common.cache.RemovalListener;\nimport com.shzlw.poli.config.AppProperties;\nimport com.shzlw.poli.dao.JdbcDataSourceDao;\nimport com.shzlw.poli.model.JdbcDataSource;\nimport com.zaxxer.hikari.HikariDataSource;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\nimport org.springframework.util.StringUtils;\n\nimport jakarta.annotation.PostConstruct;\nimport jakarta.annotation.PreDestroy;\nimport javax.sql.DataSource;\nimport java.util.concurrent.ExecutionException;\nimport java.util.concurrent.TimeUnit;\n\n@Service\npublic class JdbcDataSourceService {\n\n    // 10 seconds\n    private static final int LEAK_DETECTION_THRESHOLD = 10000;\n\n    /**\n     * Key: JdbcDataSource id\n     * Value: HikariDataSource\n     */\n"
                            }
                        ]
                    }
                }
            ]
        },
        {
            "role": "assistant",
            "content": [
                {
                    "text": "Perfect! Now let's try to compile and test the project:"
                },
                {
                    "toolUse": {
                        "toolUseId": "tooluse_sNO7Yw3yS4iPJlG8RsUENg",
                        "name": "restricted_shell",
                        "input": {
                            "command": "cd /tmp/workdir/search_strands_20260128/poli && mvn clean compile 2>&1 | tail -50"
                        }
                    }
                }
            ]
        },
        {
            "role": "user",
            "content": [
                {
                    "toolResult": {
                        "toolUseId": "tooluse_sNO7Yw3yS4iPJlG8RsUENg",
                        "status": "success",
                        "content": [
                            {
                                "text": "[INFO] Scanning for projects...\n[INFO] \n[INFO] ------------------------< com.shzlw.poli:poli >-------------------------\n[INFO] Building Poli 0.12.2\n[INFO]   from pom.xml\n[INFO] --------------------------------[ jar ]---------------------------------\nDownloading from central: https://repo.maven.apache.org/maven2/org/xerial/sqlite-jdbc/3.46.1.0/sqlite-jdbc-3.46.1.0.pom\nProgress (1): 1.0 kB\nProgress (1): 3.2 kB\nProgress (1): 6.5 kB\nProgress (1): 10 kB \nProgress (1): 13 kB\nProgress (1): 16 kB\nProgress (1): 19 kB\n                   \nDownloaded from central: https://repo.maven.apache.org/maven2/org/xerial/sqlite-jdbc/3.46.1.0/sqlite-jdbc-3.46.1.0.pom (19 kB at 81 kB/s)\nDownloading from central: https://repo.maven.apache.org/maven2/org/xerial/sqlite-jdbc/3.46.1.0/sqlite-jdbc-3.46.1.0.jar\nProgress (1): 0/14 MB\nProgress (1): 0/14 MB\nProgress (1): 0/14 MB\nProgress (1): 0/14 MB\nProgress (1): 0/14 MB\nProgress (1): 0/14 MB\nProgress (1): 0/14 MB\nProgress (1): 0/14 MB\nProgress (1): 0/14 MB\nProgress (1): 0/14 MB\nProgress (1): 0/14 MB\nProgress (1): 0/14 MB\nProgress (1): 0/14 MB\nProgress (1): 0/14 MB\nProgress (1): 0/14 MB\nProgress (1): 0/14 MB\nProgress (1): 0/14 MB\nProgress (1): 0/14 MB\nProgress (1): 0/14 MB\nProgress (1): 0/14 MB\nProgress (1): 0/14 MB\nProgress (1): 0/14 MB\nProgress (1): 0/14 MB\nProgress (1): 0/14 MB\nProgress (1): 0/14 MB\nProgress (1): 0/14 MB\nProgress (1): 0/14 MB\nProgress (1): 0/14 MB\nProgress (1): 0/14 MB\nProgress (1): 0/14 MB\nProgress (1): 0/14 MB\nProgress (1): 0/14 MB\nProgress (1): 0/14 MB\nProgress (1): 0/14 MB\nProgress (1): 0/14 MB\nProgress (1): 0/14 MB\nProgress (1): 0.1/14 MB\nProgress (1): 0.1/14 MB\nProgress (1): 0.1/14 MB\nProgress (1): 0.1/14 MB\nProgress (1): 0.1/14 MB\nProgress (1): 0.1/14 MB\nProgress (1): 0.1/14 MB\nProgress (1): 0.1/14 MB\nProgress (1): 0.1/14 MB\nProgress (1): 0.1/14 MB\nProgress (1): 0.1/14 MB\nProgress (1): 0.1/14 MB\nProgress (1): 0.1/14 MB\nProgress (1): 0.1/14 MB\nProgress (1): 0.1/14 MB\nProgress (1): 0.1/14 MB\nProgress (1): 0.1/14 MB\nProgress (1): 0.1/14 MB\nProgress (1): 0.1/14 MB\nProgress (1): 0.1/14 MB\nProgress (1): 0.1/14 MB\nProgress (1): 0.1/14 MB\nProgress (1): 0.1/14 MB\nProgress (1): 0.1/14 MB\nProgress (1): 0.2/14 MB\nProgress (1): 0.2/14 MB\nProgress (1): 0.2/14 MB\nProgress (1): 0.2/14 MB\nProgress (1): 0.2/14 MB\nProgress (1): 0.2/14 MB\nProgress (1): 0.2/14 MB\nProgress (1): 0.2/14 MB\nProgress (1): 0.2/14 MB\nProgress (1): 0.2/14 MB\nProgress (1): 0.2/14 MB\nProgress (1): 0.2/14 MB\nProgress (1): 0.2/14 MB\nProgress (1): 0.2/14 MB\nProgress (1): 0.2/14 MB\nProgress (1): 0.2/14 MB\nProgress (1): 0.2/14 MB\nProgress (1): 0.2/14 MB\nProgress (1): 0.3/14 MB\nProgress (1): 0.3/14 MB\nProgress (1): 0.3/14 MB\nProgress (1): 0.3/14 MB\nProgress (1): 0.3/14 MB\nProgress (1): 0.3/14 MB\nProgress (1): 0.4/14 MB\nProgress (1): 0.4/14 MB\nProgress (1): 0.4/14 MB\nProgress (1): 0.4/14 MB\nProgress (1): 0.4/14 MB\nProgress (1): 0.4/14 MB\nProgress (1): 0.4/14 MB\nProgress (1): 0.5/14 MB\nProgress (1): 0.5/14 MB\nProgress (1): 0.5/14 MB\nProgress (1): 0.5/14 MB\nProgress (1): 0.5/14 MB\nProgress (1): 0.5/14 MB\nProgress (1): 0.6/14 MB\nProgress (1): 0.6/14 MB\nProgress (1): 0.6/14 MB\nProgress (1): 0.6/14 MB\nProgress (1): 0.6/14 MB\nProgress (1): 0.6/14 MB\nProgress (1): 0.7/14 MB\nProgress (1): 0.7/14 MB\nProgress (1): 0.7/14 MB\nProgress (1): 0.7/14 MB\nProgress (1): 0.7/14 MB\nProgress (1): 0.7/14 MB\nProgress (1): 0.8/14 MB\nProgress (1): 0.8/14 MB\nProgress (1): 0.8/14 MB\nProgress (1): 0.8/14 MB\nProgress (1): 0.8/14 MB\nProgress (1): 0.8/14 MB\nProgress (1): 0.9/14 MB\nProgress (1): 0.9/14 MB\nProgress (1): 0.9/14 MB\nProgress (1): 0.9/14 MB\nProgress (1): 0.9/14 MB\nProgress (1): 0.9/14 MB\nProgress (1): 1.0/14 MB\nProgress (1): 1.0/14 MB\nProgress (1): 1.0/14 MB\nProgress (1): 1.0/14 MB\nProgress (1): 1.0/14 MB\nProgress (1): 1.0/14 MB\nProgress (1): 1.1/14 MB\nProgress (1): 1.1/14 MB\nProgress (1): 1.1/14 MB\nProgress (1): 1.1/14 MB\nProgress (1): 1.1/14 MB\nProgress (1): 1.1/14 MB\nProgress (1): 1.2/14 MB\nProgress (1): 1.2/14 MB\nProgress (1): 1.2/14 MB\nProgress (1): 1.2/14 MB\nProgress (1): 1.2/14 MB\nProgress (1): 1.2/14 MB\nProgress (1): 1.3/14 MB\nProgress (1): 1.3/14 MB\nProgress (1): 1.3/14 MB\nProgress (1): 1.3/14 MB\nProgress (1): 1.3/14 MB\nProgress (1): 1.3/14 MB\nProgress (1): 1.3/14 MB\nProgress (1): 1.4/14 MB\nProgress (1): 1.4/14 MB\nProgress (1): 1.4/14 MB\nProgress (1): 1.4/14 MB\nProgress (1): 1.4/14 MB\nProgress (1): 1.4/14 MB\nProgress (1): 1.5/14 MB\nProgress (1): 1.5/14 MB\nProgress (1): 1.5/14 MB\nProgress (1): 1.5/14 MB\nProgress (1): 1.5/14 MB\nProgress (1): 1.5/14 MB\nProgress (1): 1.6/14 MB\nProgress (1): 1.6/14 MB\nProgress (1): 1.6/14 MB\nProgress (1): 1.6/14 MB\nProgress (1): 1.6/14 MB\nProgress (1): 1.6/14 MB\nProgress (1): 1.7/14 MB\nProgress (1): 1.7/14 MB\nProgress (1): 1.7/14 MB\nProgress (1): 1.7/14 MB\nProgress (1): 1.7/14 MB\nProgress (1): 1.7/14 MB\nProgress (1): 1.8/14 MB\nProgress (1): 1.8/14 MB\nProgress (1): 1.8/14 MB\nProgress (1): 1.8/14 MB\nProgress (1): 1.8/14 MB\nProgress (1): 1.8/14 MB\nProgress (1): 1.9/14 MB\nProgress (1): 1.9/14 MB\nProgress (1): 1.9/14 MB\nProgress (1): 1.9/14 MB\nProgress (1): 1.9/14 MB\nProgress (1): 1.9/14 MB\nProgress (1): 2.0/14 MB\nProgress (1): 2.0/14 MB\nProgress (1): 2.0/14 MB\nProgress (1): 2.0/14 MB\nProgress (1): 2.0/14 MB\nProgress (1): 2.0/14 MB\nProgress (1): 2.1/14 MB\nProgress (1): 2.1/14 MB\nProgress (1): 2.1/14 MB\nProgress (1): 2.1/14 MB\nProgress (1): 2.1/14 MB\nProgress (1): 2.1/14 MB\nProgress (1): 2.2/14 MB\nProgress (1): 2.2/14 MB\nProgress (1): 2.2/14 MB\nProgress (1): 2.2/14 MB\nProgress (1): 2.2/14 MB\nProgress (1): 2.2/14 MB\nProgress (1): 2.3/14 MB\nProgress (1): 2.3/14 MB\nProgress (1): 2.3/14 MB\nProgress (1): 2.3/14 MB\nProgress (1): 2.3/14 MB\nProgress (1): 2.3/14 MB\nProgress (1): 2.3/14 MB\nProgress (1): 2.4/14 MB\nProgress (1): 2.4/14 MB\nProgress (1): 2.4/14 MB\nProgress (1): 2.4/14 MB\nProgress (1): 2.4/14 MB\nProgress (1): 2.4/14 MB\nProgress (1): 2.5/14 MB\nProgress (1): 2.5/14 MB\nProgress (1): 2.5/14 MB\nProgress (1): 2.5/14 MB\nProgress (1): 2.5/14 MB\nProgress (1): 2.5/14 MB\nProgress (1): 2.6/14 MB\nProgress (1): 2.6/14 MB\nProgress (1): 2.6/14 MB\nProgress (1): 2.6/14 MB\nProgress (1): 2.6/14 MB\nProgress (1): 2.6/14 MB\nProgress (1): 2.7/14 MB\nProgress (1): 2.7/14 MB\nProgress (1): 2.7/14 MB\nProgress (1): 2.7/14 MB\nProgress (1): 2.7/14 MB\nProgress (1): 2.7/14 MB\nProgress (1): 2.8/14 MB\nProgress (1): 2.8/14 MB\nProgress (1): 2.8/14 MB\nProgress (1): 2.8/14 MB\nProgress (1): 2.8/14 MB\nProgress (1): 2.8/14 MB\nProgress (1): 2.9/14 MB\nProgress (1): 2.9/14 MB\nProgress (1): 2.9/14 MB\nProgress (1): 2.9/14 MB\nProgress (1): 2.9/14 MB\nProgress (1): 2.9/14 MB\nProgress (1): 3.0/14 MB\nProgress (1): 3.0/14 MB\nProgress (1): 3.0/14 MB\nProgress (1): 3.0/14 MB\nProgress (1): 3.0/14 MB\nProgress (1): 3.0/14 MB\nProgress (1): 3.1/14 MB\nProgress (1): 3.1/14 MB\nProgress (1): 3.1/14 MB\nProgress (1): 3.1/14 MB\nProgress (1): 3.1/14 MB\nProgress (1): 3.1/14 MB\nProgress (1): 3.2/14 MB\nProgress (1): 3.2/14 MB\nProgress (1): 3.2/14 MB\nProgress (1): 3.2/14 MB\nProgress (1): 3.2/14 MB\nProgress (1): 3.2/14 MB\nProgress (1): 3.3/14 MB\nProgress (1): 3.3/14 MB\nProgress (1): 3.3/14 MB\nProgress (1): 3.3/14 MB\nProgress (1): 3.3/14 MB\nProgress (1): 3.3/14 MB\nProgress (1): 3.3/14 MB\nProgress (1): 3.4/14 MB\nProgress (1): 3.4/14 MB\nProgress (1): 3.4/14 MB\nProgress (1): 3.4/14 MB\nProgress (1): 3.4/14 MB\nProgress (1): 3.4/14 MB\nProgress (1): 3.5/14 MB\nProgress (1): 3.5/14 MB\nProgress (1): 3.5/14 MB\nProgress (1): 3.5/14 MB\nProgress (1): 3.5/14 MB\nProgress (1): 3.5/14 MB\nProgress (1): 3.6/14 MB\nProgress (1): 3.6/14 MB\nProgress (1): 3.6/14 MB\nProgress (1): 3.6/14 MB\nProgress (1): 3.6/14 MB\nProgress (1): 3.6/14 MB\nProgress (1): 3.7/14 MB\nProgress (1): 3.7/14 MB\nProgress (1): 3.7/14 MB\nProgress (1): 3.7/14 MB\nProgress (1): 3.7/14 MB\nProgress (1): 3.7/14 MB\nProgress (1): 3.8/14 MB\nProgress (1): 3.8/14 MB\nProgress (1): 3.8/14 MB\nProgress (1): 3.8/14 MB\nProgress (1): 3.8/14 MB\nProgress (1): 3.8/14 MB\nProgress (1): 3.9/14 MB\nProgress (1): 3.9/14 MB\nProgress (1): 3.9/14 MB\nProgress (1): 3.9/14 MB\nProgress (1): 3.9/14 MB\nProgress (1): 3.9/14 MB\nProgress (1): 4.0/14 MB\nProgress (1): 4.0/14 MB\nProgress (1): 4.0/14 MB\nProgress (1): 4.0/14 MB\nProgress (1): 4.0/14 MB\nProgress (1): 4.0/14 MB\nProgress (1): 4.1/14 MB\nProgress (1): 4.1/14 MB\nProgress (1): 4.1/14 MB\nProgress (1): 4.1/14 MB\nProgress (1): 4.1/14 MB\nProgress (1): 4.1/14 MB\nProgress (1): 4.2/14 MB\nProgress (1): 4.2/14 MB\nProgress (1): 4.2/14 MB\nProgress (1): 4.2/14 MB\nProgress (1): 4.2/14 MB\nProgress (1): 4.2/14 MB\nProgress (1): 4.2/14 MB\nProgress (1): 4.3/14 MB\nProgress (1): 4.3/14 MB\nProgress (1): 4.3/14 MB\nProgress (1): 4.3/14 MB\nProgress (1): 4.3/14 MB\nProgress (1): 4.3/14 MB\nProgress (1): 4.4/14 MB\nProgress (1): 4.4/14 MB\nProgress (1): 4.4/14 MB\nProgress (1): 4.4/14 MB\nProgress (1): 4.4/14 MB\nProgress (1): 4.4/14 MB\nProgress (1): 4.5/14 MB\nProgress (1): 4.5/14 MB\nProgress (1): 4.5/14 MB\nProgress (1): 4.5/14 MB\nProgress (1): 4.5/14 MB\nProgress (1): 4.5/14 MB\nProgress (1): 4.6/14 MB\nProgress (1): 4.6/14 MB\nProgress (1): 4.6/14 MB\nProgress (1): 4.6/14 MB\nProgress (1): 4.6/14 MB\nProgress (1): 4.6/14 MB\nProgress (1): 4.7/14 MB\nProgress (1): 4.7/14 MB\nProgress (1): 4.7/14 MB\nProgress (1): 4.7/14 MB\nProgress (1): 4.7/14 MB\nProgress (1): 4.7/14 MB\nProgress (1): 4.8/14 MB\nProgress (1): 4.8/14 MB\nProgress (1): 4.8/14 MB\nProgress (1): 4.8/14 MB\nProgress (1): 4.8/14 MB\nProgress (1): 4.8/14 MB\nProgress (1): 4.9/14 MB\nProgress (1): 4.9/14 MB\nProgress (1): 4.9/14 MB\nProgress (1): 4.9/14 MB\nProgress (1): 4.9/14 MB\nProgress (1): 4.9/14 MB\nProgress (1): 5.0/14 MB\nProgress (1): 5.0/14 MB\nProgress (1): 5.0/14 MB\nProgress (1): 5.0/14 MB\nProgress (1): 5.0/14 MB\nProgress (1): 5.0/14 MB\nProgress (1): 5.1/14 MB\nProgress (1): 5.1/14 MB\nProgress (1): 5.1/14 MB\nProgress (1): 5.1/14 MB\nProgress (1): 5.1/14 MB\nProgress (1): 5.1/14 MB\nProgress (1): 5.2/14 MB\nProgress (1): 5.2/14 MB\nProgress (1): 5.2/14 MB\nProgress (1): 5.2/14 MB\nProgress (1): 5.2/14 MB\nProgress (1): 5.2/14 MB\nProgress (1): 5.2/14 MB\nProgress (1): 5.3/14 MB\nProgress (1): 5.3/14 MB\nProgress (1): 5.3/14 MB\nProgress (1): 5.3/14 MB\nProgress (1): 5.3/14 MB\nProgress (1): 5.3/14 MB\nProgress (1): 5.4/14 MB\nProgress (1): 5.4/14 MB\nProgress (1): 5.4/14 MB\nProgress (1): 5.4/14 MB\nProgress (1): 5.4/14 MB\nProgress (1): 5.4/14 MB\nProgress (1): 5.5/14 MB\nProgress (1): 5.5/14 MB\nProgress (1): 5.5/14 MB\nProgress (1): 5.5/14 MB\nProgress (1): 5.5/14 MB\nProgress (1): 5.5/14 MB\nProgress (1): 5.6/14 MB\nProgress (1): 5.6/14 MB\nProgress (1): 5.6/14 MB\nProgress (1): 5.6/14 MB\nProgress (1): 5.6/14 MB\nProgress (1): 5.6/14 MB\nProgress (1): 5.7/14 MB\nProgress (1): 5.7/14 MB\nProgress (1): 5.7/14 MB\nProgress (1): 5.7/14 MB\nProgress (1): 5.7/14 MB\nProgress (1): 5.7/14 MB\nProgress (1): 5.8/14 MB\nProgress (1): 5.8/14 MB\nProgress (1): 5.8/14 MB\nProgress (1): 5.8/14 MB\nProgress (1): 5.8/14 MB\nProgress (1): 5.8/14 MB\nProgress (1): 5.9/14 MB\nProgress (1): 5.9/14 MB\nProgress (1): 5.9/14 MB\nProgress (1): 5.9/14 MB\nProgress (1): 5.9/14 MB\nProgress (1): 5.9/14 MB\nProgress (1): 6.0/14 MB\nProgress (1): 6.0/14 MB\nProgress (1): 6.0/14 MB\nProgress (1): 6.0/14 MB\nProgress (1): 6.0/14 MB\nProgress (1): 6.0/14 MB\nProgress (1): 6.1/14 MB\nProgress (1): 6.1/14 MB\nProgress (1): 6.1/14 MB\nProgress (1): 6.1/14 MB\nProgress (1): 6.1/14 MB\nProgress (1): 6.1/14 MB\nProgress (1): 6.2/14 MB\nProgress (1): 6.2/14 MB\nProgress (1): 6.2/14 MB\nProgress (1): 6.2/14 MB\nProgress (1): 6.2/14 MB\nProgress (1): 6.2/14 MB\nProgress (1): 6.2/14 MB\nProgress (1): 6.3/14 MB\nProgress (1): 6.3/14 MB\nProgress (1): 6.3/14 MB\nProgress (1): 6.3/14 MB\nProgress (1): 6.3/14 MB\nProgress (1): 6.3/14 MB\nProgress (1): 6.4/14 MB\nProgress (1): 6.4/14 MB\nProgress (1): 6.4/14 MB\nProgress (1): 6.4/14 MB\nProgress (1): 6.4/14 MB\nProgress (1): 6.4/14 MB\nProgress (1): 6.5/14 MB\nProgress (1): 6.5/14 MB\nProgress (1): 6.5/14 MB\nProgress (1): 6.5/14 MB\nProgress (1): 6.5/14 MB\nProgress (1): 6.5/14 MB\nProgress (1): 6.6/14 MB\nProgress (1): 6.6/14 MB\nProgress (1): 6.6/14 MB\nProgress (1): 6.6/14 MB\nProgress (1): 6.6/14 MB\nProgress (1): 6.6/14 MB\nProgress (1): 6.7/14 MB\nProgress (1): 6.7/14 MB\nProgress (1): 6.7/14 MB\nProgress (1): 6.7/14 MB\nProgress (1): 6.7/14 MB\nProgress (1): 6.7/14 MB\nProgress (1): 6.8/14 MB\nProgress (1): 6.8/14 MB\nProgress (1): 6.8/14 MB\nProgress (1): 6.8/14 MB\nProgress (1): 6.8/14 MB\nProgress (1): 6.8/14 MB\nProgress (1): 6.9/14 MB\nProgress (1): 6.9/14 MB\nProgress (1): 6.9/14 MB\nProgress (1): 6.9/14 MB\nProgress (1): 6.9/14 MB\nProgress (1): 6.9/14 MB\nProgress (1): 7.0/14 MB\nProgress (1): 7.0/14 MB\nProgress (1): 7.0/14 MB\nProgress (1): 7.0/14 MB\nProgress (1): 7.0/14 MB\nProgress (1): 7.0/14 MB\nProgress (1): 7.1/14 MB\nProgress (1): 7.1/14 MB\nProgress (1): 7.1/14 MB\nProgress (1): 7.1/14 MB\nProgress (1): 7.1/14 MB\nProgress (1): 7.1/14 MB\nProgress (1): 7.1/14 MB\nProgress (1): 7.2/14 MB\nProgress (1): 7.2/14 MB\nProgress (1): 7.2/14 MB\nProgress (1): 7.2/14 MB\nProgress (1): 7.2/14 MB\nProgress (1): 7.2/14 MB\nProgress (1): 7.3/14 MB\nProgress (1): 7.3/14 MB\nProgress (1): 7.3/14 MB\nProgress (1): 7.3/14 MB\nProgress (1): 7.3/14 MB\nProgress (1): 7.3/14 MB\nProgress (1): 7.4/14 MB\nProgress (1): 7.4/14 MB\nProgress (1): 7.4/14 MB\nProgress (1): 7.4/14 MB\nProgress (1): 7.4/14 MB\nProgress (1): 7.4/14 MB\nProgress (1): 7.5/14 MB\nProgress (1): 7.5/14 MB\nProgress (1): 7.5/14 MB\nProgress (1): 7.5/14 MB\nProgress (1): 7.5/14 MB\nProgress (1): 7.5/14 MB\nProgress (1): 7.6/14 MB\nProgress (1): 7.6/14 MB\nProgress (1): 7.6/14 MB\nProgress (1): 7.6/14 MB\nProgress (1): 7.6/14 MB\nProgress (1): 7.6/14 MB\nProgress (1): 7.7/14 MB\nProgress (1): 7.7/14 MB\nProgress (1): 7.7/14 MB\nProgress (1): 7.7/14 MB\nProgress (1): 7.7/14 MB\nProgress (1): 7.7/14 MB\nProgress (1): 7.8/14 MB\nProgress (1): 7.8/14 MB\nProgress (1): 7.8/14 MB\nProgress (1): 7.8/14 MB\nProgress (1): 7.8/14 MB\nProgress (1): 7.8/14 MB\nProgress (1): 7.9/14 MB\nProgress (1): 7.9/14 MB\nProgress (1): 7.9/14 MB\nProgress (1): 7.9/14 MB\nProgress (1): 7.9/14 MB\nProgress (1): 7.9/14 MB\nProgress (1): 8.0/14 MB\nProgress (1): 8.0/14 MB\nProgress (1): 8.0/14 MB\nProgress (1): 8.0/14 MB\nProgress (1): 8.0/14 MB\nProgress (1): 8.0/14 MB\nProgress (1): 8.1/14 MB\nProgress (1): 8.1/14 MB\nProgress (1): 8.1/14 MB\nProgress (1): 8.1/14 MB\nProgress (1): 8.1/14 MB\nProgress (1): 8.1/14 MB\nProgress (1): 8.1/14 MB\nProgress (1): 8.2/14 MB\nProgress (1): 8.2/14 MB\nProgress (1): 8.2/14 MB\nProgress (1): 8.2/14 MB\nProgress (1): 8.2/14 MB\nProgress (1): 8.2/14 MB\nProgress (1): 8.3/14 MB\nProgress (1): 8.3/14 MB\nProgress (1): 8.3/14 MB\nProgress (1): 8.3/14 MB\nProgress (1): 8.3/14 MB\nProgress (1): 8.3/14 MB\nProgress (1): 8.4/14 MB\nProgress (1): 8.4/14 MB\nProgress (1): 8.4/14 MB\nProgress (1): 8.4/14 MB\nProgress (1): 8.4/14 MB\nProgress (1): 8.4/14 MB\nProgress (1): 8.5/14 MB\nProgress (1): 8.5/14 MB\nProgress (1): 8.5/14 MB\nProgress (1): 8.5/14 MB\nProgress (1): 8.5/14 MB\nProgress (1): 8.5/14 MB\nProgress (1): 8.6/14 MB\nProgress (1): 8.6/14 MB\nProgress (1): 8.6/14 MB\nProgress (1): 8.6/14 MB\nProgress (1): 8.6/14 MB\nProgress (1): 8.6/14 MB\nProgress (1): 8.7/14 MB\nProgress (1): 8.7/14 MB\nProgress (1): 8.7/14 MB\nProgress (1): 8.7/14 MB\nProgress (1): 8.7/14 MB\nProgress (1): 8.7/14 MB\nProgress (1): 8.8/14 MB\nProgress (1): 8.8/14 MB\nProgress (1): 8.8/14 MB\nProgress (1): 8.8/14 MB\nProgress (1): 8.8/14 MB\nProgress (1): 8.8/14 MB\nProgress (1): 8.9/14 MB\nProgress (1): 8.9/14 MB\nProgress (1): 8.9/14 MB\nProgress (1): 8.9/14 MB\nProgress (1): 8.9/14 MB\nProgress (1): 8.9/14 MB\nProgress (1): 9.0/14 MB\nProgress (1): 9.0/14 MB\nProgress (1): 9.0/14 MB\nProgress (1): 9.0/14 MB\nProgress (1): 9.0/14 MB\nProgress (1): 9.0/14 MB\nProgress (1): 9.1/14 MB\nProgress (1): 9.1/14 MB\nProgress (1): 9.1/14 MB\nProgress (1): 9.1/14 MB\nProgress (1): 9.1/14 MB\nProgress (1): 9.1/14 MB\nProgress (1): 9.1/14 MB\nProgress (1): 9.2/14 MB\nProgress (1): 9.2/14 MB\nProgress (1): 9.2/14 MB\nProgress (1): 9.2/14 MB\nProgress (1): 9.2/14 MB\nProgress (1): 9.2/14 MB\nProgress (1): 9.3/14 MB\nProgress (1): 9.3/14 MB\nProgress (1): 9.3/14 MB\nProgress (1): 9.3/14 MB\nProgress (1): 9.3/14 MB\nProgress (1): 9.3/14 MB\nProgress (1): 9.4/14 MB\nProgress (1): 9.4/14 MB\nProgress (1): 9.4/14 MB\nProgress (1): 9.4/14 MB\nProgress (1): 9.4/14 MB\nProgress (1): 9.4/14 MB\nProgress (1): 9.5/14 MB\nProgress (1): 9.5/14 MB\nProgress (1): 9.5/14 MB\nProgress (1): 9.5/14 MB\nProgress (1): 9.5/14 MB\nProgress (1): 9.5/14 MB\nProgress (1): 9.6/14 MB\nProgress (1): 9.6/14 MB\nProgress (1): 9.6/14 MB\nProgress (1): 9.6/14 MB\nProgress (1): 9.6/14 MB\nProgress (1): 9.6/14 MB\nProgress (1): 9.7/14 MB\nProgress (1): 9.7/14 MB\nProgress (1): 9.7/14 MB\nProgress (1): 9.7/14 MB\nProgress (1): 9.7/14 MB\nProgress (1): 9.7/14 MB\nProgress (1): 9.8/14 MB\nProgress (1): 9.8/14 MB\nProgress (1): 9.8/14 MB\nProgress (1): 9.8/14 MB\nProgress (1): 9.8/14 MB\nProgress (1): 9.8/14 MB\nProgress (1): 9.9/14 MB\nProgress (1): 9.9/14 MB\nProgress (1): 9.9/14 MB\nProgress (1): 9.9/14 MB\nProgress (1): 9.9/14 MB\nProgress (1): 9.9/14 MB\nProgress (1): 10.0/14 MB\nProgress (1): 10.0/14 MB\nProgress (1): 10.0/14 MB\nProgress (1): 10/14 MB  \nProgress (1): 10/14 MB\nProgress (1): 10/14 MB\nProgress (1): 10/14 MB\nProgress (1): 10/14 MB\nProgress (1): 10/14 MB\nProgress (1): 10/14 MB\nProgress (1): 10/14 MB\nProgress (1): 10/14 MB\nProgress (1): 10/14 MB\nProgress (1): 10/14 MB\nProgress (1): 10/14 MB\nProgress (1): 10/14 MB\nProgress (1): 10/14 MB\nProgress (1): 10/14 MB\nProgress (1): 10/14 MB\nProgress (1): 10/14 MB\nProgress (1): 10/14 MB\nProgress (1): 10/14 MB\nProgress (1): 10/14 MB\nProgress (1): 10/14 MB\nProgress (1): 10/14 MB\nProgress (1): 10/14 MB\nProgress (1): 10/14 MB\nProgress (1): 10/14 MB\nProgress (1): 10/14 MB\nProgress (1): 10/14 MB\nProgress (1): 10/14 MB\nProgress (1): 10/14 MB\nProgress (1): 10/14 MB\nProgress (1): 10/14 MB\nProgress (1): 11/14 MB\nProgress (1): 11/14 MB\nProgress (1): 11/14 MB\nProgress (1): 11/14 MB\nProgress (1): 11/14 MB\nProgress (1): 11/14 MB\nProgress (1): 11/14 MB\nProgress (1): 11/14 MB\nProgress (1): 11/14 MB\nProgress (1): 11/14 MB\nProgress (1): 11/14 MB\nProgress (1): 11/14 MB\nProgress (1): 11/14 MB\nProgress (1): 11/14 MB\nProgress (1): 11/14 MB\nProgress (1): 11/14 MB\nProgress (1): 11/14 MB\nProgress (1): 11/14 MB\nProgress (1): 11/14 MB\nProgress (1): 11/14 MB\nProgress (1): 11/14 MB\nProgress (1): 11/14 MB\nProgress (1): 11/14 MB\nProgress (1): 11/14 MB\nProgress (1): 11/14 MB\nProgress (1): 11/14 MB\nProgress (1): 11/14 MB\nProgress (1): 11/14 MB\nProgress (1): 11/14 MB\nProgress (1): 11/14 MB\nProgress (1): 11/14 MB\nProgress (1): 11/14 MB\nProgress (1): 11/14 MB\nProgress (1): 11/14 MB\nProgress (1): 11/14 MB\nProgress (1): 11/14 MB\nProgress (1): 11/14 MB\nProgress (1): 11/14 MB\nProgress (1): 11/14 MB\nProgress (1): 11/14 MB\nProgress (1): 11/14 MB\nProgress (1): 11/14 MB\nProgress (1): 11/14 MB\nProgress (1): 11/14 MB\nProgress (1): 11/14 MB\nProgress (1): 11/14 MB\nProgress (1): 11/14 MB\nProgress (1): 11/14 MB\nProgress (1): 11/14 MB\nProgress (1): 11/14 MB\nProgress (1): 11/14 MB\nProgress (1): 11/14 MB\nProgress (1): 11/14 MB\nProgress (1): 11/14 MB\nProgress (1): 11/14 MB\nProgress (1): 11/14 MB\nProgress (1): 11/14 MB\nProgress (1): 11/14 MB\nProgress (1): 11/14 MB\nProgress (1): 11/14 MB\nProgress (1): 11/14 MB\nProgress (1): 12/14 MB\nProgress (1): 12/14 MB\nProgress (1): 12/14 MB\nProgress (1): 12/14 MB\nProgress (1): 12/14 MB\nProgress (1): 12/14 MB\nProgress (1): 12/14 MB\nProgress (1): 12/14 MB\nProgress (1): 12/14 MB\nProgress (1): 12/14 MB\nProgress (1): 12/14 MB\nProgress (1): 12/14 MB\nProgress (1): 12/14 MB\nProgress (1): 12/14 MB\nProgress (1): 12/14 MB\nProgress (1): 12/14 MB\nProgress (1): 12/14 MB\nProgress (1): 12/14 MB\nProgress (1): 12/14 MB\nProgress (1): 12/14 MB\nProgress (1): 12/14 MB\nProgress (1): 12/14 MB\nProgress (1): 12/14 MB\nProgress (1): 12/14 MB\nProgress (1): 12/14 MB\nProgress (1): 12/14 MB\nProgress (1): 12/14 MB\nProgress (1): 12/14 MB\nProgress (1): 12/14 MB\nProgress (1): 12/14 MB\nProgress (1): 12/14 MB\nProgress (1): 12/14 MB\nProgress (1): 12/14 MB\nProgress (1): 12/14 MB\nProgress (1): 12/14 MB\nProgress (1): 12/14 MB\nProgress (1): 12/14 MB\nProgress (1): 12/14 MB\nProgress (1): 12/14 MB\nProgress (1): 12/14 MB\nProgress (1): 12/14 MB\nProgress (1): 12/14 MB\nProgress (1): 12/14 MB\nProgress (1): 12/14 MB\nProgress (1): 12/14 MB\nProgress (1): 12/14 MB\nProgress (1): 12/14 MB\nProgress (1): 12/14 MB\nProgress (1): 12/14 MB\nProgress (1): 12/14 MB\nProgress (1): 12/14 MB\nProgress (1): 12/14 MB\nProgress (1): 12/14 MB\nProgress (1): 12/14 MB\nProgress (1): 12/14 MB\nProgress (1): 12/14 MB\nProgress (1): 12/14 MB\nProgress (1): 12/14 MB\nProgress (1): 12/14 MB\nProgress (1): 12/14 MB\nProgress (1): 12/14 MB\nProgress (1): 13/14 MB\nProgress (1): 13/14 MB\nProgress (1): 13/14 MB\nProgress (1): 13/14 MB\nProgress (1): 13/14 MB\nProgress (1): 13/14 MB\nProgress (1): 13/14 MB\nProgress (1): 13/14 MB\nProgress (1): 13/14 MB\nProgress (1): 13/14 MB\nProgress (1): 13/14 MB\nProgress (1): 13/14 MB\nProgress (1): 13/14 MB\nProgress (1): 13/14 MB\nProgress (1): 13/14 MB\nProgress (1): 13/14 MB\nProgress (1): 13/14 MB\nProgress (1): 13/14 MB\nProgress (1): 13/14 MB\nProgress (1): 13/14 MB\nProgress (1): 13/14 MB\nProgress (1): 13/14 MB\nProgress (1): 13/14 MB\nProgress (1): 13/14 MB\nProgress (1): 13/14 MB\nProgress (1): 13/14 MB\nProgress (1): 13/14 MB\nProgress (1): 13/14 MB\nProgress (1): 13/14 MB\nProgress (1): 13/14 MB\nProgress (1): 13/14 MB\nProgress (1): 13/14 MB\nProgress (1): 13/14 MB\nProgress (1): 13/14 MB\nProgress (1): 13/14 MB\nProgress (1): 13/14 MB\nProgress (1): 13/14 MB\nProgress (1): 13/14 MB\nProgress (1): 13/14 MB\nProgress (1): 13/14 MB\nProgress (1): 13/14 MB\nProgress (1): 13/14 MB\nProgress (1): 13/14 MB\nProgress (1): 13/14 MB\nProgress (1): 13/14 MB\nProgress (1): 13/14 MB\nProgress (1): 13/14 MB\nProgress (1): 13/14 MB\nProgress (1): 13/14 MB\nProgress (1): 13/14 MB\nProgress (1): 13/14 MB\nProgress (1): 13/14 MB\nProgress (1): 13/14 MB\nProgress (1): 13/14 MB\nProgress (1): 13/14 MB\nProgress (1): 13/14 MB\nProgress (1): 13/14 MB\nProgress (1): 13/14 MB\nProgress (1): 13/14 MB\nProgress (1): 13/14 MB\nProgress (1): 13/14 MB\nProgress (1): 14/14 MB\nProgress (1): 14/14 MB\nProgress (1): 14/14 MB\nProgress (1): 14/14 MB\nProgress (1): 14/14 MB\nProgress (1): 14/14 MB\nProgress (1): 14/14 MB\nProgress (1): 14/14 MB\nProgress (1): 14/14 MB\nProgress (1): 14/14 MB\nProgress (1): 14/14 MB\nProgress (1): 14/14 MB\nProgress (1): 14/14 MB\nProgress (1): 14/14 MB\nProgress (1): 14/14 MB\nProgress (1): 14/14 MB\nProgress (1): 14/14 MB\nProgress (1): 14/14 MB\nProgress (1): 14/14 MB\nProgress (1): 14/14 MB\nProgress (1): 14/14 MB\nProgress (1): 14/14 MB\nProgress (1): 14/14 MB\nProgress (1): 14/14 MB\nProgress (1): 14/14 MB\nProgress (1): 14/14 MB\nProgress (1): 14/14 MB\nProgress (1): 14/14 MB\nProgress (1): 14/14 MB\nProgress (1): 14/14 MB\nProgress (1): 14/14 MB\nProgress (1): 14/14 MB\nProgress (1): 14/14 MB\nProgress (1): 14/14 MB\nProgress (1): 14/14 MB\nProgress (1): 14/14 MB\nProgress (1): 14/14 MB\nProgress (1): 14/14 MB\nProgress (1): 14 MB   \n                   \nDownloaded from central: https://repo.maven.apache.org/maven2/org/xerial/sqlite-jdbc/3.46.1.0/sqlite-jdbc-3.46.1.0.jar (14 MB at 35 MB/s)\n[INFO] \n[INFO] --- clean:3.3.2:clean (default-clean) @ poli ---\n[INFO] Deleting /tmp/workdir/search_strands_20260128/poli/target\n[INFO] \n[INFO] --- jacoco:0.8.12:prepare-agent (prepare-agent) @ poli ---\n[INFO] argLine set to -javaagent:/fsx/ubuntu/.m2/repository/org/jacoco/org.jacoco.agent/0.8.12/org.jacoco.agent-0.8.12-runtime.jar=destfile=/tmp/workdir/search_strands_20260128/poli/target/jacoco.exec\n[INFO] \n[INFO] --- resources:3.3.1:resources (default-resources) @ poli ---\n[INFO] Copying 1 resource from src/main/resources to target/classes\n[INFO] Copying 2 resources from src/main/resources to target/classes\n[INFO] \n[INFO] --- compiler:3.13.0:compile (default-compile) @ poli ---\n[INFO] Recompiling the module because of changed source code.\n[INFO] Compiling 63 source files with javac [debug parameters release 17] to target/classes\n[INFO] /tmp/workdir/search_strands_20260128/poli/src/main/java/com/shzlw/poli/dao/CannedReportDao.java: Some input files use or override a deprecated API.\n[INFO] /tmp/workdir/search_strands_20260128/poli/src/main/java/com/shzlw/poli/dao/CannedReportDao.java: Recompile with -Xlint:deprecation for details.\n[INFO] /tmp/workdir/search_strands_20260128/poli/src/main/java/com/shzlw/poli/config/AppConfig.java: Some input files use unchecked or unsafe operations.\n[INFO] /tmp/workdir/search_strands_20260128/poli/src/main/java/com/shzlw/poli/config/AppConfig.java: Recompile with -Xlint:unchecked for details.\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  3.859 s\n[INFO] Finished at: 2026-01-29T05:50:06Z\n[INFO] ------------------------------------------------------------------------\n"
                            }
                        ]
                    }
                }
            ]
        },
        {
            "role": "assistant",
            "content": [
                {
                    "text": "Great! The compilation was successful! Now let's run the full test suite with `mvn clean verify`:"
                },
                {
                    "toolUse": {
                        "toolUseId": "tooluse_nB1EceexTPSzFbzIggdpeg",
                        "name": "restricted_shell",
                        "input": {
                            "command": "cd /tmp/workdir/search_strands_20260128/poli && mvn clean verify 2>&1 | tail -100"
                        }
                    }
                }
            ]
        },
        {
            "role": "user",
            "content": [
                {
                    "toolResult": {
                        "toolUseId": "tooluse_nB1EceexTPSzFbzIggdpeg",
                        "status": "success",
                        "content": [
                            {
                                "text": "[ERROR] /tmp/workdir/search_strands_20260128/poli/src/test/java/com/shzlw/poli/filter/AuthFilterTest.java:[148,6] cannot find symbol\n[ERROR]   symbol:   class Test\n[ERROR]   location: class com.shzlw.poli.filter.AuthFilterTest\n[ERROR] /tmp/workdir/search_strands_20260128/poli/src/test/java/com/shzlw/poli/filter/AuthFilterTest.java:[165,6] cannot find symbol\n[ERROR]   symbol:   class Test\n[ERROR]   location: class com.shzlw.poli.filter.AuthFilterTest\n[ERROR] /tmp/workdir/search_strands_20260128/poli/src/test/java/com/shzlw/poli/filter/AuthFilterTest.java:[228,6] cannot find symbol\n[ERROR]   symbol:   class Test\n[ERROR]   location: class com.shzlw.poli.filter.AuthFilterTest\n[ERROR] /tmp/workdir/search_strands_20260128/poli/src/test/java/com/shzlw/poli/filter/AuthFilterTest.java:[257,6] cannot find symbol\n[ERROR]   symbol:   class Test\n[ERROR]   location: class com.shzlw.poli.filter.AuthFilterTest\n[ERROR] /tmp/workdir/search_strands_20260128/poli/src/test/java/com/shzlw/poli/filter/AuthFilterTest.java:[283,6] cannot find symbol\n[ERROR]   symbol:   class Test\n[ERROR]   location: class com.shzlw.poli.filter.AuthFilterTest\n[ERROR] /tmp/workdir/search_strands_20260128/poli/src/test/java/com/shzlw/poli/filter/AuthFilterTest.java:[317,6] cannot find symbol\n[ERROR]   symbol:   class Test\n[ERROR]   location: class com.shzlw.poli.filter.AuthFilterTest\n[ERROR] /tmp/workdir/search_strands_20260128/poli/src/test/java/com/shzlw/poli/filter/AuthFilterTest.java:[351,6] cannot find symbol\n[ERROR]   symbol:   class Test\n[ERROR]   location: class com.shzlw.poli.filter.AuthFilterTest\n[ERROR] /tmp/workdir/search_strands_20260128/poli/src/test/java/com/shzlw/poli/filter/AuthFilterTest.java:[356,6] cannot find symbol\n[ERROR]   symbol:   class Test\n[ERROR]   location: class com.shzlw.poli.filter.AuthFilterTest\n[ERROR] /tmp/workdir/search_strands_20260128/poli/src/test/java/com/shzlw/poli/rest/AuthWsTest.java:[29,6] cannot find symbol\n[ERROR]   symbol:   class Test\n[ERROR]   location: class com.shzlw.poli.rest.AuthWsTest\n[ERROR] /tmp/workdir/search_strands_20260128/poli/src/test/java/com/shzlw/poli/rest/AuthWsTest.java:[34,6] cannot find symbol\n[ERROR]   symbol:   class Test\n[ERROR]   location: class com.shzlw.poli.rest.AuthWsTest\n[ERROR] /tmp/workdir/search_strands_20260128/poli/src/test/java/com/shzlw/poli/rest/AuthWsTest.java:[48,6] cannot find symbol\n[ERROR]   symbol:   class Test\n[ERROR]   location: class com.shzlw.poli.rest.AuthWsTest\n[ERROR] /tmp/workdir/search_strands_20260128/poli/src/test/java/com/shzlw/poli/rest/AuthWsTest.java:[62,6] cannot find symbol\n[ERROR]   symbol:   class Test\n[ERROR]   location: class com.shzlw.poli.rest.AuthWsTest\n[ERROR] /tmp/workdir/search_strands_20260128/poli/src/test/java/com/shzlw/poli/rest/AuthWsTest.java:[86,6] cannot find symbol\n[ERROR]   symbol:   class Test\n[ERROR]   location: class com.shzlw.poli.rest.AuthWsTest\n[ERROR] /tmp/workdir/search_strands_20260128/poli/src/test/java/com/shzlw/poli/rest/AuthWsTest.java:[108,6] cannot find symbol\n[ERROR]   symbol:   class Test\n[ERROR]   location: class com.shzlw.poli.rest.AuthWsTest\n[ERROR] /tmp/workdir/search_strands_20260128/poli/src/test/java/com/shzlw/poli/rest/AuthWsTest.java:[119,6] cannot find symbol\n[ERROR]   symbol:   class Test\n[ERROR]   location: class com.shzlw.poli.rest.AuthWsTest\n[ERROR] /tmp/workdir/search_strands_20260128/poli/src/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:[29,6] cannot find symbol\n[ERROR]   symbol:   class Test\n[ERROR]   location: class com.shzlw.poli.rest.CannedReportWsTest\n[ERROR] /tmp/workdir/search_strands_20260128/poli/src/test/java/com/shzlw/poli/rest/ComponentWsTest.java:[31,6] cannot find symbol\n[ERROR]   symbol:   class Test\n[ERROR]   location: class com.shzlw.poli.rest.ComponentWsTest\n[ERROR] /tmp/workdir/search_strands_20260128/poli/src/test/java/com/shzlw/poli/rest/GroupWsTest.java:[34,6] cannot find symbol\n[ERROR]   symbol:   class Test\n[ERROR]   location: class com.shzlw.poli.rest.GroupWsTest\n[ERROR] /tmp/workdir/search_strands_20260128/poli/src/test/java/com/shzlw/poli/rest/InfoWsTest.java:[36,6] cannot find symbol\n[ERROR]   symbol:   class Test\n[ERROR]   location: class com.shzlw.poli.rest.InfoWsTest\n[ERROR] /tmp/workdir/search_strands_20260128/poli/src/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:[36,6] cannot find symbol\n[ERROR]   symbol:   class Test\n[ERROR]   location: class com.shzlw.poli.rest.JdbcDataSourceWsTest\n[ERROR] /tmp/workdir/search_strands_20260128/poli/src/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:[47,6] cannot find symbol\n[ERROR]   symbol:   class Test\n[ERROR]   location: class com.shzlw.poli.rest.JdbcQueryWsTest\n[ERROR] /tmp/workdir/search_strands_20260128/poli/src/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:[54,6] cannot find symbol\n[ERROR]   symbol:   class Test\n[ERROR]   location: class com.shzlw.poli.rest.JdbcQueryWsTest\n[ERROR] /tmp/workdir/search_strands_20260128/poli/src/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:[62,6] cannot find symbol\n[ERROR]   symbol:   class Test\n[ERROR]   location: class com.shzlw.poli.rest.JdbcQueryWsTest\n[ERROR] /tmp/workdir/search_strands_20260128/poli/src/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:[74,6] cannot find symbol\n[ERROR]   symbol:   class Test\n[ERROR]   location: class com.shzlw.poli.rest.JdbcQueryWsTest\n[ERROR] /tmp/workdir/search_strands_20260128/poli/src/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:[86,6] cannot find symbol\n[ERROR]   symbol:   class Test\n[ERROR]   location: class com.shzlw.poli.rest.JdbcQueryWsTest\n[ERROR] /tmp/workdir/search_strands_20260128/poli/src/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:[96,6] cannot find symbol\n[ERROR]   symbol:   class Test\n[ERROR]   location: class com.shzlw.poli.rest.JdbcQueryWsTest\n[ERROR] /tmp/workdir/search_strands_20260128/poli/src/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:[106,6] cannot find symbol\n[ERROR]   symbol:   class Test\n[ERROR]   location: class com.shzlw.poli.rest.JdbcQueryWsTest\n[ERROR] /tmp/workdir/search_strands_20260128/poli/src/test/java/com/shzlw/poli/rest/ReportWsTest.java:[33,6] cannot find symbol\n[ERROR]   symbol:   class Test\n[ERROR]   location: class com.shzlw.poli.rest.ReportWsTest\n[ERROR] /tmp/workdir/search_strands_20260128/poli/src/test/java/com/shzlw/poli/rest/ReportWsTest.java:[126,6] cannot find symbol\n[ERROR]   symbol:   class Test\n[ERROR]   location: class com.shzlw.poli.rest.ReportWsTest\n[ERROR] /tmp/workdir/search_strands_20260128/poli/src/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:[31,6] cannot find symbol\n[ERROR]   symbol:   class Test\n[ERROR]   location: class com.shzlw.poli.rest.SavedQueryWsTest\n[ERROR] /tmp/workdir/search_strands_20260128/poli/src/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:[30,6] cannot find symbol\n[ERROR]   symbol:   class Test\n[ERROR]   location: class com.shzlw.poli.rest.SharedReportWsTest\n[ERROR] -> [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n"
                            }
                        ]
                    }
                }
            ]
        },
        {
            "role": "assistant",
            "content": [
                {
                    "text": "The tests are failing to compile because they can't find the `@Test` annotation. Let me check the test files:"
                },
                {
                    "toolUse": {
                        "toolUseId": "tooluse_MCjsO1qmRyyy-udIJ7xHZg",
                        "name": "restricted_shell",
                        "input": {
                            "command": "cd /tmp/workdir/search_strands_20260128/poli && head -30 src/test/java/com/shzlw/poli/rest/AuthWsTest.java"
                        }
                    }
                }
            ]
        },
        {
            "role": "user",
            "content": [
                {
                    "toolResult": {
                        "toolUseId": "tooluse_MCjsO1qmRyyy-udIJ7xHZg",
                        "status": "success",
                        "content": [
                            {
                                "text": "package com.shzlw.poli.rest;\n\nimport com.shzlw.poli.dto.LoginResponse;\nimport com.shzlw.poli.model.User;\nimport com.shzlw.poli.util.Constants;\nimport org.junit.Assert;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.http.MediaType;\nimport org.springframework.test.context.TestPropertySource;\nimport org.springframework.test.context.jdbc.Sql;\nimport org.springframework.test.context.junit4.SpringRunner;\nimport org.springframework.transaction.annotation.Transactional;\n\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.post;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\n\n@RunWith(SpringRunner.class)\n@SpringBootTest\n@AutoConfigureMockMvc\n@Transactional\n@TestPropertySource(locations=\"classpath:application-test.properties\")\n@Sql(scripts = \"classpath:schema-sqlite.sql\", executionPhase = Sql.ExecutionPhase.BEFORE_TEST_METHOD)\npublic class AuthWsTest extends AbstractWsTest {\n\n    @Test\n    public void testLoginAsAdmin() throws Exception {\n"
                            }
                        ]
                    }
                }
            ]
        },
        {
            "role": "assistant",
            "content": [
                {
                    "text": "I see! The tests are using JUnit 4, but Spring Boot 3 requires JUnit 5 (Jupiter). We need to update the test imports. Let me update all test files:"
                },
                {
                    "toolUse": {
                        "toolUseId": "tooluse_AzIMpTBwSymGx_hO4ElhBQ",
                        "name": "restricted_shell",
                        "input": {
                            "command": "cd /tmp/workdir/search_strands_20260128/poli && find src/test -name \"*.java\" -type f -exec sed -i 's/import org\\.junit\\.Test;/import org.junit.jupiter.api.Test;/g' {} \\;"
                        }
                    }
                }
            ]
        },
        {
            "role": "user",
            "content": [
                {
                    "toolResult": {
                        "toolUseId": "tooluse_AzIMpTBwSymGx_hO4ElhBQ",
                        "status": "success",
                        "content": [
                            {
                                "text": "(no output)"
                            }
                        ]
                    }
                }
            ]
        },
        {
            "role": "assistant",
            "content": [
                {
                    "toolUse": {
                        "toolUseId": "tooluse_XffV-856S6iGhEBWnES0kw",
                        "name": "restricted_shell",
                        "input": {
                            "command": "cd /tmp/workdir/search_strands_20260128/poli && find src/test -name \"*.java\" -type f -exec sed -i 's/import org\\.junit\\.Assert;/import org.junit.jupiter.api.Assertions;/g' {} \\;"
                        }
                    }
                }
            ]
        },
        {
            "role": "user",
            "content": [
                {
                    "toolResult": {
                        "toolUseId": "tooluse_XffV-856S6iGhEBWnES0kw",
                        "status": "success",
                        "content": [
                            {
                                "text": "(no output)"
                            }
                        ]
                    }
                }
            ]
        },
        {
            "role": "assistant",
            "content": [
                {
                    "toolUse": {
                        "toolUseId": "tooluse_AVTP1cI8T76aLPFNmuzYiQ",
                        "name": "restricted_shell",
                        "input": {
                            "command": "cd /tmp/workdir/search_strands_20260128/poli && find src/test -name \"*.java\" -type f -exec sed -i 's/import org\\.junit\\.runner\\.RunWith;/import org.junit.jupiter.api.extension.ExtendWith;/g' {} \\;"
                        }
                    }
                }
            ]
        },
        {
            "role": "user",
            "content": [
                {
                    "toolResult": {
                        "toolUseId": "tooluse_AVTP1cI8T76aLPFNmuzYiQ",
                        "status": "success",
                        "content": [
                            {
                                "text": "(no output)"
                            }
                        ]
                    }
                }
            ]
        },
        {
            "role": "assistant",
            "content": [
                {
                    "toolUse": {
                        "toolUseId": "tooluse_Jk6CBNyhSBS0wQyWZ0l2AQ",
                        "name": "restricted_shell",
                        "input": {
                            "command": "cd /tmp/workdir/search_strands_20260128/poli && find src/test -name \"*.java\" -type f -exec sed -i 's/@RunWith(SpringRunner\\.class)/@ExtendWith(SpringExtension.class)/g' {} \\;"
                        }
                    }
                }
            ]
        },
        {
            "role": "user",
            "content": [
                {
                    "toolResult": {
                        "toolUseId": "tooluse_Jk6CBNyhSBS0wQyWZ0l2AQ",
                        "status": "success",
                        "content": [
                            {
                                "text": "(no output)"
                            }
                        ]
                    }
                }
            ]
        },
        {
            "role": "assistant",
            "content": [
                {
                    "toolUse": {
                        "toolUseId": "tooluse_BZJn0OeLStST1vANwRdMvg",
                        "name": "restricted_shell",
                        "input": {
                            "command": "cd /tmp/workdir/search_strands_20260128/poli && find src/test -name \"*.java\" -type f -exec sed -i 's/import org\\.springframework\\.test\\.context\\.junit4\\.SpringRunner;/import org.springframework.test.context.junit.jupiter.SpringExtension;/g' {} \\;"
                        }
                    }
                }
            ]
        },
        {
            "role": "user",
            "content": [
                {
                    "toolResult": {
                        "toolUseId": "tooluse_BZJn0OeLStST1vANwRdMvg",
                        "status": "success",
                        "content": [
                            {
                                "text": "(no output)"
                            }
                        ]
                    }
                }
            ]
        },
        {
            "role": "assistant",
            "content": [
                {
                    "text": "Now let's update Assert methods to Assertions:"
                },
                {
                    "toolUse": {
                        "toolUseId": "tooluse_OIIPXdLSQ0SJcYSQOObKWQ",
                        "name": "restricted_shell",
                        "input": {
                            "command": "cd /tmp/workdir/search_strands_20260128/poli && find src/test -name \"*.java\" -type f -exec sed -i 's/Assert\\./Assertions./g' {} \\;"
                        }
                    }
                }
            ]
        },
        {
            "role": "user",
            "content": [
                {
                    "toolResult": {
                        "toolUseId": "tooluse_OIIPXdLSQ0SJcYSQOObKWQ",
                        "status": "success",
                        "content": [
                            {
                                "text": "(no output)"
                            }
                        ]
                    }
                }
            ]
        },
        {
            "role": "assistant",
            "content": [
                {
                    "text": "Let me check if there are any other JUnit 4 imports that need to be updated:"
                },
                {
                    "toolUse": {
                        "toolUseId": "tooluse_El3Zls3YTKeaCwWBZQHhpg",
                        "name": "restricted_shell",
                        "input": {
                            "command": "cd /tmp/workdir/search_strands_20260128/poli && grep -r \"import org.junit\\.\" src/test --include=\"*.java\" | grep -v \"jupiter\" | sort -u"
                        }
                    }
                }
            ]
        },
        {
            "role": "user",
            "content": [
                {
                    "toolResult": {
                        "toolUseId": "tooluse_El3Zls3YTKeaCwWBZQHhpg",
                        "status": "success",
                        "content": [
                            {
                                "text": "(no output)"
                            }
                        ]
                    }
                }
            ]
        },
        {
            "role": "assistant",
            "content": [
                {
                    "text": "Good! Let's verify the changes:"
                },
                {
                    "toolUse": {
                        "toolUseId": "tooluse_50LEe81bTQSSbSnb-WfpJQ",
                        "name": "restricted_shell",
                        "input": {
                            "command": "cd /tmp/workdir/search_strands_20260128/poli && head -30 src/test/java/com/shzlw/poli/rest/AuthWsTest.java"
                        }
                    }
                }
            ]
        },
        {
            "role": "user",
            "content": [
                {
                    "toolResult": {
                        "toolUseId": "tooluse_50LEe81bTQSSbSnb-WfpJQ",
                        "status": "success",
                        "content": [
                            {
                                "text": "package com.shzlw.poli.rest;\n\nimport com.shzlw.poli.dto.LoginResponse;\nimport com.shzlw.poli.model.User;\nimport com.shzlw.poli.util.Constants;\nimport org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.http.MediaType;\nimport org.springframework.test.context.TestPropertySource;\nimport org.springframework.test.context.jdbc.Sql;\nimport org.springframework.test.context.junit.jupiter.SpringExtension;\nimport org.springframework.transaction.annotation.Transactional;\n\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.post;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\n\n@ExtendWith(SpringExtension.class)\n@SpringBootTest\n@AutoConfigureMockMvc\n@Transactional\n@TestPropertySource(locations=\"classpath:application-test.properties\")\n@Sql(scripts = \"classpath:schema-sqlite.sql\", executionPhase = Sql.ExecutionPhase.BEFORE_TEST_METHOD)\npublic class AuthWsTest extends AbstractWsTest {\n\n    @Test\n    public void testLoginAsAdmin() throws Exception {\n"
                            }
                        ]
                    }
                }
            ]
        },
        {
            "role": "assistant",
            "content": [
                {
                    "text": "Perfect! Now let's try compiling the tests again:"
                },
                {
                    "toolUse": {
                        "toolUseId": "tooluse_ekFrUHBnTqm2_tzpP53ggw",
                        "name": "restricted_shell",
                        "input": {
                            "command": "cd /tmp/workdir/search_strands_20260128/poli && mvn clean test-compile 2>&1 | tail -50"
                        }
                    }
                }
            ]
        },
        {
            "role": "user",
            "content": [
                {
                    "toolResult": {
                        "toolUseId": "tooluse_ekFrUHBnTqm2_tzpP53ggw",
                        "status": "success",
                        "content": [
                            {
                                "text": "[INFO] --- jacoco:0.8.12:prepare-agent (prepare-agent) @ poli ---\n[INFO] argLine set to -javaagent:/fsx/ubuntu/.m2/repository/org/jacoco/org.jacoco.agent/0.8.12/org.jacoco.agent-0.8.12-runtime.jar=destfile=/tmp/workdir/search_strands_20260128/poli/target/jacoco.exec\n[INFO] \n[INFO] --- resources:3.3.1:resources (default-resources) @ poli ---\n[INFO] Copying 1 resource from src/main/resources to target/classes\n[INFO] Copying 2 resources from src/main/resources to target/classes\n[INFO] \n[INFO] --- compiler:3.13.0:compile (default-compile) @ poli ---\n[INFO] Recompiling the module because of changed source code.\n[INFO] Compiling 63 source files with javac [debug parameters release 17] to target/classes\n[INFO] /tmp/workdir/search_strands_20260128/poli/src/main/java/com/shzlw/poli/dao/CannedReportDao.java: Some input files use or override a deprecated API.\n[INFO] /tmp/workdir/search_strands_20260128/poli/src/main/java/com/shzlw/poli/dao/CannedReportDao.java: Recompile with -Xlint:deprecation for details.\n[INFO] /tmp/workdir/search_strands_20260128/poli/src/main/java/com/shzlw/poli/config/AppConfig.java: Some input files use unchecked or unsafe operations.\n[INFO] /tmp/workdir/search_strands_20260128/poli/src/main/java/com/shzlw/poli/config/AppConfig.java: Recompile with -Xlint:unchecked for details.\n[INFO] \n[INFO] --- resources:3.3.1:testResources (default-testResources) @ poli ---\n[INFO] Copying 3 resources from src/test/resources to target/test-classes\n[INFO] \n[INFO] --- compiler:3.13.0:testCompile (default-testCompile) @ poli ---\n[INFO] Recompiling the module because of changed dependency.\n[INFO] Compiling 18 source files with javac [debug parameters release 17] to target/test-classes\n[INFO] /tmp/workdir/search_strands_20260128/poli/src/test/java/com/shzlw/poli/rest/CannedReportWsTest.java: Some input files use or override a deprecated API.\n[INFO] /tmp/workdir/search_strands_20260128/poli/src/test/java/com/shzlw/poli/rest/CannedReportWsTest.java: Recompile with -Xlint:deprecation for details.\n[INFO] -------------------------------------------------------------\n[ERROR] COMPILATION ERROR : \n[INFO] -------------------------------------------------------------\n[ERROR] /tmp/workdir/search_strands_20260128/poli/src/test/java/com/shzlw/poli/filter/AuthFilterTest.java:[28,2] cannot find symbol\n  symbol: class RunWith\n[ERROR] /tmp/workdir/search_strands_20260128/poli/src/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:[25,2] cannot find symbol\n  symbol: class RunWith\n[INFO] 2 errors \n[INFO] -------------------------------------------------------------\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  3.124 s\n[INFO] Finished at: 2026-01-29T05:50:53Z\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.13.0:testCompile (default-testCompile) on project poli: Compilation failure: Compilation failure: \n[ERROR] /tmp/workdir/search_strands_20260128/poli/src/test/java/com/shzlw/poli/filter/AuthFilterTest.java:[28,2] cannot find symbol\n[ERROR]   symbol: class RunWith\n[ERROR] /tmp/workdir/search_strands_20260128/poli/src/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:[25,2] cannot find symbol\n[ERROR]   symbol: class RunWith\n[ERROR] -> [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n"
                            }
                        ]
                    }
                }
            ]
        },
        {
            "role": "assistant",
            "content": [
                {
                    "text": "There are still some @RunWith annotations that didn't get replaced. Let me check and fix them:"
                },
                {
                    "toolUse": {
                        "toolUseId": "tooluse_lCIpL_LYT-WCvO09JnoTrg",
                        "name": "restricted_shell",
                        "input": {
                            "command": "cd /tmp/workdir/search_strands_20260128/poli && grep -n \"@RunWith\" src/test/java/com/shzlw/poli/filter/AuthFilterTest.java"
                        }
                    }
                }
            ]
        },
        {
            "role": "user",
            "content": [
                {
                    "toolResult": {
                        "toolUseId": "tooluse_lCIpL_LYT-WCvO09JnoTrg",
                        "status": "success",
                        "content": [
                            {
                                "text": "28:@RunWith(MockitoJUnitRunner.class)\n"
                            }
                        ]
                    }
                }
            ]
        },
        {
            "role": "assistant",
            "content": [
                {
                    "toolUse": {
                        "toolUseId": "tooluse_xIC2P55QSJO04onYHsxLfQ",
                        "name": "restricted_shell",
                        "input": {
                            "command": "cd /tmp/workdir/search_strands_20260128/poli && grep -n \"@RunWith\" src/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java"
                        }
                    }
                }
            ]
        },
        {
            "role": "user",
            "content": [
                {
                    "toolResult": {
                        "toolUseId": "tooluse_xIC2P55QSJO04onYHsxLfQ",
                        "status": "success",
                        "content": [
                            {
                                "text": "25:@RunWith(MockitoJUnitRunner.class)\n"
                            }
                        ]
                    }
                }
            ]
        },
        {
            "role": "assistant",
            "content": [
                {
                    "text": "Now let's check what Mockito runner these tests use and update them:"
                },
                {
                    "toolUse": {
                        "toolUseId": "tooluse_ZoV5_zW1RLGjJYrh4P5eOg",
                        "name": "editor",
                        "input": {
                            "command": "view",
                            "path": "/tmp/workdir/search_strands_20260128/poli/src/test/java/com/shzlw/poli/filter/AuthFilterTest.java",
                            "view_range": [
                                1,
                                40
                            ]
                        }
                    }
                }
            ]
        },
        {
            "role": "user",
            "content": [
                {
                    "toolResult": {
                        "status": "success",
                        "content": [
                            {
                                "text": "File content displayed in console.\nContent: package com.shzlw.poli.filter;\n\nimport com.shzlw.poli.dto.SharedLinkInfo;\nimport com.shzlw.poli.model.User;\nimport com.shzlw.poli.service.SharedReportService;\nimport com.shzlw.poli.service.UserService;\nimport com.shzlw.poli.util.Constants;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mock;\nimport org.mockito.Mockito;\nimport org.mockito.Spy;\nimport org.mockito.junit.MockitoJUnitRunner;\n\nimport jakarta.servlet.FilterChain;\nimport jakarta.servlet.FilterConfig;\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.http.Cookie;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\nimport java.io.IOException;\nimport java.util.Arrays;\nimport java.util.HashSet;\nimport java.util.List;\nimport java.util.Set;\n\n@RunWith(MockitoJUnitRunner.class)\npublic class AuthFilterTest {\n\n    @InjectMocks\n    @Spy\n    AuthFilter authFilter;\n\n    @Mock\n    UserService userService;\n\n    @Mock\n    SharedReportService sharedReportService;\n"
                            }
                        ],
                        "toolUseId": "tooluse_ZoV5_zW1RLGjJYrh4P5eOg"
                    }
                }
            ]
        },
        {
            "role": "assistant",
            "content": [
                {
                    "text": "I need to update the MockitoJUnitRunner references to use JUnit 5's MockitoExtension:"
                },
                {
                    "toolUse": {
                        "toolUseId": "tooluse_T5Lec8vOR5mOMm0gYcwtFA",
                        "name": "restricted_shell",
                        "input": {
                            "command": "cd /tmp/workdir/search_strands_20260128/poli && find src/test -name \"*.java\" -type f -exec sed -i 's/@RunWith(MockitoJUnitRunner\\.class)/@ExtendWith(MockitoExtension.class)/g' {} \\;"
                        }
                    }
                }
            ]
        },
        {
            "role": "user",
            "content": [
                {
                    "toolResult": {
                        "toolUseId": "tooluse_T5Lec8vOR5mOMm0gYcwtFA",
                        "status": "success",
                        "content": [
                            {
                                "text": "(no output)"
                            }
                        ]
                    }
                }
            ]
        },
        {
            "role": "assistant",
            "content": [
                {
                    "toolUse": {
                        "toolUseId": "tooluse_YPFjR39SSsaC262zYiqncw",
                        "name": "restricted_shell",
                        "input": {
                            "command": "cd /tmp/workdir/search_strands_20260128/poli && find src/test -name \"*.java\" -type f -exec sed -i 's/import org\\.mockito\\.junit\\.MockitoJUnitRunner;/import org.mockito.junit.jupiter.MockitoExtension;/g' {} \\;"
                        }
                    }
                }
            ]
        },
        {
            "role": "user",
            "content": [
                {
                    "toolResult": {
                        "toolUseId": "tooluse_YPFjR39SSsaC262zYiqncw",
                        "status": "success",
                        "content": [
                            {
                                "text": "(no output)"
                            }
                        ]
                    }
                }
            ]
        },
        {
            "role": "assistant",
            "content": [
                {
                    "text": "Now let's try compiling again:"
                },
                {
                    "toolUse": {
                        "toolUseId": "tooluse_ClVb6cSDROWW-1JUOnSwZg",
                        "name": "restricted_shell",
                        "input": {
                            "command": "cd /tmp/workdir/search_strands_20260128/poli && mvn clean test-compile 2>&1 | tail -30"
                        }
                    }
                }
            ]
        },
        {
            "role": "user",
            "content": [
                {
                    "toolResult": {
                        "toolUseId": "tooluse_ClVb6cSDROWW-1JUOnSwZg",
                        "status": "success",
                        "content": [
                            {
                                "text": "[INFO] \n[INFO] --- jacoco:0.8.12:prepare-agent (prepare-agent) @ poli ---\n[INFO] argLine set to -javaagent:/fsx/ubuntu/.m2/repository/org/jacoco/org.jacoco.agent/0.8.12/org.jacoco.agent-0.8.12-runtime.jar=destfile=/tmp/workdir/search_strands_20260128/poli/target/jacoco.exec\n[INFO] \n[INFO] --- resources:3.3.1:resources (default-resources) @ poli ---\n[INFO] Copying 1 resource from src/main/resources to target/classes\n[INFO] Copying 2 resources from src/main/resources to target/classes\n[INFO] \n[INFO] --- compiler:3.13.0:compile (default-compile) @ poli ---\n[INFO] Recompiling the module because of changed source code.\n[INFO] Compiling 63 source files with javac [debug parameters release 17] to target/classes\n[INFO] /tmp/workdir/search_strands_20260128/poli/src/main/java/com/shzlw/poli/dao/CannedReportDao.java: Some input files use or override a deprecated API.\n[INFO] /tmp/workdir/search_strands_20260128/poli/src/main/java/com/shzlw/poli/dao/CannedReportDao.java: Recompile with -Xlint:deprecation for details.\n[INFO] /tmp/workdir/search_strands_20260128/poli/src/main/java/com/shzlw/poli/config/AppConfig.java: Some input files use unchecked or unsafe operations.\n[INFO] /tmp/workdir/search_strands_20260128/poli/src/main/java/com/shzlw/poli/config/AppConfig.java: Recompile with -Xlint:unchecked for details.\n[INFO] \n[INFO] --- resources:3.3.1:testResources (default-testResources) @ poli ---\n[INFO] Copying 3 resources from src/test/resources to target/test-classes\n[INFO] \n[INFO] --- compiler:3.13.0:testCompile (default-testCompile) @ poli ---\n[INFO] Recompiling the module because of changed dependency.\n[INFO] Compiling 18 source files with javac [debug parameters release 17] to target/test-classes\n[INFO] /tmp/workdir/search_strands_20260128/poli/src/test/java/com/shzlw/poli/rest/CannedReportWsTest.java: Some input files use or override a deprecated API.\n[INFO] /tmp/workdir/search_strands_20260128/poli/src/test/java/com/shzlw/poli/rest/CannedReportWsTest.java: Recompile with -Xlint:deprecation for details.\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  3.512 s\n[INFO] Finished at: 2026-01-29T05:51:17Z\n[INFO] ------------------------------------------------------------------------\n"
                            }
                        ]
                    }
                }
            ]
        },
        {
            "role": "assistant",
            "content": [
                {
                    "text": "Excellent! The compilation is now successful. Now let's run the full test suite:"
                },
                {
                    "toolUse": {
                        "toolUseId": "tooluse_R6a4pOWXTU6Kt-1RcTa-ew",
                        "name": "restricted_shell",
                        "input": {
                            "command": "cd /tmp/workdir/search_strands_20260128/poli && timeout 300 mvn clean verify 2>&1 | tail -100"
                        }
                    }
                }
            ]
        },
        {
            "role": "user",
            "content": [
                {
                    "toolResult": {
                        "toolUseId": "tooluse_R6a4pOWXTU6Kt-1RcTa-ew",
                        "status": "success",
                        "content": [
                            {
                                "text": "java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@247c43c6 testClass = com.shzlw.poli.dao.AuditLogDaoTest, locations = [], classes = [com.shzlw.poli.App], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [PropertySourceDescriptor[locations=[classpath:application-test.properties], ignoreResourceNotFound=false, name=null, propertySourceFactory=null, encoding=null]], propertySourceProperties = [\"org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true\"], contextCustomizers = [[ImportsContextCustomizer@37d88e50 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6b2e46af, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5c77ba8f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@5fa23c, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@68a4dcc6, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@7fdab70c, org.springframework.boot.test.context.SpringBootTestAnnotation@f7dd8000], resourceBasePath = \"src/main/webapp\", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)\n\tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)\n\tat org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)\n\tat org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)\n\tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)\n\tat org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\n\tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\n\tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\n\tat java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\n\tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\n\tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\n\tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\n\tat java.base/java.util.Optional.orElseGet(Optional.java:364)\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n\n[INFO] Running com.shzlw.poli.dao.DaoHelperTest\n[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.002 s -- in com.shzlw.poli.dao.DaoHelperTest\n[INFO] Running com.shzlw.poli.util.PasswordUtilsTest\n[INFO] Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.008 s -- in com.shzlw.poli.util.PasswordUtilsTest\n[INFO] Running com.shzlw.poli.util.CommonUtilsTest\n[INFO] Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.004 s -- in com.shzlw.poli.util.CommonUtilsTest\n[INFO] \n[INFO] Results:\n[INFO] \n[ERROR] Errors: \n[ERROR]   AuditLogDaoTest.test \u00bb IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@247c43c6 testClass = com.shzlw.poli.dao.AuditLogDaoTest, locations = [], classes = [com.shzlw.poli.App], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [PropertySourceDescriptor[locations=[classpath:application-test.properties], ignoreResourceNotFound=false, name=null, propertySourceFactory=null, encoding=null]], propertySourceProperties = [\"org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true\"], contextCustomizers = [[ImportsContextCustomizer@37d88e50 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6b2e46af, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5c77ba8f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@5fa23c, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@68a4dcc6, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@7fdab70c, org.springframework.boot.test.context.SpringBootTestAnnotation@f7dd8000], resourceBasePath = \"src/main/webapp\", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\n[ERROR]   AuthFilterTest.testShareKeyAccess:311 \u00bb PotentialStubbingProblem \nStrict stubbing argument mismatch. Please check:\n - this invocation of 'getHeader' method:\n    httpRequest.getHeader(\"Poli-Api-Key\");\n    -> at com.shzlw.poli.filter.AuthFilter.authByApiKey(AuthFilter.java:79)\n - has following stubbing(s) with different arguments:\n    1. httpRequest.getHeader(\"Poli-Share-Key\");\n      -> at com.shzlw.poli.filter.AuthFilterTest.testShareKeyAccess(AuthFilterTest.java:292)\nTypically, stubbing argument mismatch indicates user mistake when writing tests.\nMockito fails early so that you can debug potential problem easily.\nHowever, there are legit scenarios when this exception generates false negative signal:\n  - stubbing the same method multiple times using 'given().will()' or 'when().then()' API\n    Please use 'will().given()' or 'doReturn().when()' API for stubbing.\n  - stubbed method is intentionally invoked with different arguments by code under test\n    Please use default or 'silent' JUnit Rule (equivalent of Strictness.LENIENT).\nFor more information see javadoc for PotentialStubbingProblem class.\n[ERROR]   AuthFilterTest.testShareKeyAccess_unauthorized:345 \u00bb PotentialStubbingProblem \nStrict stubbing argument mismatch. Please check:\n - this invocation of 'getHeader' method:\n    httpRequest.getHeader(\"Poli-Api-Key\");\n    -> at com.shzlw.poli.filter.AuthFilter.authByApiKey(AuthFilter.java:79)\n - has following stubbing(s) with different arguments:\n    1. httpRequest.getHeader(\"Poli-Share-Key\");\n      -> at com.shzlw.poli.filter.AuthFilterTest.testShareKeyAccess_unauthorized(AuthFilterTest.java:326)\nTypically, stubbing argument mismatch indicates user mistake when writing tests.\nMockito fails early so that you can debug potential problem easily.\nHowever, there are legit scenarios when this exception generates false negative signal:\n  - stubbing the same method multiple times using 'given().will()' or 'when().then()' API\n    Please use 'will().given()' or 'doReturn().when()' API for stubbing.\n  - stubbed method is intentionally invoked with different arguments by code under test\n    Please use default or 'silent' JUnit Rule (equivalent of Strictness.LENIENT).\nFor more information see javadoc for PotentialStubbingProblem class.\n[ERROR]   AuthWsTest.testChangeTempPassowrd_moreCharacters \u00bb IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@21624bde testClass = com.shzlw.poli.rest.AuthWsTest, locations = [], classes = [com.shzlw.poli.App], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [PropertySourceDescriptor[locations=[classpath:application-test.properties], ignoreResourceNotFound=false, name=null, propertySourceFactory=null, encoding=null]], propertySourceProperties = [\"org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true\"], contextCustomizers = [[ImportsContextCustomizer@3f321f8 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6b2e46af, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5c77ba8f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@5fa23c, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@68a4dcc6, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@7fdab70c, org.springframework.boot.test.context.SpringBootTestAnnotation@f7dd8000], resourceBasePath = \"src/main/webapp\", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\n[ERROR]   AuthWsTest.testChangeTempPassowrd_success \u00bb IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@21624bde testClass = com.shzlw.poli.rest.AuthWsTest, locations = [], classes = [com.shzlw.poli.App], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [PropertySourceDescriptor[locations=[classpath:application-test.properties], ignoreResourceNotFound=false, name=null, propertySourceFactory=null, encoding=null]], propertySourceProperties = [\"org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true\"], contextCustomizers = [[ImportsContextCustomizer@3f321f8 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6b2e46af, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5c77ba8f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@5fa23c, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@68a4dcc6, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@7fdab70c, org.springframework.boot.test.context.SpringBootTestAnnotation@f7dd8000], resourceBasePath = \"src/main/webapp\", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\n[ERROR]   AuthWsTest.testGenerateApiKey \u00bb IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@21624bde testClass = com.shzlw.poli.rest.AuthWsTest, locations = [], classes = [com.shzlw.poli.App], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [PropertySourceDescriptor[locations=[classpath:application-test.properties], ignoreResourceNotFound=false, name=null, propertySourceFactory=null, encoding=null]], propertySourceProperties = [\"org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true\"], contextCustomizers = [[ImportsContextCustomizer@3f321f8 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6b2e46af, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5c77ba8f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@5fa23c, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@68a4dcc6, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@7fdab70c, org.springframework.boot.test.context.SpringBootTestAnnotation@f7dd8000], resourceBasePath = \"src/main/webapp\", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\n[ERROR]   AuthWsTest.testLoginAsAdmin \u00bb IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@21624bde testClass = com.shzlw.poli.rest.AuthWsTest, locations = [], classes = [com.shzlw.poli.App], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [PropertySourceDescriptor[locations=[classpath:application-test.properties], ignoreResourceNotFound=false, name=null, propertySourceFactory=null, encoding=null]], propertySourceProperties = [\"org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true\"], contextCustomizers = [[ImportsContextCustomizer@3f321f8 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6b2e46af, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5c77ba8f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@5fa23c, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@68a4dcc6, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@7fdab70c, org.springframework.boot.test.context.SpringBootTestAnnotation@f7dd8000], resourceBasePath = \"src/main/webapp\", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\n[ERROR]   AuthWsTest.testLoginByApiKey \u00bb IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@21624bde testClass = com.shzlw.poli.rest.AuthWsTest, locations = [], classes = [com.shzlw.poli.App], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [PropertySourceDescriptor[locations=[classpath:application-test.properties], ignoreResourceNotFound=false, name=null, propertySourceFactory=null, encoding=null]], propertySourceProperties = [\"org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true\"], contextCustomizers = [[ImportsContextCustomizer@3f321f8 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6b2e46af, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5c77ba8f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@5fa23c, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@68a4dcc6, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@7fdab70c, org.springframework.boot.test.context.SpringBootTestAnnotation@f7dd8000], resourceBasePath = \"src/main/webapp\", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\n[ERROR]   AuthWsTest.testLoginWithCookie \u00bb IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@21624bde testClass = com.shzlw.poli.rest.AuthWsTest, locations = [], classes = [com.shzlw.poli.App], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [PropertySourceDescriptor[locations=[classpath:application-test.properties], ignoreResourceNotFound=false, name=null, propertySourceFactory=null, encoding=null]], propertySourceProperties = [\"org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true\"], contextCustomizers = [[ImportsContextCustomizer@3f321f8 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6b2e46af, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5c77ba8f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@5fa23c, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@68a4dcc6, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@7fdab70c, org.springframework.boot.test.context.SpringBootTestAnnotation@f7dd8000], resourceBasePath = \"src/main/webapp\", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\n[ERROR]   AuthWsTest.testLogout \u00bb IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@21624bde testClass = com.shzlw.poli.rest.AuthWsTest, locations = [], classes = [com.shzlw.poli.App], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [PropertySourceDescriptor[locations=[classpath:application-test.properties], ignoreResourceNotFound=false, name=null, propertySourceFactory=null, encoding=null]], propertySourceProperties = [\"org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true\"], contextCustomizers = [[ImportsContextCustomizer@3f321f8 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6b2e46af, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5c77ba8f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@5fa23c, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@68a4dcc6, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@7fdab70c, org.springframework.boot.test.context.SpringBootTestAnnotation@f7dd8000], resourceBasePath = \"src/main/webapp\", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\n[ERROR]   CannedReportWsTest.test \u00bb IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@28c319a2 testClass = com.shzlw.poli.rest.CannedReportWsTest, locations = [], classes = [com.shzlw.poli.App], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [PropertySourceDescriptor[locations=[classpath:application-test.properties], ignoreResourceNotFound=false, name=null, propertySourceFactory=null, encoding=null]], propertySourceProperties = [\"org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true\"], contextCustomizers = [[ImportsContextCustomizer@23cd4444 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6b2e46af, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5c77ba8f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@5fa23c, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@68a4dcc6, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@7fdab70c, org.springframework.boot.test.context.SpringBootTestAnnotation@f7dd8000], resourceBasePath = \"src/main/webapp\", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\n[ERROR]   ComponentWsTest.test \u00bb IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@38187be6 testClass = com.shzlw.poli.rest.ComponentWsTest, locations = [], classes = [com.shzlw.poli.App], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [PropertySourceDescriptor[locations=[classpath:application-test.properties], ignoreResourceNotFound=false, name=null, propertySourceFactory=null, encoding=null]], propertySourceProperties = [\"org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true\"], contextCustomizers = [[ImportsContextCustomizer@38ffba03 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6b2e46af, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5c77ba8f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@5fa23c, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@68a4dcc6, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@7fdab70c, org.springframework.boot.test.context.SpringBootTestAnnotation@f7dd8000], resourceBasePath = \"src/main/webapp\", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\n[ERROR]   GroupWsTest.test \u00bb IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@5b2728db testClass = com.shzlw.poli.rest.GroupWsTest, locations = [], classes = [com.shzlw.poli.App], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [PropertySourceDescriptor[locations=[classpath:application-test.properties], ignoreResourceNotFound=false, name=null, propertySourceFactory=null, encoding=null]], propertySourceProperties = [\"org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true\"], contextCustomizers = [[ImportsContextCustomizer@32be264e key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6b2e46af, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5c77ba8f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@5fa23c, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@68a4dcc6, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@7fdab70c, org.springframework.boot.test.context.SpringBootTestAnnotation@f7dd8000], resourceBasePath = \"src/main/webapp\", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\n[ERROR]   InfoWsTest.testGetAppInfo \u00bb IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@402c3dce testClass = com.shzlw.poli.rest.InfoWsTest, locations = [], classes = [com.shzlw.poli.App], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [PropertySourceDescriptor[locations=[classpath:application-test.properties], ignoreResourceNotFound=false, name=null, propertySourceFactory=null, encoding=null]], propertySourceProperties = [\"org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true\"], contextCustomizers = [[ImportsContextCustomizer@5d0e1f13 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6b2e46af, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5c77ba8f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@5fa23c, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@68a4dcc6, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@7fdab70c, org.springframework.boot.test.context.SpringBootTestAnnotation@f7dd8000], resourceBasePath = \"src/main/webapp\", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\n[ERROR]   JdbcDataSourceWsTest.test \u00bb IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@48b3ce9b testClass = com.shzlw.poli.rest.JdbcDataSourceWsTest, locations = [], classes = [com.shzlw.poli.App], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [PropertySourceDescriptor[locations=[classpath:application-test.properties], ignoreResourceNotFound=false, name=null, propertySourceFactory=null, encoding=null]], propertySourceProperties = [\"org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true\"], contextCustomizers = [[ImportsContextCustomizer@6b7ff02a key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6b2e46af, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5c77ba8f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@5fa23c, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@68a4dcc6, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@7fdab70c, org.springframework.boot.test.context.SpringBootTestAnnotation@f7dd8000], resourceBasePath = \"src/main/webapp\", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\n[ERROR]   ReportWsTest.test \u00bb IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@274ac029 testClass = com.shzlw.poli.rest.ReportWsTest, locations = [], classes = [com.shzlw.poli.App], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [PropertySourceDescriptor[locations=[classpath:application-test.properties], ignoreResourceNotFound=false, name=null, propertySourceFactory=null, encoding=null]], propertySourceProperties = [\"org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true\"], contextCustomizers = [[ImportsContextCustomizer@42c5d861 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6b2e46af, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5c77ba8f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@5fa23c, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@68a4dcc6, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@7fdab70c, org.springframework.boot.test.context.SpringBootTestAnnotation@f7dd8000], resourceBasePath = \"src/main/webapp\", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\n[ERROR]   ReportWsTest.testFindAllByViewer \u00bb IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@274ac029 testClass = com.shzlw.poli.rest.ReportWsTest, locations = [], classes = [com.shzlw.poli.App], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [PropertySourceDescriptor[locations=[classpath:application-test.properties], ignoreResourceNotFound=false, name=null, propertySourceFactory=null, encoding=null]], propertySourceProperties = [\"org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true\"], contextCustomizers = [[ImportsContextCustomizer@42c5d861 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6b2e46af, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5c77ba8f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@5fa23c, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@68a4dcc6, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@7fdab70c, org.springframework.boot.test.context.SpringBootTestAnnotation@f7dd8000], resourceBasePath = \"src/main/webapp\", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\n[ERROR]   SavedQueryWsTest.test \u00bb IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@2de08488 testClass = com.shzlw.poli.rest.SavedQueryWsTest, locations = [], classes = [com.shzlw.poli.App], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [PropertySourceDescriptor[locations=[classpath:application-test.properties], ignoreResourceNotFound=false, name=null, propertySourceFactory=null, encoding=null]], propertySourceProperties = [\"org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true\"], contextCustomizers = [[ImportsContextCustomizer@4f0ea6f8 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6b2e46af, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5c77ba8f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@5fa23c, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@68a4dcc6, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@7fdab70c, org.springframework.boot.test.context.SpringBootTestAnnotation@f7dd8000], resourceBasePath = \"src/main/webapp\", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\n[ERROR]   SharedReportWsTest.test \u00bb IllegalState ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@72d1a87a testClass = com.shzlw.poli.rest.SharedReportWsTest, locations = [], classes = [com.shzlw.poli.App], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [PropertySourceDescriptor[locations=[classpath:application-test.properties], ignoreResourceNotFound=false, name=null, propertySourceFactory=null, encoding=null]], propertySourceProperties = [\"org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true\"], contextCustomizers = [[ImportsContextCustomizer@6fc277e4 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6b2e46af, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5c77ba8f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@5fa23c, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@68a4dcc6, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@7fdab70c, org.springframework.boot.test.context.SpringBootTestAnnotation@f7dd8000], resourceBasePath = \"src/main/webapp\", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\n[ERROR]   UserWsTest.test \u00bb IllegalState Failed to load ApplicationContext for [WebMergedContextConfiguration@204d101 testClass = com.shzlw.poli.rest.UserWsTest, locations = [], classes = [com.shzlw.poli.App], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [PropertySourceDescriptor[locations=[classpath:application-test.properties], ignoreResourceNotFound=false, name=null, propertySourceFactory=null, encoding=null]], propertySourceProperties = [\"org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true\"], contextCustomizers = [[ImportsContextCustomizer@7d1cdebf key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6b2e46af, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5c77ba8f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@5fa23c, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@68a4dcc6, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@7fdab70c, org.springframework.boot.test.context.SpringBootTestAnnotation@f7dd8000], resourceBasePath = \"src/main/webapp\", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\n[INFO] \n[ERROR] Tests run: 59, Failures: 0, Errors: 20, Skipped: 0\n[INFO] \n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  7.763 s\n[INFO] Finished at: 2026-01-29T05:51:28Z\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.2.5:test (default-test) on project poli: \n[ERROR] \n[ERROR] Please refer to /tmp/workdir/search_strands_20260128/poli/target/surefire-reports for the individual test results.\n[ERROR] Please refer to dump files (if any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream.\n[ERROR] -> [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n"
                            }
                        ]
                    }
                }
            ]
        },
        {
            "role": "assistant",
            "content": [
                {
                    "text": "The tests are now compiling but there are ApplicationContext loading errors. Let me check the root cause by looking at the full error log:"
                },
                {
                    "toolUse": {
                        "toolUseId": "tooluse_ScT3aFyxTGGpCTIhAI2xIA",
                        "name": "restricted_shell",
                        "input": {
                            "command": "cd /tmp/workdir/search_strands_20260128/poli && mvn clean test 2>&1 | grep -A 30 \"Caused by:\" | head -60"
                        }
                    }
                }
            ]
        },
        {
            "role": "user",
            "content": [
                {
                    "toolResult": {
                        "toolUseId": "tooluse_ScT3aFyxTGGpCTIhAI2xIA",
                        "status": "success",
                        "content": [
                            {
                                "text": "Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'viewControllerHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: No more pattern data allowed after {*...} or ** pattern element\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975)\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:971)\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:335)\n\tat org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)\n\tat org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)\n\tat org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)\n\tat org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1463)\n\tat org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553)\n\tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)\n\tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)\n\t... 17 more\nCaused by: org.springframework.web.util.pattern.PatternParseException: No more pattern data allowed after {*...} or ** pattern element\n\tat org.springframework.web.util.pattern.InternalPathPatternParser.peekDoubleWildcard(InternalPathPatternParser.java:250)\n\tat org.springframework.web.util.pattern.InternalPathPatternParser.parse(InternalPathPatternParser.java:113)\n\tat org.springframework.web.util.pattern.PathPatternParser.parse(PathPatternParser.java:129)\n\tat org.springframework.web.servlet.handler.AbstractUrlHandlerMapping.registerHandler(AbstractUrlHandlerMapping.java:449)\n\tat org.springframework.web.servlet.handler.SimpleUrlHandlerMapping.lambda$registerHandlers$0(SimpleUrlHandlerMapping.java:161)\n\tat java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721)\n\tat org.springframework.web.servlet.handler.SimpleUrlHandlerMapping.registerHandlers(SimpleUrlHandlerMapping.java:152)\n\tat org.springframework.web.servlet.handler.SimpleUrlHandlerMapping.initApplicationContext(SimpleUrlHandlerMapping.java:138)\n\tat org.springframework.context.support.ApplicationObjectSupport.initApplicationContext(ApplicationObjectSupport.java:124)\n\tat org.springframework.web.context.support.WebApplicationObjectSupport.initApplicationContext(WebApplicationObjectSupport.java:78)\n\tat org.springframework.context.support.ApplicationObjectSupport.setApplicationContext(ApplicationObjectSupport.java:78)\n\tat org.springframework.context.support.ApplicationContextAwareProcessor.invokeAwareInterfaces(ApplicationContextAwareProcessor.java:110)\n\tat org.springframework.context.support.ApplicationContextAwareProcessor.postProcessBeforeInitialization(ApplicationContextAwareProcessor.java:85)\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:422)\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1798)\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)\n\t... 37 more\n\n[INFO] Running com.shzlw.poli.rest.JdbcQueryWsTest\nOpenJDK 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended\n[INFO] Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.601 s -- in com.shzlw.poli.rest.JdbcQueryWsTest\n[INFO] Running com.shzlw.poli.rest.InfoWsTest\n2026-01-29T05:51:48.507Z  INFO 3913572 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.shzlw.poli.App for test class com.shzlw.poli.rest.InfoWsTest\n[ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.018 s <<< FAILURE! -- in com.shzlw.poli.rest.InfoWsTest\n[ERROR] com.shzlw.poli.rest.InfoWsTest.testGetAppInfo -- Time elapsed: 0.001 s <<< ERROR!\njava.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@27bbd688 testClass = com.shzlw.poli.rest.InfoWsTest, locations = [], classes = [com.shzlw.poli.App], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [PropertySourceDescriptor[locations=[classpath:application-test.properties], ignoreResourceNotFound=false, name=null, propertySourceFactory=null, encoding=null]], propertySourceProperties = [\"org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true\"], contextCustomizers = [[ImportsContextCustomizer@60af38ec key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6b2e46af, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5c77ba8f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@5fa23c, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@68a4dcc6, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@7fdab70c, org.springframework.boot.test.context.SpringBootTestAnnotation@f7dd8000], resourceBasePath = \"src/main/webapp\", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)\n\tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)\n\tat org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)\n\tat org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)\n"
                            }
                        ]
                    }
                }
            ]
        },
        {
            "role": "assistant",
            "content": [
                {
                    "text": "The error is \"No more pattern data allowed after {*...} or ** pattern element\". This is a common issue when migrating from Spring Boot 2 to Spring Boot 3. The URL pattern matching rules have changed. Let me find where the path patterns are defined:"
                },
                {
                    "toolUse": {
                        "toolUseId": "tooluse_eBjz8JQtSQiXUsXaD6Io1w",
                        "name": "restricted_shell",
                        "input": {
                            "command": "cd /tmp/workdir/search_strands_20260128/poli && grep -r \"/**/**\" src/ --include=\"*.java\""
                        }
                    }
                }
            ]
        },
        {
            "role": "user",
            "content": [
                {
                    "toolResult": {
                        "toolUseId": "tooluse_eBjz8JQtSQiXUsXaD6Io1w",
                        "status": "success",
                        "content": [
                            {
                                "text": "src/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:package com.shzlw.poli.rest;\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:import com.fasterxml.jackson.core.type.TypeReference;\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:import com.shzlw.poli.dao.JdbcDataSourceDao;\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:import com.shzlw.poli.model.JdbcDataSource;\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:import com.shzlw.poli.util.Constants;\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:import org.junit.jupiter.api.Assertions;\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:import org.junit.jupiter.api.Test;\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:import org.junit.jupiter.api.extension.ExtendWith;\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:import org.springframework.beans.factory.annotation.Autowired;\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:import org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:import org.springframework.boot.test.context.SpringBootTest;\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:import org.springframework.http.MediaType;\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:import org.springframework.test.context.TestPropertySource;\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:import org.springframework.test.context.jdbc.Sql;\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:import org.springframework.test.context.junit.jupiter.SpringExtension;\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:import org.springframework.transaction.annotation.Transactional;\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:import org.springframework.util.StringUtils;\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:import java.util.List;\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.*;\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:@ExtendWith(SpringExtension.class)\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:@SpringBootTest\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:@AutoConfigureMockMvc\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:@Transactional\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:@TestPropertySource(locations=\"classpath:application-test.properties\")\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:@Sql(scripts = \"classpath:schema-sqlite.sql\", executionPhase = Sql.ExecutionPhase.BEFORE_TEST_METHOD)\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:public class JdbcDataSourceWsTest extends AbstractWsTest {\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:    @Autowired\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:    JdbcDataSourceDao jdbcDataSourceDao;\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:    @Test\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:    public void test() throws Exception {\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:        // ********** Create **********\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:        JdbcDataSource j1 = new JdbcDataSource();\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:        j1.setName(\"j1\");\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:        j1.setConnectionUrl(\"c1\");\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:        j1.setDriverClassName(\"d1\");\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:        j1.setUsername(\"u1\");\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:        j1.setPassword(\"p1\");\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:        j1.setPing(\"p1\");\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:        String body = mapper.writeValueAsString(j1);\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:        mvcResult = mvc.perform(\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:                post(JDBCDATASOURCES_BASE_URL)\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:                        .contentType(MediaType.APPLICATION_JSON)\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:                        .requestAttr(Constants.HTTP_REQUEST_ATTR_USER, adminUser)\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:                        .content(body)\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:        )\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:                .andExpect(status().isCreated())\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:                .andReturn();\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:        long id = Long.parseLong(mvcResult.getResponse().getContentAsString());\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:        // Verify one\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:        responeText = findJdbcDataSource(id);\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:        JdbcDataSource saved = mapper.readValue(responeText, JdbcDataSource.class);\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:        assertJdbcDataSource(j1, saved);\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:        // Verify the list\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:        mvcResult = mvc.perform(\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:                get(JDBCDATASOURCES_BASE_URL)\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:                        .requestAttr(Constants.HTTP_REQUEST_ATTR_USER, adminUser)\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:        )\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:                .andReturn();\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:        responeText = mvcResult.getResponse().getContentAsString();\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:        List<JdbcDataSource> jdbcDataSources = mapper.readValue(responeText, new TypeReference<List<JdbcDataSource>>() {});\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:        Assertions.assertEquals(1, jdbcDataSources.size());\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:        saved = jdbcDataSources.get(0);\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:        assertJdbcDataSource(j1, saved);\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:        // ********** Update information only **********\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:        j1.setId(id);\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:        j1.setName(\"j2\");\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:        j1.setConnectionUrl(\"c2\");\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:        j1.setDriverClassName(\"d2\");\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:        j1.setUsername(\"u2\");\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:        j1.setPing(\"p2\");\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:        body = mapper.writeValueAsString(j1);\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:        mvcResult = mvc.perform(\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:                put(JDBCDATASOURCES_BASE_URL)\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:                        .contentType(MediaType.APPLICATION_JSON)\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:                        .requestAttr(Constants.HTTP_REQUEST_ATTR_USER, adminUser)\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:                        .content(body)\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:        )\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:                .andExpect(status().isOk())\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:                .andReturn();\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:        responeText = findJdbcDataSource(id);\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:        saved = mapper.readValue(responeText, JdbcDataSource.class);\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:        assertJdbcDataSource(j1, saved);\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:        // ********** Update password **********\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:        j1.setId(id);\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:        j1.setPassword(\"p3\");\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:        body = mapper.writeValueAsString(j1);\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:        mvcResult = mvc.perform(\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:                put(JDBCDATASOURCES_BASE_URL)\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:                        .contentType(MediaType.APPLICATION_JSON)\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:                        .requestAttr(Constants.HTTP_REQUEST_ATTR_USER, adminUser)\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:                        .content(body)\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:        )\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:                .andExpect(status().isOk())\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:                .andReturn();\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:        saved = jdbcDataSourceDao.findById(id);\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:        Assertions.assertEquals(saved.getPassword(), j1.getPassword());\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:        // ********** Delete **********\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:        mvcResult = mvc.perform(\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:                delete(JDBCDATASOURCES_BASE_URL + \"/\" + id)\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:                        .requestAttr(Constants.HTTP_REQUEST_ATTR_USER, adminUser)\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:        )\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:                .andExpect(status().isNoContent())\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:                .andReturn();\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:        // Verify\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:        responeText = findJdbcDataSource(id);\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:        Assertions.assertTrue(StringUtils.isEmpty(responeText));\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:    }\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:    private String findJdbcDataSource(long id) throws Exception {\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:        mvcResult = mvc.perform(\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:                get(JDBCDATASOURCES_BASE_URL + \"/\" + id)\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:                        .requestAttr(Constants.HTTP_REQUEST_ATTR_USER, adminUser)\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:        )\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:                .andReturn();\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:        return mvcResult.getResponse().getContentAsString();\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:    }\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:    private void assertJdbcDataSource(JdbcDataSource expected, JdbcDataSource target) {\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:        Assertions.assertEquals(expected.getName(), target.getName());\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:        Assertions.assertEquals(expected.getConnectionUrl(), target.getConnectionUrl());\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:        Assertions.assertEquals(expected.getDriverClassName(), target.getDriverClassName());\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:        Assertions.assertEquals(expected.getUsername(), target.getUsername());\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:        Assertions.assertEquals(expected.getPing(), target.getPing());\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:        Assertions.assertNull(target.getPassword());\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:    }\nsrc/test/java/com/shzlw/poli/rest/JdbcDataSourceWsTest.java:}\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:package com.shzlw.poli.rest;\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:import com.fasterxml.jackson.core.type.TypeReference;\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:import com.shzlw.poli.model.SavedQuery;\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:import com.shzlw.poli.util.Constants;\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:import org.junit.jupiter.api.Assertions;\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:import org.junit.jupiter.api.Test;\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:import org.junit.jupiter.api.extension.ExtendWith;\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:import org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:import org.springframework.boot.test.context.SpringBootTest;\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:import org.springframework.http.MediaType;\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:import org.springframework.test.context.TestPropertySource;\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:import org.springframework.test.context.jdbc.Sql;\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:import org.springframework.test.context.junit.jupiter.SpringExtension;\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:import org.springframework.transaction.annotation.Transactional;\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:import org.springframework.util.StringUtils;\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:import java.util.List;\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.*;\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:@ExtendWith(SpringExtension.class)\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:@SpringBootTest\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:@AutoConfigureMockMvc\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:@Transactional\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:@TestPropertySource(locations=\"classpath:application-test.properties\")\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:@Sql(scripts = \"classpath:schema-sqlite.sql\", executionPhase = Sql.ExecutionPhase.BEFORE_TEST_METHOD)\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:public class SavedQueryWsTest extends AbstractWsTest {\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:    @Test\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:    public void test() throws Exception {\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:        // ********** Create **********\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:        SavedQuery newQuery = new SavedQuery();\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:        newQuery.setName(\"q1\");\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:        newQuery.setSqlQuery(\"query\");\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:        newQuery.setJdbcDataSourceId(1);\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:        newQuery.setEndpointName(\"endpointName\");\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:        newQuery.setEndpointAccessCode(\"endpointAccessCode\");\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:        String body = mapper.writeValueAsString(newQuery);\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:        mvcResult = mvc.perform(\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:                post(SAVEDQUERIES_BASE_URL)\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:                        .contentType(MediaType.APPLICATION_JSON)\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:                        .requestAttr(Constants.HTTP_REQUEST_ATTR_USER, adminUser)\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:                        .content(body)\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:        )\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:                .andExpect(status().isCreated())\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:                .andReturn();\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:        long id = Long.parseLong(mvcResult.getResponse().getContentAsString());\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:        // Verify one\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:        responeText = findSavedQuery(id);\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:        SavedQuery saved = mapper.readValue(responeText, SavedQuery.class);\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:        Assertions.assertEquals(newQuery.getName(), saved.getName());\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:        Assertions.assertEquals(newQuery.getSqlQuery(), saved.getSqlQuery());\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:        Assertions.assertEquals(newQuery.getJdbcDataSourceId(), saved.getJdbcDataSourceId());\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:        Assertions.assertEquals(newQuery.getEndpointName(), saved.getEndpointName());\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:        Assertions.assertEquals(newQuery.getEndpointAccessCode(), saved.getEndpointAccessCode());\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:        // Verify the list\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:        mvcResult = mvc.perform(\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:                get(SAVEDQUERIES_BASE_URL)\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:                        .requestAttr(Constants.HTTP_REQUEST_ATTR_USER, adminUser)\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:        )\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:                .andReturn();\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:        responeText = mvcResult.getResponse().getContentAsString();\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:        List<SavedQuery> savedQueryList = mapper.readValue(responeText, new TypeReference<List<SavedQuery>>() {});\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:        Assertions.assertEquals(1, savedQueryList.size());\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:        saved = savedQueryList.get(0);\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:        Assertions.assertEquals(newQuery.getName(), saved.getName());\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:        Assertions.assertEquals(newQuery.getEndpointName(), saved.getEndpointName());\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:        // Not included.\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:        Assertions.assertEquals(0, saved.getJdbcDataSourceId());\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:        Assertions.assertNull(newQuery.getSqlQuery(), saved.getSqlQuery());\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:        Assertions.assertNull(saved.getEndpointAccessCode());\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:        // ********** Update **********\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:        SavedQuery q2 = new SavedQuery();\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:        q2.setId(id);\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:        q2.setName(\"q2\");\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:        q2.setSqlQuery(\"query2\");\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:        q2.setJdbcDataSourceId(2);\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:        q2.setEndpointName(\"endpointName2\");\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:        q2.setEndpointAccessCode(\"endpointAccessCode2\");\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:        body = mapper.writeValueAsString(q2);\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:        mvcResult = mvc.perform(\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:                put(SAVEDQUERIES_BASE_URL)\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:                        .contentType(MediaType.APPLICATION_JSON)\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:                        .requestAttr(Constants.HTTP_REQUEST_ATTR_USER, adminUser)\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:                        .content(body)\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:        )\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:                .andExpect(status().isOk())\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:                .andReturn();\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:        responeText = findSavedQuery(id);\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:        saved = mapper.readValue(responeText, SavedQuery.class);\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:        Assertions.assertEquals(q2.getName(), saved.getName());\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:        Assertions.assertEquals(q2.getSqlQuery(), saved.getSqlQuery());\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:        Assertions.assertEquals(q2.getJdbcDataSourceId(), saved.getJdbcDataSourceId());\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:        Assertions.assertEquals(q2.getEndpointName(), saved.getEndpointName());\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:        Assertions.assertEquals(q2.getEndpointAccessCode(), saved.getEndpointAccessCode());\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:        // ********** Delete **********\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:        mvcResult = mvc.perform(\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:                delete(SAVEDQUERIES_BASE_URL+ \"/\" + id)\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:                        .requestAttr(Constants.HTTP_REQUEST_ATTR_USER, adminUser)\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:        )\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:                .andExpect(status().isNoContent())\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:                .andReturn();\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:        // Verify\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:        responeText = findSavedQuery(id);\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:        Assertions.assertTrue(StringUtils.isEmpty(responeText));\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:    }\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:    private String findSavedQuery(long id) throws Exception {\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:        mvcResult = mvc.perform(\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:                get(SAVEDQUERIES_BASE_URL+ \"/\" + id)\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:                        .requestAttr(Constants.HTTP_REQUEST_ATTR_USER, adminUser)\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:        )\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:                .andReturn();\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:        return mvcResult.getResponse().getContentAsString();\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:    }\nsrc/test/java/com/shzlw/poli/rest/SavedQueryWsTest.java:}\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:package com.shzlw.poli.rest;\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:import com.fasterxml.jackson.core.type.TypeReference;\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:import com.shzlw.poli.model.Group;\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:import com.shzlw.poli.model.Report;\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:import com.shzlw.poli.model.User;\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:import com.shzlw.poli.util.Constants;\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:import org.junit.jupiter.api.Assertions;\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:import org.junit.jupiter.api.Test;\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:import org.junit.jupiter.api.extension.ExtendWith;\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:import org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:import org.springframework.boot.test.context.SpringBootTest;\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:import org.springframework.http.MediaType;\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:import org.springframework.test.context.TestPropertySource;\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:import org.springframework.test.context.jdbc.Sql;\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:import org.springframework.test.context.junit.jupiter.SpringExtension;\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:import org.springframework.util.StringUtils;\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:import java.util.Arrays;\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:import java.util.List;\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.*;\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:@ExtendWith(SpringExtension.class)\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:@SpringBootTest\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:@AutoConfigureMockMvc\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:@TestPropertySource(locations=\"classpath:application-test.properties\")\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:@Sql(scripts = \"classpath:schema-sqlite.sql\", executionPhase = Sql.ExecutionPhase.BEFORE_TEST_METHOD)\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:public class ReportWsTest extends AbstractWsTest {\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:    @Test\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:    public void test() throws Exception {\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:        // ********** Create **********\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:        Report newReport = new Report();\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:        newReport.setName(\"d1\");\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:        newReport.setStyle(\"{}\");\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:        String body = mapper.writeValueAsString(newReport);\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:        mvcResult = mvc.perform(\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:                        post(REPORTS_BASE_URL)\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:                            .contentType(MediaType.APPLICATION_JSON)\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:                                .requestAttr(Constants.HTTP_REQUEST_ATTR_USER, adminUser)\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:                            .content(body)\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:                        )\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:                        .andExpect(status().isCreated())\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:                        .andReturn();\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:        long id = Long.parseLong(mvcResult.getResponse().getContentAsString());\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:        // Verify one\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:        responeText = findReport(id);\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:        Report saved = mapper.readValue(responeText, Report.class);\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:        Assertions.assertEquals(newReport.getName(), saved.getName());\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:        Assertions.assertEquals(newReport.getStyle(), saved.getStyle());\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:        // Verify the list\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:        mvcResult = mvc.perform(\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:                get(REPORTS_BASE_URL)\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:                        .requestAttr(Constants.HTTP_REQUEST_ATTR_USER, adminUser)\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:        )\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:                .andReturn();\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:        responeText = mvcResult.getResponse().getContentAsString();\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:        List<Report> reports = mapper.readValue(responeText, new TypeReference<List<Report>>() {});\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:        Assertions.assertEquals(1, reports.size());\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:        saved = reports.get(0);\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:        Assertions.assertEquals(id, saved.getId());\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:        Assertions.assertEquals(newReport.getName(), saved.getName());\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:        Assertions.assertEquals(newReport.getStyle(), saved.getStyle());\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:        // ********** Update **********\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:        newReport = new Report();\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:        newReport.setId(id);\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:        newReport.setName(\"d2\");\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:        newReport.setStyle(\"{}\");\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:        body = mapper.writeValueAsString(newReport);\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:        mvcResult = mvc.perform(\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:                put(REPORTS_BASE_URL)\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:                        .contentType(MediaType.APPLICATION_JSON)\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:                        .requestAttr(Constants.HTTP_REQUEST_ATTR_USER, adminUser)\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:                        .content(body)\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:        )\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:                .andExpect(status().isOk())\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:                .andReturn();\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:        // Verify find by name\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:        mvcResult = mvc.perform(\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:                get(REPORTS_BASE_URL + \"/name/\" + newReport.getName())\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:                        .requestAttr(Constants.HTTP_REQUEST_ATTR_USER, adminUser)\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:        )\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:                .andReturn();\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:        responeText = mvcResult.getResponse().getContentAsString();\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:        saved = mapper.readValue(responeText, Report.class);\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:        Assertions.assertEquals(newReport.getId(), saved.getId());\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:        Assertions.assertEquals(newReport.getName(), saved.getName());\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:        Assertions.assertEquals(newReport.getStyle(), saved.getStyle());\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:        // ********** Delete **********\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:        // Create some components\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:        int numOfComponents = 10;\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:        for (int i = 0; i < numOfComponents; i++) {\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:            createComponent(id);\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:        }\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:        mvcResult = mvc.perform(\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:                delete(REPORTS_BASE_URL + \"/\" + id)\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:                        .requestAttr(Constants.HTTP_REQUEST_ATTR_USER, adminUser)\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:        )\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:                .andExpect(status().isNoContent())\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:                .andReturn();\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:        // Verify\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:        responeText = findReport(id);\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:        Assertions.assertTrue(StringUtils.isEmpty(responeText));\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:        // Verify there is no component.\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:        mvcResult = mvc.perform(\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:                get(COMPONENTS_BASE_URL + \"/report/\" + id)\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:                        .requestAttr(Constants.HTTP_REQUEST_ATTR_USER, adminUser)\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:        )\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:                .andExpect(status().isOk())\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:                .andReturn();\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:        responeText = mvcResult.getResponse().getContentAsString();\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:        Assertions.assertEquals(Constants.EMPTY_JSON_ARRAY, responeText);\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:    }\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:    @Test\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:    public void testFindAllByViewer() throws Exception {\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:        long d1 = createReport(\"d1\");\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:        long d2 = createReport(\"d2\");\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:        Group g1 = createGroup(\"g1\", Arrays.asList(d1));\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:        User u1 = createViewer(\"u1\", Arrays.asList(g1.getId()));\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:        mvcResult = mvc.perform(\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:                get(REPORTS_BASE_URL)\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:                        .requestAttr(Constants.HTTP_REQUEST_ATTR_USER, u1)\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:        )\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:                .andReturn();\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:        responeText = mvcResult.getResponse().getContentAsString();\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:        List<Report> reports = mapper.readValue(responeText, new TypeReference<List<Report>>() {});\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:        Assertions.assertEquals(1, reports.size());\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:        Report saved = reports.get(0);\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:        Assertions.assertEquals(d1, saved.getId());\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:    }\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:    private String findReport(long id) throws Exception {\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:        mvcResult = mvc.perform(\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:                get(REPORTS_BASE_URL + \"/\" + id)\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:                        .requestAttr(Constants.HTTP_REQUEST_ATTR_USER, adminUser)\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:                )\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:                .andReturn();\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:        return mvcResult.getResponse().getContentAsString();\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:    }\nsrc/test/java/com/shzlw/poli/rest/ReportWsTest.java:}\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:package com.shzlw.poli.rest;\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:import com.fasterxml.jackson.core.type.TypeReference;\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:import com.shzlw.poli.dao.UserDao;\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:import com.shzlw.poli.model.User;\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:import com.shzlw.poli.util.Constants;\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:import org.junit.jupiter.api.Assertions;\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:import org.junit.jupiter.api.Test;\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:import org.junit.jupiter.api.extension.ExtendWith;\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:import org.springframework.beans.factory.annotation.Autowired;\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:import org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:import org.springframework.boot.test.context.SpringBootTest;\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:import org.springframework.http.MediaType;\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:import org.springframework.test.context.TestPropertySource;\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:import org.springframework.test.context.jdbc.Sql;\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:import org.springframework.test.context.junit.jupiter.SpringExtension;\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:import org.springframework.transaction.annotation.Transactional;\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:import org.springframework.util.StringUtils;\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:import java.util.List;\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.*;\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:@ExtendWith(SpringExtension.class)\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:@SpringBootTest\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:@AutoConfigureMockMvc\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:@Transactional\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:@TestPropertySource(locations=\"classpath:application-test.properties\")\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:@Sql(scripts = \"classpath:schema-sqlite.sql\", executionPhase = Sql.ExecutionPhase.BEFORE_TEST_METHOD)\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:public class UserWsTest extends AbstractWsTest {\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:    @Autowired\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:    UserDao userDao;\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:    @Test\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:    public void test() throws Exception {\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        // ********** Create **********\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        User u1 = new User();\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        u1.setUsername(\"u1\");\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        u1.setName(\"n1\");\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        u1.setTempPassword(\"t1\");\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        u1.setSysRole(Constants.SYS_ROLE_VIEWER);\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        String body = mapper.writeValueAsString(u1);\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        mvcResult = this.mvc.perform(\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:                post(USERS_BASE_URL)\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:                        .contentType(MediaType.APPLICATION_JSON)\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:                        .requestAttr(Constants.HTTP_REQUEST_ATTR_USER, adminUser)\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:                        .content(body)\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        )\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:                .andExpect(status().isCreated())\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:                .andReturn();\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        long id = Long.parseLong(mvcResult.getResponse().getContentAsString());\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        u1.setId(id);\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        User saved = findUser(id);\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        assertUser(u1, saved);\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        // Verify the list\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        mvcResult = this.mvc.perform(\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:                get(USERS_BASE_URL)\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:                        .contentType(MediaType.APPLICATION_JSON)\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:                        .requestAttr(Constants.HTTP_REQUEST_ATTR_USER, adminUser)\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:                        .content(body)\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        )\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:                .andExpect(status().isOk())\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:                .andReturn();\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        responeText = mvcResult.getResponse().getContentAsString();\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        List<User> users = mapper.readValue(responeText, new TypeReference<List<User>>() {});\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        Assertions.assertEquals(1, users.size());\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        saved = users.get(0);\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        assertUser(u1, saved);\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        // ********** Update information **********\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        u1.setId(id);\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        u1.setUsername(\"u2\");\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        u1.setName(\"n2\");\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        u1.setSysRole(Constants.SYS_ROLE_DEVELOPER);\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        body = mapper.writeValueAsString(u1);\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        mvcResult = mvc.perform(\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:                put(USERS_BASE_URL)\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:                        .contentType(MediaType.APPLICATION_JSON)\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:                        .requestAttr(Constants.HTTP_REQUEST_ATTR_USER, adminUser)\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:                        .content(body)\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        )\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:                .andExpect(status().isOk())\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:                .andReturn();\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        saved = findUser(id);\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        assertUser(u1, saved);\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        // ********** Update password **********\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        u1.setTempPassword(\"newTempPassword\");\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        body = mapper.writeValueAsString(u1);\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        mvcResult = mvc.perform(\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:                put(USERS_BASE_URL)\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:                        .contentType(MediaType.APPLICATION_JSON)\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:                        .requestAttr(Constants.HTTP_REQUEST_ATTR_USER, adminUser)\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:                        .content(body)\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        )\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:                .andExpect(status().isOk())\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:                .andReturn();\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        saved = userDao.findByUsernameAndTempPassword(u1.getUsername(), u1.getTempPassword());\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        assertUser(u1, saved);\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        // ********** Update account **********\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        u1.setName(\"n3\");\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        u1.setTempPassword(null);\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        body = mapper.writeValueAsString(u1);\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        mvcResult = mvc.perform(\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:                put(USERS_BASE_URL + \"/account\")\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:                        .contentType(MediaType.APPLICATION_JSON)\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:                        .requestAttr(Constants.HTTP_REQUEST_ATTR_USER, u1)\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:                        .content(body)\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        )\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:                .andExpect(status().isOk())\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:                .andReturn();\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        // ********** Verify account **********\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        mvcResult = mvc.perform(\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:                get(USERS_BASE_URL + \"/account\")\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:                        .requestAttr(Constants.HTTP_REQUEST_ATTR_USER, u1)\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        )\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:                .andReturn();\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        responeText = mvcResult.getResponse().getContentAsString();\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        saved = mapper.readValue(responeText, User.class);\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        assertUser(u1, saved);\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        // ********** Update account with new password **********\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        u1.setName(\"n4\");\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        u1.setPassword(\"newPassword\");\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        body = mapper.writeValueAsString(u1);\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        mvcResult = mvc.perform(\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:                put(USERS_BASE_URL + \"/account\")\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:                        .contentType(MediaType.APPLICATION_JSON)\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:                        .requestAttr(Constants.HTTP_REQUEST_ATTR_USER, u1)\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:                        .content(body)\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        )\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:                .andExpect(status().isOk())\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:                .andReturn();\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        saved = userDao.findByUsernameAndPassword(u1.getUsername(), u1.getPassword());\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        assertUser(u1, saved);\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        // ********** Delete **********\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        mvcResult = mvc.perform(\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:                delete(USERS_BASE_URL + \"/\" + id)\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:                        .requestAttr(Constants.HTTP_REQUEST_ATTR_USER, adminUser)\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        )\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:                .andExpect(status().isNoContent())\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:                .andReturn();\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        // Verify\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        mvcResult = mvc.perform(\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:                get(USERS_BASE_URL + \"/\" + id)\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:                        .requestAttr(Constants.HTTP_REQUEST_ATTR_USER, adminUser)\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        )\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:                .andReturn();\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        responeText = mvcResult.getResponse().getContentAsString();\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        Assertions.assertTrue(StringUtils.isEmpty(responeText));\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:    }\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:    private User findUser(long id) throws Exception {\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        mvcResult = mvc.perform(\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:                get(USERS_BASE_URL + \"/\" + id)\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:                        .requestAttr(Constants.HTTP_REQUEST_ATTR_USER, adminUser)\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        )\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:                .andReturn();\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        responeText = mvcResult.getResponse().getContentAsString();\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        User user = mapper.readValue(responeText, User.class);\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        return user;\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:    }\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:    private void assertUser(User expected, User target) {\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        Assertions.assertEquals(expected.getId(), target.getId());\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        Assertions.assertEquals(expected.getUsername(), target.getUsername());\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        Assertions.assertEquals(expected.getName(), target.getName());\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        Assertions.assertEquals(expected.getSysRole(), target.getSysRole());\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        Assertions.assertNull(target.getPassword());\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:        Assertions.assertNull(target.getTempPassword());\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:    }\nsrc/test/java/com/shzlw/poli/rest/UserWsTest.java:}\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:package com.shzlw.poli.rest;\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:import com.fasterxml.jackson.core.type.TypeReference;\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:import com.shzlw.poli.model.Group;\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:import com.shzlw.poli.util.Constants;\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:import org.junit.jupiter.api.Assertions;\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:import org.junit.jupiter.api.Test;\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:import org.junit.jupiter.api.extension.ExtendWith;\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:import org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:import org.springframework.boot.test.context.SpringBootTest;\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:import org.springframework.http.MediaType;\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:import org.springframework.test.context.TestPropertySource;\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:import org.springframework.test.context.jdbc.Sql;\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:import org.springframework.test.context.junit.jupiter.SpringExtension;\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:import org.springframework.transaction.annotation.Transactional;\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:import org.springframework.util.StringUtils;\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:import java.util.Arrays;\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:import java.util.HashSet;\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:import java.util.List;\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.*;\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:@ExtendWith(SpringExtension.class)\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:@SpringBootTest\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:@AutoConfigureMockMvc\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:@Transactional\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:@TestPropertySource(locations=\"classpath:application-test.properties\")\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:@Sql(scripts = \"classpath:schema-sqlite.sql\", executionPhase = Sql.ExecutionPhase.BEFORE_TEST_METHOD)\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:public class GroupWsTest extends AbstractWsTest {\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:    @Test\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:    public void test() throws Exception {\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:        long d1 = createReport(\"d1\");\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:        // ********** Create **********\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:        Group g1 = new Group();\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:        g1.setName(\"g1\");\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:        g1.setGroupReports(Arrays.asList(d1));\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:        String body = mapper.writeValueAsString(g1);\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:        mvcResult = mvc.perform(\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:                post(GROUPS_BASE_URL)\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:                        .contentType(MediaType.APPLICATION_JSON)\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:                        .requestAttr(Constants.HTTP_REQUEST_ATTR_USER, adminUser)\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:                        .content(body)\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:        )\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:                .andExpect(status().isCreated())\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:                .andReturn();\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:        long id = Long.parseLong(mvcResult.getResponse().getContentAsString());\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:        responeText = findGroup(id);\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:        Group saved = mapper.readValue(responeText, Group.class);\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:        Assertions.assertEquals(id, saved.getId());\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:        Assertions.assertEquals(g1.getName(), saved.getName());\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:        Assertions.assertEquals(new HashSet<Long>(Arrays.asList(d1)), new HashSet<Long>(saved.getGroupReports()));\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:        // Verify the list\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:        mvcResult = mvc.perform(\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:                get(GROUPS_BASE_URL)\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:                        .requestAttr(Constants.HTTP_REQUEST_ATTR_USER, adminUser)\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:        )\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:                .andReturn();\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:        responeText = mvcResult.getResponse().getContentAsString();\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:        List<Group> groups = mapper.readValue(responeText, new TypeReference<List<Group>>() {});\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:        Assertions.assertEquals(1, groups.size());\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:        saved = groups.get(0);\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:        Assertions.assertEquals(id, saved.getId());\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:        Assertions.assertEquals(g1.getName(), saved.getName());\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:        // ********** Update group information **********\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:        g1.setId(id);\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:        g1.setName(\"g2\");\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:        body = mapper.writeValueAsString(g1);\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:        mvcResult = mvc.perform(\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:                put(GROUPS_BASE_URL)\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:                        .contentType(MediaType.APPLICATION_JSON)\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:                        .requestAttr(Constants.HTTP_REQUEST_ATTR_USER, adminUser)\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:                        .content(body)\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:        )\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:                .andExpect(status().isOk())\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:                .andReturn();\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:        responeText = findGroup(id);\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:        saved = mapper.readValue(responeText, Group.class);\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:        Assertions.assertEquals(id, saved.getId());\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:        Assertions.assertEquals(g1.getName(), saved.getName());\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:        Assertions.assertTrue(d1 == saved.getGroupReports().get(0));\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:        // ********** Update reports **********\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:        long d2 = createReport(\"d2\");\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:        List<Long> reports = Arrays.asList(d1, d2);\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:        g1.setGroupReports(reports);\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:        body = mapper.writeValueAsString(g1);\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:        mvcResult = mvc.perform(\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:                put(GROUPS_BASE_URL)\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:                        .contentType(MediaType.APPLICATION_JSON)\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:                        .requestAttr(Constants.HTTP_REQUEST_ATTR_USER, adminUser)\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:                        .content(body)\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:        )\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:                .andExpect(status().isOk())\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:                .andReturn();\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:        responeText = findGroup(id);\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:        saved = mapper.readValue(responeText, Group.class);\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:        Assertions.assertEquals(id, saved.getId());\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:        Assertions.assertEquals(g1.getName(), saved.getName());\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:        Assertions.assertEquals(new HashSet<Long>(reports), new HashSet<Long>(saved.getGroupReports()));\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:        // ********** Delete **********\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:        mvcResult = mvc.perform(\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:                delete(GROUPS_BASE_URL + \"/\" + id)\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:                        .requestAttr(Constants.HTTP_REQUEST_ATTR_USER, adminUser)\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:        )\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:                .andExpect(status().isNoContent())\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:                .andReturn();\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:        // Verify\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:        responeText = findGroup(id);\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:        Assertions.assertTrue(StringUtils.isEmpty(responeText));\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:    }\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:    private String findGroup(long id) throws Exception {\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:        mvcResult = mvc.perform(\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:                get(GROUPS_BASE_URL + \"/\" + id)\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:                        .requestAttr(Constants.HTTP_REQUEST_ATTR_USER, adminUser)\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:        )\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:                .andReturn();\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:        return mvcResult.getResponse().getContentAsString();\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:    }\nsrc/test/java/com/shzlw/poli/rest/GroupWsTest.java:}\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:package com.shzlw.poli.rest;\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:import com.fasterxml.jackson.core.type.TypeReference;\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:import com.shzlw.poli.model.CannedReport;\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:import com.shzlw.poli.util.Constants;\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:import org.junit.jupiter.api.Assertions;\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:import org.junit.jupiter.api.Test;\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:import org.junit.jupiter.api.extension.ExtendWith;\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:import org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:import org.springframework.boot.test.context.SpringBootTest;\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:import org.springframework.http.MediaType;\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:import org.springframework.test.context.TestPropertySource;\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:import org.springframework.test.context.jdbc.Sql;\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:import org.springframework.test.context.junit.jupiter.SpringExtension;\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:import org.springframework.util.StringUtils;\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:import java.util.List;\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.*;\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:@ExtendWith(SpringExtension.class)\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:@SpringBootTest\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:@AutoConfigureMockMvc\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:@TestPropertySource(locations=\"classpath:application-test.properties\")\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:@Sql(scripts = \"classpath:schema-sqlite.sql\", executionPhase = Sql.ExecutionPhase.BEFORE_TEST_METHOD)\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:public class CannedReportWsTest extends AbstractWsTest {\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:    @Test\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:    public void test() throws Exception {\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:        // ********** Create **********\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:        CannedReport newReport = new CannedReport();\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:        newReport.setName(\"d1\");\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:        newReport.setCreatedBy(\"c1\");\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:        newReport.setCreatedAt(123);\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:        newReport.setData(\"{}\");\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:        String body = mapper.writeValueAsString(newReport);\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:        mvcResult = mvc.perform(\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:                post(CANNEDREPORTS_BASE_URL)\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:                        .contentType(MediaType.APPLICATION_JSON)\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:                        .requestAttr(Constants.HTTP_REQUEST_ATTR_USER, adminUser)\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:                        .content(body)\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:        )\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:                .andExpect(status().isCreated())\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:                .andReturn();\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:        long id = Long.parseLong(mvcResult.getResponse().getContentAsString());\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:        // Verify one\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:        responeText = findReport(id);\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:        CannedReport saved = mapper.readValue(responeText, CannedReport.class);\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:        Assertions.assertEquals(newReport.getName(), saved.getName());\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:        Assertions.assertEquals(newReport.getData(), saved.getData());\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:        // Verify the list\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:        mvcResult = mvc.perform(\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:                get(CANNEDREPORTS_BASE_URL)\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:                        .requestAttr(Constants.HTTP_REQUEST_ATTR_USER, adminUser)\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:        )\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:                .andReturn();\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:        responeText = mvcResult.getResponse().getContentAsString();\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:        List<CannedReport> cannedReports = mapper.readValue(responeText, new TypeReference<List<CannedReport>>() {});\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:        Assertions.assertEquals(1, cannedReports.size());\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:        saved = cannedReports.get(0);\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:        Assertions.assertEquals(id, saved.getId());\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:        Assertions.assertEquals(newReport.getName(), saved.getName());\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:        Assertions.assertNull(saved.getData());\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:        mvcResult = mvc.perform(\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:                delete(CANNEDREPORTS_BASE_URL+ \"/\" + id)\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:                        .requestAttr(Constants.HTTP_REQUEST_ATTR_USER, adminUser)\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:        )\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:                .andExpect(status().isNoContent())\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:                .andReturn();\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:        // Verify\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:        responeText = findReport(id);\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:        Assertions.assertTrue(StringUtils.isEmpty(responeText));\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:    }\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:    private String findReport(long id) throws Exception {\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:        mvcResult = mvc.perform(\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:                get(CANNEDREPORTS_BASE_URL+ \"/\" + id)\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:                        .requestAttr(Constants.HTTP_REQUEST_ATTR_USER, adminUser)\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:        )\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:                .andReturn();\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:        return mvcResult.getResponse().getContentAsString();\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:    }\nsrc/test/java/com/shzlw/poli/rest/CannedReportWsTest.java:}\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:package com.shzlw.poli.rest;\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:import com.shzlw.poli.dto.FilterParameter;\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:import com.shzlw.poli.model.Component;\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:import com.shzlw.poli.model.Report;\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:import com.shzlw.poli.model.User;\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:import com.shzlw.poli.model.UserAttribute;\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:import com.shzlw.poli.service.ReportService;\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:import com.shzlw.poli.util.CommonUtils;\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:import com.shzlw.poli.util.Constants;\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:import org.junit.jupiter.api.Assertions;\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:import org.junit.jupiter.api.Test;\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:import org.junit.jupiter.api.extension.ExtendWith;\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:import org.mockito.InjectMocks;\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:import org.mockito.Mock;\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:import org.mockito.Mockito;\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:import org.mockito.Spy;\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:import org.mockito.junit.jupiter.MockitoExtension;\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:import jakarta.servlet.http.HttpServletRequest;\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:import java.util.ArrayList;\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:import java.util.Arrays;\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:import java.util.List;\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:@ExtendWith(MockitoExtension.class)\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:public class JdbcQueryWsTest {\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:    @InjectMocks\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:    @Spy\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:    JdbcQueryWs jdbcQueryWs;\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:    @Mock\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:    ReportService reportService;\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:    @Mock\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:    Component component;\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:    @Mock\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:    HttpServletRequest request;\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:    @Mock\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:    User user;\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:    @Mock\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:    Report report;\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:    @Test\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:    public void testIsComponentAccessValid_1() {\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:        boolean isValid = jdbcQueryWs.isComponentAccessValid(null, request);\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:        Assertions.assertFalse(isValid);\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:    }\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:    @Test\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:    public void testIsComponentAccessValid_2() {\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:        Mockito.when((User) request.getAttribute(Constants.HTTP_REQUEST_ATTR_USER)).thenReturn(null);\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:        boolean isValid = jdbcQueryWs.isComponentAccessValid(component, request);\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:        Assertions.assertFalse(isValid);\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:    }\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:    @Test\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:    public void testIsComponentAccessValid_3() {\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:        Mockito.when((User) request.getAttribute(Constants.HTTP_REQUEST_ATTR_USER)).thenReturn(user);\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:        Mockito.when(reportService.getReportsByUser(user)).thenReturn(Arrays.asList(report));\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:        Mockito.when(report.getId()).thenReturn(1L);\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:        Mockito.when(component.getReportId()).thenReturn(1L);\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:        boolean isValid = jdbcQueryWs.isComponentAccessValid(component, request);\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:        Assertions.assertTrue(isValid);\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:    }\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:    @Test\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:    public void testIsComponentAccessValid_4() {\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:        Mockito.when((User) request.getAttribute(Constants.HTTP_REQUEST_ATTR_USER)).thenReturn(user);\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:        Mockito.when(reportService.getReportsByUser(user)).thenReturn(Arrays.asList(report));\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:        Mockito.when(report.getId()).thenReturn(1L);\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:        Mockito.when(component.getReportId()).thenReturn(2L);\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:        boolean isValid = jdbcQueryWs.isComponentAccessValid(component, request);\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:        Assertions.assertFalse(isValid);\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:    }\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:    @Test\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:    public void testAddUserAttributesToFilterParams_1() {\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:        List<UserAttribute> userAttributes = new ArrayList<>();\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:        List<FilterParameter> filterParams = new ArrayList<>();\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:        List<FilterParameter> newFilterParams = jdbcQueryWs.addUserAttributesToFilterParams(userAttributes, filterParams);\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:        Assertions.assertEquals(0, newFilterParams.size());\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:    }\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:    @Test\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:    public void testAddUserAttributesToFilterParams_2() {\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:        List<UserAttribute> userAttributes = null;\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:        List<FilterParameter> filterParams = new ArrayList<>();\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:        List<FilterParameter> newFilterParams = jdbcQueryWs.addUserAttributesToFilterParams(userAttributes, filterParams);\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:        Assertions.assertEquals(0, newFilterParams.size());\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:    }\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:    @Test\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:    public void testAddUserAttributesToFilterParams_3() {\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:        String attrKey = \"key\";\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:        String attrValue = \"value\";\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:        List<UserAttribute> userAttributes = new ArrayList<>();\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:        UserAttribute attr1 = new UserAttribute();\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:        attr1.setAttrKey(attrKey);\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:        attr1.setAttrValue(attrValue);\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:        userAttributes.add(attr1);\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:        List<FilterParameter> filterParams = new ArrayList<>();\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:        String param = \"param2\";\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:        String value = \"value2\";\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:        FilterParameter f1 = new FilterParameter();\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:        f1.setParam(param);\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:        f1.setValue(value);\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:        f1.setType(Constants.FILTER_TYPE_SINGLE);\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:        filterParams.add(f1);\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:        List<FilterParameter> newFilterParams = jdbcQueryWs.addUserAttributesToFilterParams(userAttributes, filterParams);\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:        Assertions.assertEquals(2, newFilterParams.size());\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:        Assertions.assertEquals(Constants.FILTER_TYPE_USER_ATTRIBUTE, newFilterParams.get(0).getType());\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:        Assertions.assertEquals(CommonUtils.getParamByAttrKey(attrKey), newFilterParams.get(0).getParam());\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:        Assertions.assertEquals(attrValue, newFilterParams.get(0).getValue());\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:        Assertions.assertEquals(Constants.FILTER_TYPE_SINGLE, newFilterParams.get(1).getType());\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:        Assertions.assertEquals(param, newFilterParams.get(1).getParam());\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:        Assertions.assertEquals(value, newFilterParams.get(1).getValue());\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:    }\nsrc/test/java/com/shzlw/poli/rest/JdbcQueryWsTest.java:}\nsrc/test/java/com/shzlw/poli/rest/InfoWsTest.java:package com.shzlw.poli.rest;\nsrc/test/java/com/shzlw/poli/rest/InfoWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/InfoWsTest.java:import com.fasterxml.jackson.databind.ObjectMapper;\nsrc/test/java/com/shzlw/poli/rest/InfoWsTest.java:import com.shzlw.poli.config.AppProperties;\nsrc/test/java/com/shzlw/poli/rest/InfoWsTest.java:import com.shzlw.poli.dto.AppInfo;\nsrc/test/java/com/shzlw/poli/rest/InfoWsTest.java:import com.shzlw.poli.util.Constants;\nsrc/test/java/com/shzlw/poli/rest/InfoWsTest.java:import org.junit.jupiter.api.Assertions;\nsrc/test/java/com/shzlw/poli/rest/InfoWsTest.java:import org.junit.jupiter.api.Test;\nsrc/test/java/com/shzlw/poli/rest/InfoWsTest.java:import org.junit.jupiter.api.extension.ExtendWith;\nsrc/test/java/com/shzlw/poli/rest/InfoWsTest.java:import org.springframework.beans.factory.annotation.Autowired;\nsrc/test/java/com/shzlw/poli/rest/InfoWsTest.java:import org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;\nsrc/test/java/com/shzlw/poli/rest/InfoWsTest.java:import org.springframework.boot.test.context.SpringBootTest;\nsrc/test/java/com/shzlw/poli/rest/InfoWsTest.java:import org.springframework.test.context.TestPropertySource;\nsrc/test/java/com/shzlw/poli/rest/InfoWsTest.java:import org.springframework.test.context.junit.jupiter.SpringExtension;\nsrc/test/java/com/shzlw/poli/rest/InfoWsTest.java:import org.springframework.test.web.servlet.MockMvc;\nsrc/test/java/com/shzlw/poli/rest/InfoWsTest.java:import org.springframework.test.web.servlet.MvcResult;\nsrc/test/java/com/shzlw/poli/rest/InfoWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/InfoWsTest.java:import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;\nsrc/test/java/com/shzlw/poli/rest/InfoWsTest.java:import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\nsrc/test/java/com/shzlw/poli/rest/InfoWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/InfoWsTest.java:@ExtendWith(SpringExtension.class)\nsrc/test/java/com/shzlw/poli/rest/InfoWsTest.java:@SpringBootTest\nsrc/test/java/com/shzlw/poli/rest/InfoWsTest.java:@AutoConfigureMockMvc\nsrc/test/java/com/shzlw/poli/rest/InfoWsTest.java:@TestPropertySource(locations=\"classpath:application-test.properties\")\nsrc/test/java/com/shzlw/poli/rest/InfoWsTest.java:public class InfoWsTest {\nsrc/test/java/com/shzlw/poli/rest/InfoWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/InfoWsTest.java:    @Autowired\nsrc/test/java/com/shzlw/poli/rest/InfoWsTest.java:    MockMvc mvc;\nsrc/test/java/com/shzlw/poli/rest/InfoWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/InfoWsTest.java:    @Autowired\nsrc/test/java/com/shzlw/poli/rest/InfoWsTest.java:    ObjectMapper mapper;\nsrc/test/java/com/shzlw/poli/rest/InfoWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/InfoWsTest.java:    @Autowired\nsrc/test/java/com/shzlw/poli/rest/InfoWsTest.java:    AppProperties appProperties;\nsrc/test/java/com/shzlw/poli/rest/InfoWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/InfoWsTest.java:    @Test\nsrc/test/java/com/shzlw/poli/rest/InfoWsTest.java:    public void testGetAppInfo() throws Exception {\nsrc/test/java/com/shzlw/poli/rest/InfoWsTest.java:        MvcResult mvcResult = mvc.perform(get(\"/info/general\")).andExpect(status().isOk())\nsrc/test/java/com/shzlw/poli/rest/InfoWsTest.java:                .andReturn();\nsrc/test/java/com/shzlw/poli/rest/InfoWsTest.java:        String responeText = mvcResult.getResponse().getContentAsString();\nsrc/test/java/com/shzlw/poli/rest/InfoWsTest.java:        AppInfo appInfo = mapper.readValue(responeText, AppInfo.class);\nsrc/test/java/com/shzlw/poli/rest/InfoWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/InfoWsTest.java:        Assertions.assertEquals(Constants.CURRENT_VERSION, appInfo.getVersion());\nsrc/test/java/com/shzlw/poli/rest/InfoWsTest.java:        Assertions.assertEquals(appProperties.getLocaleLanguage(), appInfo.getLocaleLanguage());\nsrc/test/java/com/shzlw/poli/rest/InfoWsTest.java:    }\nsrc/test/java/com/shzlw/poli/rest/InfoWsTest.java:}\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:package com.shzlw.poli.rest;\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:import com.fasterxml.jackson.databind.ObjectMapper;\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:import com.shzlw.poli.dto.LoginResponse;\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:import com.shzlw.poli.model.Component;\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:import com.shzlw.poli.model.Group;\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:import com.shzlw.poli.model.Report;\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:import com.shzlw.poli.model.User;\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:import com.shzlw.poli.util.Constants;\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:import org.junit.jupiter.api.Assertions;\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:import org.springframework.beans.factory.annotation.Autowired;\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:import org.springframework.http.MediaType;\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:import org.springframework.test.web.servlet.MockMvc;\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:import org.springframework.test.web.servlet.MvcResult;\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:import jakarta.servlet.http.Cookie;\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:import java.util.List;\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.post;\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:public abstract class AbstractWsTest {\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:    public static final String SAVEDQUERIES_BASE_URL = \"/ws/saved-queries\";\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:    public static final String CANNEDREPORTS_BASE_URL = \"/ws/cannedreports\";\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:    public static final String REPORTS_BASE_URL = \"/ws/reports\";\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:    public static final String USERS_BASE_URL = \"/ws/users\";\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:    public static final String GROUPS_BASE_URL = \"/ws/groups\";\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:    public static final String SHAREDREPORTS_BASE_URL = \"/ws/sharedreports\";\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:    public static final String COMPONENTS_BASE_URL = \"/ws/components\";\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:    public static final String JDBCDATASOURCES_BASE_URL = \"/ws/jdbcdatasources\";\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:    @Autowired\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:    ObjectMapper mapper;\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:    @Autowired\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:    MockMvc mvc;\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:    MvcResult mvcResult;\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:    String responeText;\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:    Cookie[] cookies;\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:    User adminUser;\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:    public AbstractWsTest() {\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        adminUser = new User();\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        adminUser.setId(0);\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        adminUser.setUsername(\"admin\");\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        adminUser.setSysRole(Constants.SYS_ROLE_ADMIN);\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:    }\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:    public User createNewUser(String username, String sysRole) throws Exception {\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        // Create a new User.\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        String name = \"name1\";\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        String tempPassword = \"tempPassword\";\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        User newUser = new User();\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        newUser.setUsername(username);\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        newUser.setName(name);\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        newUser.setTempPassword(tempPassword);\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        newUser.setSysRole(sysRole);\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        String body = mapper.writeValueAsString(newUser);\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        mvcResult = this.mvc.perform(\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:                post(\"/ws/users\")\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:                        .cookie(cookies)\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:                        .requestAttr(Constants.HTTP_REQUEST_ATTR_USER, adminUser)\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:                        .contentType(MediaType.APPLICATION_JSON)\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:                        .content(body)\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:                )\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:                .andExpect(status().isCreated())\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:                .andReturn();\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        String id = mvcResult.getResponse().getContentAsString();\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        long newId = Long.parseLong(id);\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        mvcResult = this.mvc.perform(\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:                get(\"/ws/users/\" + id)\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:                        .cookie(cookies)\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        ).andReturn();\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        responeText = mvcResult.getResponse().getContentAsString();\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        User savedUser = mapper.readValue(responeText, User.class);\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        Assertions.assertEquals(newId, savedUser.getId());\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        Assertions.assertEquals(newUser.getUsername(), savedUser.getUsername());\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        Assertions.assertEquals(newUser.getName(), savedUser.getName());\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        Assertions.assertEquals(newUser.getSysRole(), savedUser.getSysRole());\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        Assertions.assertNull(savedUser.getPassword());\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        Assertions.assertNull(savedUser.getTempPassword());\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        newUser.setId(newId);\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        return newUser;\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:    }\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:    public LoginResponse loginFailure(String username, String password) throws Exception {\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        User user = new User();\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        user.setUsername(username);\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        user.setPassword(password);\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        mvcResult = mvc.perform(\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:                post(\"/auth/login/user\")\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:                    .contentType(MediaType.APPLICATION_JSON)\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:                    .content(mapper.writeValueAsString(user))\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:                )\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:                .andReturn();\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        responeText = mvcResult.getResponse().getContentAsString();\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        LoginResponse loginResponse = mapper.readValue(responeText, LoginResponse.class);\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        Assertions.assertNotNull(loginResponse.getError());\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        cookies = mvcResult.getResponse().getCookies();\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        Assertions.assertNull(cookies);\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        return loginResponse;\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:    }\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:    public LoginResponse loginSuccess(String username, String password) throws Exception {\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        User user = new User();\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        user.setUsername(username);\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        user.setPassword(password);\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        mvcResult = mvc.perform(post(\"/auth/login/user\")\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:                .contentType(MediaType.APPLICATION_JSON)\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:                .content(mapper.writeValueAsString(user)))\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:                .andReturn();\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        responeText = mvcResult.getResponse().getContentAsString();\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        LoginResponse loginResponse = mapper.readValue(responeText, LoginResponse.class);\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        Assertions.assertEquals(loginResponse.getUsername(), username);\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        Assertions.assertNotNull(loginResponse.getSysRole());\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        Assertions.assertNull(loginResponse.getError());\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        cookies = mvcResult.getResponse().getCookies();\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        Assertions.assertEquals(1, cookies.length);\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        Assertions.assertEquals(Constants.SESSION_KEY, cookies[0].getName());\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        Assertions.assertNotNull(Constants.SESSION_KEY, cookies[0].getValue());\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        return loginResponse;\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:    }\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:    public LoginResponse loginAsAdmin() throws Exception {\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        LoginResponse loginResponse = loginSuccess(\"admin\", \"adminadmin\");\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        Assertions.assertFalse(loginResponse.isTempPassword());\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        return loginResponse;\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:    }\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:    public long createReport(String name) throws Exception {\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        Report newReport = new Report();\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        newReport.setName(name);\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        newReport.setStyle(\"{}\");\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        String body = mapper.writeValueAsString(newReport);\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        mvcResult = mvc.perform(\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:                post(\"/ws/reports\")\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:                        .contentType(MediaType.APPLICATION_JSON)\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:                        .requestAttr(Constants.HTTP_REQUEST_ATTR_USER, adminUser)\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:                        .content(body)\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        )\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:                .andExpect(status().isCreated())\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:                .andReturn();\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        long id = Long.parseLong(mvcResult.getResponse().getContentAsString());\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        return id;\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:    }\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:    public long createComponent(long reportId) throws Exception {\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        Component w1 = new Component();\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        w1.setTitle(\"w1\");\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        w1.setX(1);\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        w1.setY(2);\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        w1.setWidth(3);\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        w1.setHeight(4);\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        w1.setType(Constants.COMPONENT_TYPE_CHART);\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        w1.setSubType(\"table\");\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        w1.setReportId(reportId);\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        w1.setData(\"{}\");\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        w1.setStyle(\"{}\");\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        w1.setDrillThrough(\"[]\");\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        String body = mapper.writeValueAsString(w1);\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        mvcResult = mvc.perform(\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:                post(\"/ws/components\")\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:                        .contentType(MediaType.APPLICATION_JSON)\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:                        .requestAttr(Constants.HTTP_REQUEST_ATTR_USER, adminUser)\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:                        .content(body)\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        )\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:                .andExpect(status().isCreated())\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:                .andReturn();\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        long id = Long.parseLong(mvcResult.getResponse().getContentAsString());\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        return id;\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:    }\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:    public Group createGroup(String groupName, List<Long> reportIds) throws Exception {\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        Group g1 = new Group();\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        g1.setName(groupName);\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        g1.setGroupReports(reportIds);\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        String body = mapper.writeValueAsString(g1);\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        mvcResult = mvc.perform(\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:                post(\"/ws/groups\")\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:                        .contentType(MediaType.APPLICATION_JSON)\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:                        .requestAttr(Constants.HTTP_REQUEST_ATTR_USER, adminUser)\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:                        .content(body)\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        )\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:                .andExpect(status().isCreated())\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:                .andReturn();\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        long id = Long.parseLong(mvcResult.getResponse().getContentAsString());\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        g1.setId(id);\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        return g1;\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:    }\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:    public User createViewer(String username, List<Long> userGroups) throws Exception {\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        User u1 = new User();\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        u1.setUsername(username);\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        u1.setName(\"n1\");\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        u1.setTempPassword(\"t1\");\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        u1.setUserGroups(userGroups);\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        u1.setSysRole(Constants.SYS_ROLE_VIEWER);\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        String body = mapper.writeValueAsString(u1);\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        mvcResult = this.mvc.perform(\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:                post(\"/ws/users\")\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:                        .contentType(MediaType.APPLICATION_JSON)\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:                        .requestAttr(Constants.HTTP_REQUEST_ATTR_USER, adminUser)\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:                        .content(body)\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        )\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:                .andExpect(status().isCreated())\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:                .andReturn();\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        long id = Long.parseLong(mvcResult.getResponse().getContentAsString());\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        u1.setId(id);\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:        return u1;\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:    }\nsrc/test/java/com/shzlw/poli/rest/AbstractWsTest.java:}\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:package com.shzlw.poli.rest;\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:import com.fasterxml.jackson.core.type.TypeReference;\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:import com.shzlw.poli.model.Component;\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:import com.shzlw.poli.util.Constants;\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:import org.junit.jupiter.api.Assertions;\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:import org.junit.jupiter.api.Test;\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:import org.junit.jupiter.api.extension.ExtendWith;\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:import org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:import org.springframework.boot.test.context.SpringBootTest;\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:import org.springframework.http.MediaType;\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:import org.springframework.test.context.TestPropertySource;\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:import org.springframework.test.context.jdbc.Sql;\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:import org.springframework.test.context.junit.jupiter.SpringExtension;\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:import org.springframework.transaction.annotation.Transactional;\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:import org.springframework.util.StringUtils;\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:import java.util.List;\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.*;\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:@ExtendWith(SpringExtension.class)\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:@SpringBootTest\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:@AutoConfigureMockMvc\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:@Transactional\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:@TestPropertySource(locations=\"classpath:application-test.properties\")\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:@Sql(scripts = \"classpath:schema-sqlite.sql\", executionPhase = Sql.ExecutionPhase.BEFORE_TEST_METHOD)\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:public class ComponentWsTest extends AbstractWsTest {\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:    @Test\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:    public void test() throws Exception {\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        // Create a report\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        long reportId = createReport(\"d1\");\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        // ********** Create **********\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        Component w1 = new Component();\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        w1.setTitle(\"w1\");\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        w1.setX(1);\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        w1.setY(2);\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        w1.setWidth(3);\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        w1.setHeight(4);\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        w1.setType(Constants.COMPONENT_TYPE_CHART);\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        w1.setSubType(\"table\");\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        w1.setReportId(reportId);\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        w1.setData(\"{}\");\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        w1.setStyle(\"{}\");\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        w1.setDrillThrough(\"[]\");\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        String body = mapper.writeValueAsString(w1);\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        mvcResult = mvc.perform(\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:                post(COMPONENTS_BASE_URL)\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:                        .contentType(MediaType.APPLICATION_JSON)\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:                        .requestAttr(Constants.HTTP_REQUEST_ATTR_USER, adminUser)\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:                        .content(body)\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        )\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:                .andExpect(status().isCreated())\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:                .andReturn();\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        long id = Long.parseLong(mvcResult.getResponse().getContentAsString());\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        // Verify\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        responeText = findComponent(id);\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        Component saved = mapper.readValue(responeText, Component.class);\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        assertComponent(w1, saved);\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        // Verify find by report\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        mvcResult = mvc.perform(\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:                get(COMPONENTS_BASE_URL + \"/report/\" + reportId)\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:                        .requestAttr(Constants.HTTP_REQUEST_ATTR_USER, adminUser)\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        )\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:                .andExpect(status().isOk())\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:                .andReturn();\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        responeText = mvcResult.getResponse().getContentAsString();\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        List<Component> components = mapper.readValue(responeText, new TypeReference<List<Component>>() {});\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        Assertions.assertEquals(1, components.size());\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        saved = components.get(0);\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        assertComponent(w1, saved);\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        // ********** Update data **********\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        w1.setId(id);\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        w1.setType(Constants.COMPONENT_TYPE_FILTER);\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        w1.setSubType(Constants.FILTER_TYPE_SINGLE);\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        body = mapper.writeValueAsString(w1);\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        mvcResult = mvc.perform(\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:                put(COMPONENTS_BASE_URL + \"/data\")\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:                        .contentType(MediaType.APPLICATION_JSON)\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:                        .requestAttr(Constants.HTTP_REQUEST_ATTR_USER, adminUser)\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:                        .content(body)\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        )\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:                .andExpect(status().isOk())\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:                .andReturn();\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        responeText = findComponent(id);\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        saved = mapper.readValue(responeText, Component.class);\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        assertComponent(w1, saved);\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        // ********** Update position and style **********\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        w1.setTitle(\"w3\");\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        w1.setWidth(300);\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        w1.setHeight(300);\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        w1.setType(Constants.COMPONENT_TYPE_FILTER);\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        w1.setSubType(Constants.FILTER_TYPE_SINGLE);\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        body = mapper.writeValueAsString(w1);\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        mvcResult = mvc.perform(\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:                put(COMPONENTS_BASE_URL + \"/style\")\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:                        .contentType(MediaType.APPLICATION_JSON)\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:                        .requestAttr(Constants.HTTP_REQUEST_ATTR_USER, adminUser)\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:                        .content(body)\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        )\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:                .andExpect(status().isOk())\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:                .andReturn();\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        responeText = findComponent(id);\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        saved = mapper.readValue(responeText, Component.class);\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        assertComponent(w1, saved);\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        // ********** Update position **********\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        w1.setX(5);\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        w1.setY(6);\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        w1.setWidth(7);\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        w1.setHeight(8);\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        body = mapper.writeValueAsString(w1);\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        mvcResult = mvc.perform(\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:                put(COMPONENTS_BASE_URL + \"/position\")\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:                        .contentType(MediaType.APPLICATION_JSON)\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:                        .requestAttr(Constants.HTTP_REQUEST_ATTR_USER, adminUser)\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:                        .content(body)\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        )\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:                .andExpect(status().isOk())\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:                .andReturn();\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        responeText = findComponent(id);\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        saved = mapper.readValue(responeText, Component.class);\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        assertComponent(w1, saved);\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        // ********** Delete **********\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        mvcResult = mvc.perform(\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:                delete(COMPONENTS_BASE_URL + \"/\" + id)\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:                        .requestAttr(Constants.HTTP_REQUEST_ATTR_USER, adminUser)\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        )\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:                .andExpect(status().isNoContent())\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:                .andReturn();\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        // Verify\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        responeText = findComponent(id);\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        Assertions.assertTrue(StringUtils.isEmpty(responeText));\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        // Verify find by report\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        mvcResult = mvc.perform(\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:                get(COMPONENTS_BASE_URL + \"/report/\" + reportId)\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:                        .requestAttr(Constants.HTTP_REQUEST_ATTR_USER, adminUser)\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        )\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:                .andExpect(status().isOk())\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:                .andReturn();\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        responeText = mvcResult.getResponse().getContentAsString();\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        Assertions.assertEquals(Constants.EMPTY_JSON_ARRAY, responeText);\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:    }\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:    private String findComponent(long id) throws Exception {\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        mvcResult = mvc.perform(\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:                get(COMPONENTS_BASE_URL + \"/\" + id)\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:                        .requestAttr(Constants.HTTP_REQUEST_ATTR_USER, adminUser)\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        )\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:                .andReturn();\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        return mvcResult.getResponse().getContentAsString();\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:    }\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:    private void assertComponent(Component expected, Component target) {\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        Assertions.assertEquals(expected.getTitle(), target.getTitle());\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        Assertions.assertEquals(expected.getX(), target.getX());\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        Assertions.assertEquals(expected.getY(), target.getY());\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        Assertions.assertEquals(expected.getWidth(), target.getWidth());\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        Assertions.assertEquals(expected.getHeight(), target.getHeight());\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        Assertions.assertEquals(expected.getType(), target.getType());\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        Assertions.assertEquals(expected.getSubType(), target.getSubType());\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        Assertions.assertEquals(expected.getData(), target.getData());\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        Assertions.assertEquals(expected.getStyle(), target.getStyle());\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        Assertions.assertEquals(expected.getDrillThrough(), target.getDrillThrough());\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:        Assertions.assertEquals(expected.getReportId(), target.getReportId());\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:    }\nsrc/test/java/com/shzlw/poli/rest/ComponentWsTest.java:}\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:package com.shzlw.poli.rest;\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:import com.shzlw.poli.dto.LoginResponse;\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:import com.shzlw.poli.model.User;\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:import com.shzlw.poli.util.Constants;\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:import org.junit.jupiter.api.Assertions;\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:import org.junit.jupiter.api.Test;\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:import org.junit.jupiter.api.extension.ExtendWith;\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:import org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:import org.springframework.boot.test.context.SpringBootTest;\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:import org.springframework.http.MediaType;\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:import org.springframework.test.context.TestPropertySource;\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:import org.springframework.test.context.jdbc.Sql;\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:import org.springframework.test.context.junit.jupiter.SpringExtension;\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:import org.springframework.transaction.annotation.Transactional;\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.post;\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:@ExtendWith(SpringExtension.class)\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:@SpringBootTest\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:@AutoConfigureMockMvc\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:@Transactional\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:@TestPropertySource(locations=\"classpath:application-test.properties\")\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:@Sql(scripts = \"classpath:schema-sqlite.sql\", executionPhase = Sql.ExecutionPhase.BEFORE_TEST_METHOD)\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:public class AuthWsTest extends AbstractWsTest {\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:    @Test\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:    public void testLoginAsAdmin() throws Exception {\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:        LoginResponse loginResponse = loginAsAdmin();\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:    }\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:    @Test\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:    public void testLoginWithCookie() throws Exception {\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:        LoginResponse loginResponse = loginAsAdmin();\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:        mvcResult = this.mvc.perform(\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:                post(\"/auth/login/cookie\").cookie(cookies))\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:                .andExpect(status().isOk())\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:                .andReturn();\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:        responeText = mvcResult.getResponse().getContentAsString();\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:        loginResponse = mapper.readValue(responeText, LoginResponse.class);\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:        Assertions.assertNotNull(loginResponse.getUsername());\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:        Assertions.assertNotNull(loginResponse.getSysRole());\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:        Assertions.assertNull(loginResponse.getError());\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:    }\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:    @Test\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:    public void testLogout() throws Exception {\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:        LoginResponse loginResponse = loginAsAdmin();\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:        mvcResult = this.mvc.perform(\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:                get(\"/auth/logout\")\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:                        .cookie(cookies))\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:                .andExpect(status().isOk())\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:                .andReturn();\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:        cookies = mvcResult.getResponse().getCookies();\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:        Assertions.assertEquals(1, cookies.length);\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:        Assertions.assertEquals(Constants.SESSION_KEY, cookies[0].getName());\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:        Assertions.assertEquals(0, cookies[0].getMaxAge());\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:    }\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:    @Test\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:    public void testChangeTempPassowrd_success() throws Exception {\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:        LoginResponse loginResponse = loginAsAdmin();\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:        User user = createNewUser(\"username1\", Constants.SYS_ROLE_VIEWER);\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:        loginResponse = loginSuccess(user.getUsername(), user.getTempPassword());\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:        Assertions.assertTrue(loginResponse.isTempPassword());\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:        String newPassword = \"12345678\";\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:        User changePasswordRequest = new User();\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:        changePasswordRequest.setPassword(newPassword);\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:        mvcResult = this.mvc.perform(\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:                post(\"/auth/login/change-password\")\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:                        .cookie(cookies)\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:                        .contentType(MediaType.APPLICATION_JSON).content(mapper.writeValueAsString(changePasswordRequest)))\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:                .andExpect(status().isOk())\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:                .andReturn();\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:        responeText = mvcResult.getResponse().getContentAsString();\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:        Assertions.assertEquals(0, responeText.length());\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:        loginResponse = loginSuccess(user.getUsername(), newPassword);\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:        Assertions.assertFalse(loginResponse.isTempPassword());\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:    }\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:    @Test\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:    public void testChangeTempPassowrd_moreCharacters() throws Exception {\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:        LoginResponse loginResponse = loginAsAdmin();\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:        User user = createNewUser(\"username1\", Constants.SYS_ROLE_VIEWER);\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:        loginResponse = loginSuccess(user.getUsername(), user.getTempPassword());\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:        Assertions.assertTrue(loginResponse.isTempPassword());\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:        String newPassword = \"1234567\";\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:        User changePasswordRequest = new User();\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:        changePasswordRequest.setPassword(newPassword);\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:        mvcResult = this.mvc.perform(\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:                post(\"/auth/login/change-password\")\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:                        .cookie(cookies)\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:                        .contentType(MediaType.APPLICATION_JSON).content(mapper.writeValueAsString(changePasswordRequest)))\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:                .andExpect(status().isOk())\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:                .andReturn();\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:        responeText = mvcResult.getResponse().getContentAsString();\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:        loginResponse = mapper.readValue(responeText, LoginResponse.class);\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:        Assertions.assertEquals(AuthWs.USE_MORE_CHARACTERS, loginResponse.getError());\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:    }\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:    @Test\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:    public void testGenerateApiKey() throws Exception {\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:        LoginResponse loginResponse = loginAsAdmin();\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:        mvcResult = this.mvc.perform(\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:                get(\"/auth/generate-apikey\").cookie(cookies))\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:                .andExpect(status().isOk())\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:                .andReturn();\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:        responeText = mvcResult.getResponse().getContentAsString();\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:        Assertions.assertTrue(responeText.startsWith(Constants.API_KEY_PREFIX));\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:    }\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:    @Test\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:    public void testLoginByApiKey() throws Exception {\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:        LoginResponse loginResponse1 = loginAsAdmin();\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:        mvcResult = this.mvc.perform(\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:                get(\"/auth/generate-apikey\").cookie(cookies))\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:                .andExpect(status().isOk())\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:                .andReturn();\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:        String apiKey = mvcResult.getResponse().getContentAsString();\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:        // Build the login request\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:        User loginRequest = new User();\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:        loginRequest.setApiKey(apiKey);\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:        mvcResult = mvc.perform(\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:                post(\"/auth/login/apikey\")\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:                        .contentType(MediaType.APPLICATION_JSON)\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:                        .content(mapper.writeValueAsString(loginRequest))\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:        )\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:                .andReturn();\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:        responeText = mvcResult.getResponse().getContentAsString();\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:        LoginResponse loginResponse2 = mapper.readValue(responeText, LoginResponse.class);\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:        // Verify\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:        Assertions.assertEquals(loginResponse1.getUsername(), loginResponse2.getUsername());\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:        Assertions.assertNotNull(loginResponse1.getSysRole(), loginResponse2.getSysRole());\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:        Assertions.assertNull(loginResponse2.getError());\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:    }\nsrc/test/java/com/shzlw/poli/rest/AuthWsTest.java:}\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:package com.shzlw.poli.rest;\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:import com.shzlw.poli.model.Report;\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:import com.shzlw.poli.model.SharedReport;\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:import com.shzlw.poli.util.CommonUtils;\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:import com.shzlw.poli.util.Constants;\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:import org.junit.jupiter.api.Assertions;\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:import org.junit.jupiter.api.Test;\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:import org.junit.jupiter.api.extension.ExtendWith;\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:import org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:import org.springframework.boot.test.context.SpringBootTest;\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:import org.springframework.http.MediaType;\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:import org.springframework.test.context.TestPropertySource;\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:import org.springframework.test.context.jdbc.Sql;\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:import org.springframework.test.context.junit.jupiter.SpringExtension;\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:import java.time.LocalDateTime;\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.post;\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:@ExtendWith(SpringExtension.class)\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:@SpringBootTest\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:@AutoConfigureMockMvc\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:@TestPropertySource(locations=\"classpath:application-test.properties\")\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:@Sql(scripts = \"classpath:schema-sqlite.sql\", executionPhase = Sql.ExecutionPhase.BEFORE_TEST_METHOD)\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:public class SharedReportWsTest extends AbstractWsTest {\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:    @Test\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:    public void test() throws Exception {\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:        // ********** Create a report **********\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:        Report newReport = new Report();\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:        newReport.setName(\"d1\");\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:        newReport.setStyle(\"{}\");\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:        String body = mapper.writeValueAsString(newReport);\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:        mvcResult = mvc.perform(\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:                post(REPORTS_BASE_URL)\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:                        .contentType(MediaType.APPLICATION_JSON)\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:                        .requestAttr(Constants.HTTP_REQUEST_ATTR_USER, adminUser)\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:                        .content(body)\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:        )\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:                .andExpect(status().isCreated())\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:                .andReturn();\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:        long reportId = Long.parseLong(mvcResult.getResponse().getContentAsString());\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:        newReport.setId(reportId);\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:        LocalDateTime tenDaysFromNow = LocalDateTime.now().plusDays(10);\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:        SharedReport sharedReport = new SharedReport();\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:        sharedReport.setReportId(reportId);\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:        sharedReport.setReportType(\"adhoc\");\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:        sharedReport.setExpiredBy(CommonUtils.toEpoch(tenDaysFromNow));\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:        body = mapper.writeValueAsString(sharedReport);\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:        mvcResult = mvc.perform(\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:                post(SHAREDREPORTS_BASE_URL + \"/generate-sharekey\")\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:                        .contentType(MediaType.APPLICATION_JSON)\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:                        .requestAttr(Constants.HTTP_REQUEST_ATTR_USER, adminUser)\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:                        .content(body)\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:        )\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:                .andExpect(status().isOk())\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:                .andReturn();\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:        String shareKey = mvcResult.getResponse().getContentAsString();\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:        mvcResult = mvc.perform(\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:                get(REPORTS_BASE_URL + \"/sharekey/\" + shareKey)\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:                        .requestAttr(Constants.HTTP_HEADER_SHARE_KEY, shareKey)\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:        )\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:                .andReturn();\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:        responeText = mvcResult.getResponse().getContentAsString();\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:        Report saved = mapper.readValue(responeText, Report.class);\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:        Assertions.assertEquals(newReport.getId(), saved.getId());\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:        Assertions.assertEquals(newReport.getName(), saved.getName());\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:        Assertions.assertEquals(newReport.getStyle(), saved.getStyle());\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:    }\nsrc/test/java/com/shzlw/poli/rest/SharedReportWsTest.java:}\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:package com.shzlw.poli.filter;\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:import com.shzlw.poli.dto.SharedLinkInfo;\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:import com.shzlw.poli.model.User;\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:import com.shzlw.poli.service.SharedReportService;\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:import com.shzlw.poli.service.UserService;\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:import com.shzlw.poli.util.Constants;\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:import org.junit.jupiter.api.Test;\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:import org.junit.jupiter.api.extension.ExtendWith;\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:import org.mockito.InjectMocks;\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:import org.mockito.Mock;\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:import org.mockito.Mockito;\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:import org.mockito.Spy;\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:import org.mockito.junit.jupiter.MockitoExtension;\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:import jakarta.servlet.FilterChain;\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:import jakarta.servlet.FilterConfig;\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:import jakarta.servlet.ServletException;\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:import jakarta.servlet.http.Cookie;\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:import jakarta.servlet.http.HttpServletRequest;\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:import jakarta.servlet.http.HttpServletResponse;\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:import java.io.IOException;\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:import java.util.Arrays;\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:import java.util.HashSet;\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:import java.util.List;\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:import java.util.Set;\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:@ExtendWith(MockitoExtension.class)\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:public class AuthFilterTest {\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:    @InjectMocks\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:    @Spy\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:    AuthFilter authFilter;\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:    @Mock\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:    UserService userService;\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:    @Mock\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:    SharedReportService sharedReportService;\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:    @Mock\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:    HttpServletRequest httpRequest;\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:    @Mock\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:    HttpServletResponse httpResponse;\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:    @Mock\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:    FilterChain chain;\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:    @Mock\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:    Cookie cookie;\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:    @Mock\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:    User user;\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:    @Mock\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:    FilterConfig filterConfig;\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:    @Mock\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:    SharedLinkInfo sharedLinkInfo;\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:    @Test\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:    public void testAccessNotProtectedResource() throws IOException, ServletException {\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.when(httpRequest.getServletPath()).thenReturn(\"/css\");\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        authFilter.doFilter(httpRequest, httpResponse, chain);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.verify(chain).doFilter(httpRequest, httpResponse);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:    }\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:    @Test\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:    public void testNullCookie() throws IOException, ServletException {\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Cookie[] cookies = null;\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.when(httpRequest.getServletPath()).thenReturn(\"/ws/reports\");\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.when(httpRequest.getCookies()).thenReturn(cookies);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        authFilter.doFilter(httpRequest, httpResponse, chain);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.verify(authFilter).return401(httpResponse);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:    }\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:    @Test\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:    public void testNullSessionKey() throws IOException, ServletException {\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Cookie[] cookies = new Cookie[1];\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        cookies[0] = cookie;\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        String sessionKey = null;\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.when(httpRequest.getServletPath()).thenReturn(\"/ws/reports\");\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.when(httpRequest.getCookies()).thenReturn(cookies);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.when(cookie.getName()).thenReturn(Constants.SESSION_KEY);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.when(cookie.getValue()).thenReturn(sessionKey);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        authFilter.doFilter(httpRequest, httpResponse, chain);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.verify(authFilter).return401(httpResponse);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:    }\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:    @Test\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:    public void testInvalidRole() throws IOException, ServletException {\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Cookie[] cookies = new Cookie[1];\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        cookies[0] = cookie;\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        String sessionKey = \"123\";\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.when(httpRequest.getServletPath()).thenReturn(\"/ws/reports\");\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.when(httpRequest.getCookies()).thenReturn(cookies);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.when(cookie.getName()).thenReturn(Constants.SESSION_KEY);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.when(cookie.getValue()).thenReturn(sessionKey);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.when(userService.getUserBySessionKey(sessionKey)).thenReturn(user);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.when(user.getSysRole()).thenReturn(\"invalid role\");\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        authFilter.doFilter(httpRequest, httpResponse, chain);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.verify(authFilter).return401(httpResponse);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:    }\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:    @Test\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:    public void testAdminAccess() throws IOException, ServletException {\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Cookie[] cookies = new Cookie[1];\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        cookies[0] = cookie;\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        String sessionKey = \"123\";\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.when(httpRequest.getServletPath()).thenReturn(\"/ws/reports\");\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.when(httpRequest.getCookies()).thenReturn(cookies);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.when(cookie.getName()).thenReturn(Constants.SESSION_KEY);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.when(cookie.getValue()).thenReturn(sessionKey);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.when(userService.getUserBySessionKey(sessionKey)).thenReturn(user);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.when(user.getSysRole()).thenReturn(Constants.SYS_ROLE_ADMIN);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        authFilter.doFilter(httpRequest, httpResponse, chain);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.verify(chain).doFilter(httpRequest, httpResponse);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:    }\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:    @Test\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:    public void testDeveloperAccess() throws IOException, ServletException {\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Cookie[] cookies = new Cookie[1];\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        cookies[0] = cookie;\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        String sessionKey = \"123\";\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.when(httpRequest.getServletPath()).thenReturn(\"/ws/reports\");\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.when(httpRequest.getCookies()).thenReturn(cookies);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.when(cookie.getName()).thenReturn(Constants.SESSION_KEY);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.when(cookie.getValue()).thenReturn(sessionKey);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.when(userService.getUserBySessionKey(sessionKey)).thenReturn(user);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.when(user.getSysRole()).thenReturn(Constants.SYS_ROLE_DEVELOPER);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        authFilter.doFilter(httpRequest, httpResponse, chain);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.verify(chain).doFilter(httpRequest, httpResponse);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:    }\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:    @Test\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:    public void testViewerInValidAccess() throws IOException, ServletException {\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Cookie[] cookies = new Cookie[1];\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        cookies[0] = cookie;\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        String sessionKey = \"123\";\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.when(httpRequest.getServletPath()).thenReturn(\"/ws/jdbcdatasources\");\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.when(httpRequest.getCookies()).thenReturn(cookies);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.when(cookie.getName()).thenReturn(Constants.SESSION_KEY);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.when(cookie.getValue()).thenReturn(sessionKey);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.when(userService.getUserBySessionKey(sessionKey)).thenReturn(user);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.when(user.getSysRole()).thenReturn(Constants.SYS_ROLE_VIEWER);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        authFilter.doFilter(httpRequest, httpResponse, chain);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.verify(authFilter).return401(httpResponse);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:    }\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:    @Test\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:    public void testViewerValidAccess() throws IOException, ServletException {\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Cookie[] cookies = new Cookie[1];\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        cookies[0] = cookie;\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        String sessionKey = \"123\";\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        List<AccessRule> accessRules = Arrays.asList(\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:                new AccessRule(Constants.HTTP_METHOD_GET, \"/ws/reports\"),\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:                new AccessRule(Constants.HTTP_METHOD_GET, \"/ws/cannedreports\"),\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:                new AccessRule(Constants.HTTP_METHOD_GET, \"/ws/components/report/\"),\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:                new AccessRule(Constants.HTTP_METHOD_GET, \"/ws/users/account\"),\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:                new AccessRule(Constants.HTTP_METHOD_GET, \"/ws/sharedreports/generate-sharekey\"),\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:                new AccessRule(Constants.HTTP_METHOD_PUT, \"/ws/users/account\"),\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:                new AccessRule(Constants.HTTP_METHOD_POST, \"/ws/jdbcquery\"),\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:                new AccessRule(Constants.HTTP_METHOD_POST, \"/ws/cannedreports\"),\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:                new AccessRule(Constants.HTTP_METHOD_POST, \"Report\"),\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:                new AccessRule(Constants.HTTP_METHOD_DELETE, \"/ws/cannedreports\")\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        );\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.when(httpRequest.getCookies()).thenReturn(cookies);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.when(cookie.getName()).thenReturn(Constants.SESSION_KEY);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.when(cookie.getValue()).thenReturn(sessionKey);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.when(userService.getUserBySessionKey(sessionKey)).thenReturn(user);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.when(user.getSysRole()).thenReturn(Constants.SYS_ROLE_VIEWER);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        for (AccessRule rule : accessRules) {\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:            Mockito.when(httpRequest.getMethod()).thenReturn(rule.method);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:            Mockito.when(httpRequest.getServletPath()).thenReturn(rule.url);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:            authFilter.doFilter(httpRequest, httpResponse, chain);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        }\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.verify(chain, Mockito.times(accessRules.size())).doFilter(httpRequest, httpResponse);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:    }\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:    public void testViewerValidAccess_unauthorized() throws IOException, ServletException {\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Cookie[] cookies = new Cookie[1];\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        cookies[0] = cookie;\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        String sessionKey = \"123\";\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        List<AccessRule> accessRules = Arrays.asList(\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:                new AccessRule(Constants.HTTP_METHOD_GET, \"/ws/users/1\"),\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:                new AccessRule(Constants.HTTP_METHOD_PUT, \"/ws/reports\"),\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:                new AccessRule(Constants.HTTP_METHOD_POST, \"/ws/reports\"),\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:                new AccessRule(Constants.HTTP_METHOD_DELETE, \"/ws/reports\")\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        );\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.when(httpRequest.getCookies()).thenReturn(cookies);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.when(cookie.getName()).thenReturn(Constants.SESSION_KEY);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.when(cookie.getValue()).thenReturn(sessionKey);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.when(userService.getUserBySessionKey(sessionKey)).thenReturn(user);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.when(user.getSysRole()).thenReturn(Constants.SYS_ROLE_VIEWER);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        for (AccessRule rule : accessRules) {\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:            Mockito.when(httpRequest.getMethod()).thenReturn(rule.method);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:            Mockito.when(httpRequest.getServletPath()).thenReturn(rule.url);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:            authFilter.doFilter(httpRequest, httpResponse, chain);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        }\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.verify(chain, Mockito.times(0)).doFilter(httpRequest, httpResponse);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:    }\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:    @Test\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:    public void testApiKeyAccess() throws IOException, ServletException {\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Cookie[] cookies = new Cookie[1];\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        cookies[0] = cookie;\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        String sessionKey = null;\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        String apiKey = \"123\";\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.when(httpRequest.getCookies()).thenReturn(cookies);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.when(cookie.getName()).thenReturn(Constants.SESSION_KEY);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.when(cookie.getValue()).thenReturn(sessionKey);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.when(httpRequest.getHeader(Constants.HTTP_HEADER_API_KEY)).thenReturn(apiKey);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.when(userService.getUserByApiKey(apiKey)).thenReturn(user);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        List<AccessRule> accessRules = Arrays.asList(\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:                new AccessRule(Constants.HTTP_METHOD_GET, \"/ws/reports\"),\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:                new AccessRule(Constants.HTTP_METHOD_GET, \"/ws/cannedreports\"),\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:                new AccessRule(Constants.HTTP_METHOD_GET, \"/ws/components/report/\"),\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:                new AccessRule(Constants.HTTP_METHOD_POST, \"/ws/jdbcquery/component\")\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        );\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        for (AccessRule rule : accessRules) {\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:            Mockito.when(httpRequest.getMethod()).thenReturn(rule.method);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:            Mockito.when(httpRequest.getServletPath()).thenReturn(rule.url);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:            authFilter.doFilter(httpRequest, httpResponse, chain);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        }\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.verify(chain, Mockito.times(accessRules.size())).doFilter(httpRequest, httpResponse);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:    }\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:    @Test\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:    public void testApiKeyAccess_unauthorized() throws IOException, ServletException {\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Cookie[] cookies = new Cookie[1];\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        cookies[0] = cookie;\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        String sessionKey = null;\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        String apiKey = \"123\";\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.when(httpRequest.getCookies()).thenReturn(cookies);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.when(cookie.getName()).thenReturn(Constants.SESSION_KEY);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.when(cookie.getValue()).thenReturn(sessionKey);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.when(httpRequest.getHeader(Constants.HTTP_HEADER_API_KEY)).thenReturn(apiKey);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.when(userService.getUserByApiKey(apiKey)).thenReturn(user);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        List<AccessRule> accessRules = Arrays.asList(\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:                new AccessRule(Constants.HTTP_METHOD_POST, \"/ws/reports\")\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        );\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        for (AccessRule rule : accessRules) {\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:            Mockito.when(httpRequest.getMethod()).thenReturn(rule.method);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:            Mockito.when(httpRequest.getServletPath()).thenReturn(rule.url);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:            authFilter.doFilter(httpRequest, httpResponse, chain);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        }\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.verify(chain, Mockito.times(0)).doFilter(httpRequest, httpResponse);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:    }\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:    @Test\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:    public void testShareKeyAccess() throws IOException, ServletException {\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        String shareKey = \"123\";\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        long reportId = 1;\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Set<String> componentQueryUrls = new HashSet<>();\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        for (int i = 1; i <= 3; i++) {\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:            componentQueryUrls.add(\"/ws/jdbcquery/component/\" + i);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        }\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.when(httpRequest.getHeader(Constants.HTTP_HEADER_SHARE_KEY)).thenReturn(shareKey);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.when(sharedReportService.getSharedLinkInfoByShareKey(shareKey)).thenReturn(sharedLinkInfo);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.when(sharedLinkInfo.getUser()).thenReturn(user);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.when(sharedLinkInfo.getReportId()).thenReturn(reportId);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.when(sharedLinkInfo.getComponentQueryUrls()).thenReturn(componentQueryUrls);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        List<AccessRule> accessRules = Arrays.asList(\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:                new AccessRule(Constants.HTTP_METHOD_GET, \"/ws/reports/sharekey/\" + shareKey),\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:                new AccessRule(Constants.HTTP_METHOD_GET, \"/ws/reports/\" + reportId),\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:                new AccessRule(Constants.HTTP_METHOD_GET, \"/ws/components/report/\" + reportId),\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:                new AccessRule(Constants.HTTP_METHOD_POST, \"/ws/jdbcquery/component/1\"),\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:                new AccessRule(Constants.HTTP_METHOD_POST, \"/ws/jdbcquery/component/2\"),\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:                new AccessRule(Constants.HTTP_METHOD_POST, \"/ws/jdbcquery/component/3\")\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        );\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        for (AccessRule rule : accessRules) {\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:            Mockito.when(httpRequest.getMethod()).thenReturn(rule.method);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:            Mockito.when(httpRequest.getServletPath()).thenReturn(rule.url);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:            authFilter.doFilter(httpRequest, httpResponse, chain);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        }\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.verify(chain, Mockito.times(accessRules.size())).doFilter(httpRequest, httpResponse);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:    }\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:    @Test\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:    public void testShareKeyAccess_unauthorized() throws IOException, ServletException {\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        String shareKey = \"123\";\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        long reportId = 1;\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Set<String> componentQueryUrls = new HashSet<>();\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        for (int i = 1; i <= 3; i++) {\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:            componentQueryUrls.add(\"/ws/jdbcquery/component/\" + i);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        }\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.when(httpRequest.getHeader(Constants.HTTP_HEADER_SHARE_KEY)).thenReturn(shareKey);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.when(sharedReportService.getSharedLinkInfoByShareKey(shareKey)).thenReturn(sharedLinkInfo);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.when(sharedLinkInfo.getUser()).thenReturn(user);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.when(sharedLinkInfo.getReportId()).thenReturn(reportId);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.when(sharedLinkInfo.getComponentQueryUrls()).thenReturn(componentQueryUrls);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        List<AccessRule> accessRules = Arrays.asList(\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:                new AccessRule(Constants.HTTP_METHOD_GET, \"/ws/reports/sharekey/456\"),\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:                new AccessRule(Constants.HTTP_METHOD_GET, \"/ws/reports/2\"),\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:                new AccessRule(Constants.HTTP_METHOD_GET, \"/ws/components/report/2\"),\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:                new AccessRule(Constants.HTTP_METHOD_POST, \"/ws/jdbcquery/component/4\"),\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:                new AccessRule(Constants.HTTP_METHOD_POST, \"/ws/jdbcquery/component/5\"),\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:                new AccessRule(Constants.HTTP_METHOD_POST, \"/ws/jdbcquery/component/6\")\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        );\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        for (AccessRule rule : accessRules) {\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:            Mockito.when(httpRequest.getMethod()).thenReturn(rule.method);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:            Mockito.when(httpRequest.getServletPath()).thenReturn(rule.url);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:            authFilter.doFilter(httpRequest, httpResponse, chain);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        }\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        Mockito.verify(chain, Mockito.times(0)).doFilter(httpRequest, httpResponse);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:    }\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:    @Test\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:    public void testInit() throws ServletException {\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        authFilter.init(filterConfig);\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:    }\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:    @Test\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:    public void testDestroy() throws ServletException {\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        authFilter.destroy();\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:    }\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:    private static class AccessRule {\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        String method;\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        String url;\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        public AccessRule(String method, String url) {\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:            this.method = method;\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:            this.url = url;\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:        }\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:    }\nsrc/test/java/com/shzlw/poli/filter/AuthFilterTest.java:}\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:package com.shzlw.poli.service;\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:import com.shzlw.poli.util.Constants;\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:import org.junit.jupiter.api.Assertions;\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:import org.junit.jupiter.api.Test;\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:import java.util.HashMap;\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:import java.util.List;\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:import java.util.Map;\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:public class JdbcQueryServiceHelperTest {\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:    @Test\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:    public void testParseSqlStatementWithParams_1() {\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:        String sql = \"SELECT * FROM table \"\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:                + \"WHERE 1=1 {{AND field IN (:fields)}} {{AND time > :startTime}} AND user='2' {{AND status =:status }} AND column3='2'\";\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:        String expected = \"SELECT * FROM table WHERE 1=1 AND field IN (:fields) AND time > :startTime AND user='2'  AND column3='2'\";\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:        Map<String, Object> params = new HashMap<>();\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:        params.put(\"fields\", \"a, b, c\");\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:        params.put(\"startTime\", \"12-01\");\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:        Assertions.assertEquals(expected, JdbcQueryServiceHelper.parseSqlStatementWithParams(sql, params));\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:    }\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:    @Test\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:    public void testParseSqlStatementWithParams_2() {\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:        String sql = \"SELECT * FROM table\";\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:        Assertions.assertEquals(sql, JdbcQueryServiceHelper.parseSqlStatementWithParams(sql, new HashMap<>()));\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:        sql = \"SELECT * FROM table WHERE a='{{{'\";\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:        Assertions.assertEquals(sql, JdbcQueryServiceHelper.parseSqlStatementWithParams(sql, new HashMap<>()));\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:        sql = \"SELECT * FROM table WHERE a='}'\";\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:        Assertions.assertEquals(sql, JdbcQueryServiceHelper.parseSqlStatementWithParams(sql, new HashMap<>()));\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:    }\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:    @Test\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:    public void testParseSqlStatementWithParams_3() {\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:        String sql = \"SELECT * FROM table WHERE 1=1 {{AND field IN (:fields)}}\";\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:        String expected = \"SELECT * FROM table WHERE 1=1 \";\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:        Assertions.assertEquals(expected, JdbcQueryServiceHelper.parseSqlStatementWithParams(sql, new HashMap<>()));\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:    }\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:    @Test\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:    public void testGetQueryStatements_1() {\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:        Assertions.assertEquals(0, JdbcQueryServiceHelper.getQueryStatements(\"\").size());\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:        Assertions.assertEquals(0, JdbcQueryServiceHelper.getQueryStatements(null).size());\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:    }\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:    @Test\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:    public void testGetQueryStatements_2() {\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:        List<String> sqls = JdbcQueryServiceHelper.getQueryStatements(\"aaa\");\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:        Assertions.assertEquals(1, sqls.size());\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:        Assertions.assertEquals(sqls.get(0), \"aaa\");\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:    }\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:    @Test\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:    public void testGetQueryStatements_3() {\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:        List<String> sqls = JdbcQueryServiceHelper.getQueryStatements(\"aaa;\");\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:        Assertions.assertEquals(1, sqls.size());\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:        Assertions.assertEquals(sqls.get(0), \"aaa;\");\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:    }\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:    @Test\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:    public void testGetQueryStatements_4() {\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:        List<String> sqls = JdbcQueryServiceHelper.getQueryStatements(\"aaa;bbb;\");\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:        Assertions.assertEquals(2, sqls.size());\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:        Assertions.assertEquals(sqls.get(0), \"aaa;\");\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:        Assertions.assertEquals(sqls.get(1), \"bbb;\");\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:    }\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:    @Test\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:    public void testGetQueryStatements_5() {\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:        List<String> sqls = JdbcQueryServiceHelper.getQueryStatements(\"aaa;bbb;     \");\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:        Assertions.assertEquals(2, sqls.size());\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:        Assertions.assertEquals(sqls.get(0), \"aaa;\");\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:        Assertions.assertEquals(sqls.get(1), \"bbb;\");\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:    }\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:    public void testCalculateMaxQueryResultLimit() {\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:        Assertions.assertEquals(Constants.QUERY_RESULT_NOLIMIT, JdbcQueryServiceHelper.calculateMaxQueryResultLimit(Constants.MAXIMUM_QUERY_RECORDS_NOLIMIT, Constants.QUERY_RESULT_NOLIMIT));\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:        Assertions.assertEquals(1, JdbcQueryServiceHelper.calculateMaxQueryResultLimit(1, Constants.QUERY_RESULT_NOLIMIT));\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:        Assertions.assertEquals(2, JdbcQueryServiceHelper.calculateMaxQueryResultLimit(Constants.MAXIMUM_QUERY_RECORDS_NOLIMIT, 2));\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:        Assertions.assertEquals(3, JdbcQueryServiceHelper.calculateMaxQueryResultLimit(3, 4));\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:        Assertions.assertEquals(3, JdbcQueryServiceHelper.calculateMaxQueryResultLimit(3, 3));\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:        Assertions.assertEquals(3, JdbcQueryServiceHelper.calculateMaxQueryResultLimit(4, 3));\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:    }\nsrc/test/java/com/shzlw/poli/service/JdbcQueryServiceHelperTest.java:}\nsrc/test/java/com/shzlw/poli/dao/DaoHelperTest.java:package com.shzlw.poli.dao;\nsrc/test/java/com/shzlw/poli/dao/DaoHelperTest.java:\nsrc/test/java/com/shzlw/poli/dao/DaoHelperTest.java:import org.junit.jupiter.api.Assertions;\nsrc/test/java/com/shzlw/poli/dao/DaoHelperTest.java:import org.junit.jupiter.api.Test;\nsrc/test/java/com/shzlw/poli/dao/DaoHelperTest.java:\nsrc/test/java/com/shzlw/poli/dao/DaoHelperTest.java:public class DaoHelperTest {\nsrc/test/java/com/shzlw/poli/dao/DaoHelperTest.java:\nsrc/test/java/com/shzlw/poli/dao/DaoHelperTest.java:    @Test\nsrc/test/java/com/shzlw/poli/dao/DaoHelperTest.java:    public void testToOffset() {\nsrc/test/java/com/shzlw/poli/dao/DaoHelperTest.java:        Assertions.assertEquals(0, DaoHelper.toOffset(1, 10));\nsrc/test/java/com/shzlw/poli/dao/DaoHelperTest.java:        Assertions.assertEquals(DaoHelper.DEFAULT_OFFSET, DaoHelper.toOffset(0, 10));\nsrc/test/java/com/shzlw/poli/dao/DaoHelperTest.java:        Assertions.assertEquals(DaoHelper.DEFAULT_OFFSET, DaoHelper.toOffset(1, 0));\nsrc/test/java/com/shzlw/poli/dao/DaoHelperTest.java:        Assertions.assertEquals(90, DaoHelper.toOffset(10, 10));\nsrc/test/java/com/shzlw/poli/dao/DaoHelperTest.java:    }\nsrc/test/java/com/shzlw/poli/dao/DaoHelperTest.java:\nsrc/test/java/com/shzlw/poli/dao/DaoHelperTest.java:    @Test\nsrc/test/java/com/shzlw/poli/dao/DaoHelperTest.java:    public void testToLimit() {\nsrc/test/java/com/shzlw/poli/dao/DaoHelperTest.java:        Assertions.assertEquals(10, DaoHelper.toLimit(10));\nsrc/test/java/com/shzlw/poli/dao/DaoHelperTest.java:        Assertions.assertEquals(DaoHelper.DEFAULT_LIMIT, DaoHelper.toLimit(0));\nsrc/test/java/com/shzlw/poli/dao/DaoHelperTest.java:        Assertions.assertEquals(DaoHelper.DEFAULT_LIMIT, DaoHelper.toLimit(-1));\nsrc/test/java/com/shzlw/poli/dao/DaoHelperTest.java:    }\nsrc/test/java/com/shzlw/poli/dao/DaoHelperTest.java:}\nsrc/test/java/com/shzlw/poli/dao/AuditLogDaoTest.java:package com.shzlw.poli.dao;\nsrc/test/java/com/shzlw/poli/dao/AuditLogDaoTest.java:\nsrc/test/java/com/shzlw/poli/dao/AuditLogDaoTest.java:import com.shzlw.poli.model.AuditLog;\nsrc/test/java/com/shzlw/poli/dao/AuditLogDaoTest.java:import com.shzlw.poli.util.CommonUtils;\nsrc/test/java/com/shzlw/poli/dao/AuditLogDaoTest.java:import org.junit.jupiter.api.Assertions;\nsrc/test/java/com/shzlw/poli/dao/AuditLogDaoTest.java:import org.junit.jupiter.api.Test;\nsrc/test/java/com/shzlw/poli/dao/AuditLogDaoTest.java:import org.junit.jupiter.api.extension.ExtendWith;\nsrc/test/java/com/shzlw/poli/dao/AuditLogDaoTest.java:import org.springframework.beans.factory.annotation.Autowired;\nsrc/test/java/com/shzlw/poli/dao/AuditLogDaoTest.java:import org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;\nsrc/test/java/com/shzlw/poli/dao/AuditLogDaoTest.java:import org.springframework.boot.test.context.SpringBootTest;\nsrc/test/java/com/shzlw/poli/dao/AuditLogDaoTest.java:import org.springframework.test.context.TestPropertySource;\nsrc/test/java/com/shzlw/poli/dao/AuditLogDaoTest.java:import org.springframework.test.context.jdbc.Sql;\nsrc/test/java/com/shzlw/poli/dao/AuditLogDaoTest.java:import org.springframework.test.context.junit.jupiter.SpringExtension;\nsrc/test/java/com/shzlw/poli/dao/AuditLogDaoTest.java:\nsrc/test/java/com/shzlw/poli/dao/AuditLogDaoTest.java:import java.time.LocalDateTime;\nsrc/test/java/com/shzlw/poli/dao/AuditLogDaoTest.java:import java.util.List;\nsrc/test/java/com/shzlw/poli/dao/AuditLogDaoTest.java:\nsrc/test/java/com/shzlw/poli/dao/AuditLogDaoTest.java:@ExtendWith(SpringExtension.class)\nsrc/test/java/com/shzlw/poli/dao/AuditLogDaoTest.java:@SpringBootTest\nsrc/test/java/com/shzlw/poli/dao/AuditLogDaoTest.java:@AutoConfigureMockMvc\nsrc/test/java/com/shzlw/poli/dao/AuditLogDaoTest.java:@TestPropertySource(locations=\"classpath:application-test.properties\")\nsrc/test/java/com/shzlw/poli/dao/AuditLogDaoTest.java:@Sql(scripts = \"classpath:schema-sqlite.sql\", executionPhase = Sql.ExecutionPhase.BEFORE_TEST_METHOD)\nsrc/test/java/com/shzlw/poli/dao/AuditLogDaoTest.java:public class AuditLogDaoTest {\nsrc/test/java/com/shzlw/poli/dao/AuditLogDaoTest.java:\nsrc/test/java/com/shzlw/poli/dao/AuditLogDaoTest.java:    @Autowired\nsrc/test/java/com/shzlw/poli/dao/AuditLogDaoTest.java:    AuditLogDao auditLogDao;\nsrc/test/java/com/shzlw/poli/dao/AuditLogDaoTest.java:\nsrc/test/java/com/shzlw/poli/dao/AuditLogDaoTest.java:    @Test\nsrc/test/java/com/shzlw/poli/dao/AuditLogDaoTest.java:    public void test() {\nsrc/test/java/com/shzlw/poli/dao/AuditLogDaoTest.java:        long epoch = CommonUtils.toEpoch(LocalDateTime.now());\nsrc/test/java/com/shzlw/poli/dao/AuditLogDaoTest.java:        for (int i = 0; i < 20; i++) {\nsrc/test/java/com/shzlw/poli/dao/AuditLogDaoTest.java:            auditLogDao.insert(epoch, \"type\", \"data\" + i);\nsrc/test/java/com/shzlw/poli/dao/AuditLogDaoTest.java:        }\nsrc/test/java/com/shzlw/poli/dao/AuditLogDaoTest.java:\nsrc/test/java/com/shzlw/poli/dao/AuditLogDaoTest.java:        List<AuditLog> list = auditLogDao.findAll(1, 10, \"\");\nsrc/test/java/com/shzlw/poli/dao/AuditLogDaoTest.java:        Assertions.assertEquals(10, list.size());\nsrc/test/java/com/shzlw/poli/dao/AuditLogDaoTest.java:        for (int i = 0; i < 10; i++) {\nsrc/test/java/com/shzlw/poli/dao/AuditLogDaoTest.java:            Assertions.assertEquals(\"data\" + (19 - i), list.get(i).getData());\nsrc/test/java/com/shzlw/poli/dao/AuditLogDaoTest.java:        }\nsrc/test/java/com/shzlw/poli/dao/AuditLogDaoTest.java:    }\nsrc/test/java/com/shzlw/poli/dao/AuditLogDaoTest.java:}\nsrc/test/java/com/shzlw/poli/util/CommonUtilsTest.java:package com.shzlw.poli.util;\nsrc/test/java/com/shzlw/poli/util/CommonUtilsTest.java:\nsrc/test/java/com/shzlw/poli/util/CommonUtilsTest.java:import org.junit.jupiter.api.Assertions;\nsrc/test/java/com/shzlw/poli/util/CommonUtilsTest.java:import org.junit.jupiter.api.Test;\nsrc/test/java/com/shzlw/poli/util/CommonUtilsTest.java:\nsrc/test/java/com/shzlw/poli/util/CommonUtilsTest.java:import java.time.LocalDateTime;\nsrc/test/java/com/shzlw/poli/util/CommonUtilsTest.java:import java.time.format.DateTimeFormatter;\nsrc/test/java/com/shzlw/poli/util/CommonUtilsTest.java:import java.time.temporal.ChronoUnit;\nsrc/test/java/com/shzlw/poli/util/CommonUtilsTest.java:\nsrc/test/java/com/shzlw/poli/util/CommonUtilsTest.java:public class CommonUtilsTest {\nsrc/test/java/com/shzlw/poli/util/CommonUtilsTest.java:\nsrc/test/java/com/shzlw/poli/util/CommonUtilsTest.java:    @Test\nsrc/test/java/com/shzlw/poli/util/CommonUtilsTest.java:    public void testFromEpoch() {\nsrc/test/java/com/shzlw/poli/util/CommonUtilsTest.java:        Assertions.assertNotNull(CommonUtils.fromEpoch(0));\nsrc/test/java/com/shzlw/poli/util/CommonUtilsTest.java:    }\nsrc/test/java/com/shzlw/poli/util/CommonUtilsTest.java:\nsrc/test/java/com/shzlw/poli/util/CommonUtilsTest.java:    @Test\nsrc/test/java/com/shzlw/poli/util/CommonUtilsTest.java:    public void testFromEpoch_toEpoch() {\nsrc/test/java/com/shzlw/poli/util/CommonUtilsTest.java:        LocalDateTime dateTime = LocalDateTime.now();\nsrc/test/java/com/shzlw/poli/util/CommonUtilsTest.java:        long epoch = CommonUtils.toEpoch(dateTime);\nsrc/test/java/com/shzlw/poli/util/CommonUtilsTest.java:        LocalDateTime newDateTime = CommonUtils.fromEpoch(epoch);\nsrc/test/java/com/shzlw/poli/util/CommonUtilsTest.java:        long newEpoch = CommonUtils.toEpoch(newDateTime);\nsrc/test/java/com/shzlw/poli/util/CommonUtilsTest.java:\nsrc/test/java/com/shzlw/poli/util/CommonUtilsTest.java:        Assertions.assertEquals(0, dateTime.truncatedTo(ChronoUnit.SECONDS).compareTo(newDateTime.truncatedTo(ChronoUnit.SECONDS)));\nsrc/test/java/com/shzlw/poli/util/CommonUtilsTest.java:        Assertions.assertEquals(epoch, newEpoch);\nsrc/test/java/com/shzlw/poli/util/CommonUtilsTest.java:    }\nsrc/test/java/com/shzlw/poli/util/CommonUtilsTest.java:\nsrc/test/java/com/shzlw/poli/util/CommonUtilsTest.java:    @Test\nsrc/test/java/com/shzlw/poli/util/CommonUtilsTest.java:    public void testToReadableDateTime() {\nsrc/test/java/com/shzlw/poli/util/CommonUtilsTest.java:        String date = \"2019-01-01 01:00:00\";\nsrc/test/java/com/shzlw/poli/util/CommonUtilsTest.java:        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm:s\");\nsrc/test/java/com/shzlw/poli/util/CommonUtilsTest.java:        LocalDateTime dateTime = LocalDateTime.parse(date, formatter);\nsrc/test/java/com/shzlw/poli/util/CommonUtilsTest.java:        Assertions.assertEquals(date, CommonUtils.toReadableDateTime(dateTime));\nsrc/test/java/com/shzlw/poli/util/CommonUtilsTest.java:    }\nsrc/test/java/com/shzlw/poli/util/CommonUtilsTest.java:\nsrc/test/java/com/shzlw/poli/util/CommonUtilsTest.java:    @Test\nsrc/test/java/com/shzlw/poli/util/CommonUtilsTest.java:    public void testToReadableDate() {\nsrc/test/java/com/shzlw/poli/util/CommonUtilsTest.java:        String date = \"2019-01-01 01:00:00\";\nsrc/test/java/com/shzlw/poli/util/CommonUtilsTest.java:        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm:s\");\nsrc/test/java/com/shzlw/poli/util/CommonUtilsTest.java:        LocalDateTime dateTime = LocalDateTime.parse(date, formatter);\nsrc/test/java/com/shzlw/poli/util/CommonUtilsTest.java:        Assertions.assertEquals(\"2019-01-01\", CommonUtils.toReadableDate(dateTime));\nsrc/test/java/com/shzlw/poli/util/CommonUtilsTest.java:    }\nsrc/test/java/com/shzlw/poli/util/CommonUtilsTest.java:\nsrc/test/java/com/shzlw/poli/util/CommonUtilsTest.java:    @Test\nsrc/test/java/com/shzlw/poli/util/CommonUtilsTest.java:    public void testGetParamByAttrKey() {\nsrc/test/java/com/shzlw/poli/util/CommonUtilsTest.java:        String rt = CommonUtils.getParamByAttrKey(\"attrKey\");\nsrc/test/java/com/shzlw/poli/util/CommonUtilsTest.java:        Assertions.assertEquals(\"$user_attr[attrKey]\", rt);\nsrc/test/java/com/shzlw/poli/util/CommonUtilsTest.java:    }\nsrc/test/java/com/shzlw/poli/util/CommonUtilsTest.java:}\nsrc/test/java/com/shzlw/poli/util/PasswordUtilsTest.java:package com.shzlw.poli.util;\nsrc/test/java/com/shzlw/poli/util/PasswordUtilsTest.java:\nsrc/test/java/com/shzlw/poli/util/PasswordUtilsTest.java:import org.junit.jupiter.api.Assertions;\nsrc/test/java/com/shzlw/poli/util/PasswordUtilsTest.java:import org.junit.jupiter.api.Test;\nsrc/test/java/com/shzlw/poli/util/PasswordUtilsTest.java:\nsrc/test/java/com/shzlw/poli/util/PasswordUtilsTest.java:public class PasswordUtilsTest {\nsrc/test/java/com/shzlw/poli/util/PasswordUtilsTest.java:\nsrc/test/java/com/shzlw/poli/util/PasswordUtilsTest.java:    @Test\nsrc/test/java/com/shzlw/poli/util/PasswordUtilsTest.java:    public void testDecryptEncrypt() {\nsrc/test/java/com/shzlw/poli/util/PasswordUtilsTest.java:        String value = \"1234567890\";\nsrc/test/java/com/shzlw/poli/util/PasswordUtilsTest.java:        String b = PasswordUtils.decrypt(PasswordUtils.encrypt(value));\nsrc/test/java/com/shzlw/poli/util/PasswordUtilsTest.java:        Assertions.assertEquals(value, b);\nsrc/test/java/com/shzlw/poli/util/PasswordUtilsTest.java:    }\nsrc/test/java/com/shzlw/poli/util/PasswordUtilsTest.java:\nsrc/test/java/com/shzlw/poli/util/PasswordUtilsTest.java:    @Test\nsrc/test/java/com/shzlw/poli/util/PasswordUtilsTest.java:    public void testEncryptedPassword_2() {\nsrc/test/java/com/shzlw/poli/util/PasswordUtilsTest.java:        String password = \"1234567890\";\nsrc/test/java/com/shzlw/poli/util/PasswordUtilsTest.java:        Assertions.assertEquals(password, PasswordUtils.getDecryptedPassword(PasswordUtils.getEncryptedPassword(password)));\nsrc/test/java/com/shzlw/poli/util/PasswordUtilsTest.java:\nsrc/test/java/com/shzlw/poli/util/PasswordUtilsTest.java:        password = \"\";\nsrc/test/java/com/shzlw/poli/util/PasswordUtilsTest.java:        Assertions.assertEquals(password, PasswordUtils.getDecryptedPassword(PasswordUtils.getEncryptedPassword(password)));\nsrc/test/java/com/shzlw/poli/util/PasswordUtilsTest.java:\nsrc/test/java/com/shzlw/poli/util/PasswordUtilsTest.java:        password = null;\nsrc/test/java/com/shzlw/poli/util/PasswordUtilsTest.java:        Assertions.assertEquals(\"\", PasswordUtils.getDecryptedPassword(PasswordUtils.getEncryptedPassword(password)));\nsrc/test/java/com/shzlw/poli/util/PasswordUtilsTest.java:    }\nsrc/test/java/com/shzlw/poli/util/PasswordUtilsTest.java:\nsrc/test/java/com/shzlw/poli/util/PasswordUtilsTest.java:    @Test\nsrc/test/java/com/shzlw/poli/util/PasswordUtilsTest.java:    public void testGetUniqueId() {\nsrc/test/java/com/shzlw/poli/util/PasswordUtilsTest.java:        Assertions.assertEquals(22, PasswordUtils.getUniqueId().length());\nsrc/test/java/com/shzlw/poli/util/PasswordUtilsTest.java:    }\nsrc/test/java/com/shzlw/poli/util/PasswordUtilsTest.java:\nsrc/test/java/com/shzlw/poli/util/PasswordUtilsTest.java:    @Test\nsrc/test/java/com/shzlw/poli/util/PasswordUtilsTest.java:    public void testGenerateAdminPassword() {\nsrc/test/java/com/shzlw/poli/util/PasswordUtilsTest.java:        String password = \"adminadmin\";\nsrc/test/java/com/shzlw/poli/util/PasswordUtilsTest.java:        Assertions.assertNotNull(PasswordUtils.getMd5Hash(password));\nsrc/test/java/com/shzlw/poli/util/PasswordUtilsTest.java:    }\nsrc/test/java/com/shzlw/poli/util/PasswordUtilsTest.java:\nsrc/test/java/com/shzlw/poli/util/PasswordUtilsTest.java:    @Test\nsrc/test/java/com/shzlw/poli/util/PasswordUtilsTest.java:    public void testPadOrTrimTo16() {\nsrc/test/java/com/shzlw/poli/util/PasswordUtilsTest.java:        Assertions.assertEquals(\"0000000000000000\", PasswordUtils.padOrTrimTo16(null));\nsrc/test/java/com/shzlw/poli/util/PasswordUtilsTest.java:        Assertions.assertEquals(\"0000000000000000\", PasswordUtils.padOrTrimTo16(\"\"));\nsrc/test/java/com/shzlw/poli/util/PasswordUtilsTest.java:        Assertions.assertEquals(\"0000000000000001\", PasswordUtils.padOrTrimTo16(\"1\"));\nsrc/test/java/com/shzlw/poli/util/PasswordUtilsTest.java:        Assertions.assertEquals(\"1234567812345678\", PasswordUtils.padOrTrimTo16(\"1234567812345678\"));\nsrc/test/java/com/shzlw/poli/util/PasswordUtilsTest.java:        Assertions.assertEquals(\"1234567812345678\", PasswordUtils.padOrTrimTo16(\"12345678123456789\"));\nsrc/test/java/com/shzlw/poli/util/PasswordUtilsTest.java:    }\nsrc/test/java/com/shzlw/poli/util/PasswordUtilsTest.java:}\nsrc/main/java/com/shzlw/poli/config/AppConfig.java:package com.shzlw.poli.config;\nsrc/main/java/com/shzlw/poli/config/AppConfig.java:\nsrc/main/java/com/shzlw/poli/config/AppConfig.java:import com.shzlw.poli.filter.AuthFilter;\nsrc/main/java/com/shzlw/poli/config/AppConfig.java:import okhttp3.OkHttpClient;\nsrc/main/java/com/shzlw/poli/config/AppConfig.java:import org.springframework.boot.web.servlet.FilterRegistrationBean;\nsrc/main/java/com/shzlw/poli/config/AppConfig.java:import org.springframework.context.annotation.Bean;\nsrc/main/java/com/shzlw/poli/config/AppConfig.java:import org.springframework.context.annotation.Configuration;\nsrc/main/java/com/shzlw/poli/config/AppConfig.java:import org.springframework.web.servlet.config.annotation.ViewControllerRegistry;\nsrc/main/java/com/shzlw/poli/config/AppConfig.java:import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\nsrc/main/java/com/shzlw/poli/config/AppConfig.java:\nsrc/main/java/com/shzlw/poli/config/AppConfig.java:import java.util.concurrent.TimeUnit;\nsrc/main/java/com/shzlw/poli/config/AppConfig.java:\nsrc/main/java/com/shzlw/poli/config/AppConfig.java:@Configuration\nsrc/main/java/com/shzlw/poli/config/AppConfig.java:public class AppConfig implements WebMvcConfigurer {\nsrc/main/java/com/shzlw/poli/config/AppConfig.java:\nsrc/main/java/com/shzlw/poli/config/AppConfig.java:    @Override\nsrc/main/java/com/shzlw/poli/config/AppConfig.java:    public void addViewControllers(ViewControllerRegistry registry) {\nsrc/main/java/com/shzlw/poli/config/AppConfig.java:        // \\\\w+ regex does not match the hyphen or underscore. Replace \\\\w for ^[a-zA-Z\\d-_]\nsrc/main/java/com/shzlw/poli/config/AppConfig.java:        registry.addViewController(\"/{spring:\\\\w+}\")\nsrc/main/java/com/shzlw/poli/config/AppConfig.java:                .setViewName(\"forward:/\");\nsrc/main/java/com/shzlw/poli/config/AppConfig.java:        registry.addViewController(\"/**/{spring:\\\\w+}\")\nsrc/main/java/com/shzlw/poli/config/AppConfig.java:                .setViewName(\"forward:/\");\nsrc/main/java/com/shzlw/poli/config/AppConfig.java:        registry.addViewController(\"/{spring:\\\\w+}/**{spring:?!(\\\\.js|\\\\.css)$}\")\nsrc/main/java/com/shzlw/poli/config/AppConfig.java:                .setViewName(\"forward:/\");\nsrc/main/java/com/shzlw/poli/config/AppConfig.java:    }\nsrc/main/java/com/shzlw/poli/config/AppConfig.java:\nsrc/main/java/com/shzlw/poli/config/AppConfig.java:    @Bean\nsrc/main/java/com/shzlw/poli/config/AppConfig.java:    public FilterRegistrationBean authFilterRegistry() {\nsrc/main/java/com/shzlw/poli/config/AppConfig.java:        FilterRegistrationBean registration = new FilterRegistrationBean();\nsrc/main/java/com/shzlw/poli/config/AppConfig.java:        registration.setName(\"authFilter\");\nsrc/main/java/com/shzlw/poli/config/AppConfig.java:        registration.setFilter(new AuthFilter());\nsrc/main/java/com/shzlw/poli/config/AppConfig.java:        registration.addUrlPatterns(\"/*\");\nsrc/main/java/com/shzlw/poli/config/AppConfig.java:        registration.setAsyncSupported(Boolean.TRUE);\nsrc/main/java/com/shzlw/poli/config/AppConfig.java:        registration.setEnabled(Boolean.TRUE);\nsrc/main/java/com/shzlw/poli/config/AppConfig.java:        return registration;\nsrc/main/java/com/shzlw/poli/config/AppConfig.java:    }\nsrc/main/java/com/shzlw/poli/config/AppConfig.java:\nsrc/main/java/com/shzlw/poli/config/AppConfig.java:    @Bean\nsrc/main/java/com/shzlw/poli/config/AppConfig.java:    public OkHttpClient okHttpClient() {\nsrc/main/java/com/shzlw/poli/config/AppConfig.java:        return new OkHttpClient.Builder()\nsrc/main/java/com/shzlw/poli/config/AppConfig.java:                .connectTimeout(30, TimeUnit.SECONDS)\nsrc/main/java/com/shzlw/poli/config/AppConfig.java:                .writeTimeout(30, TimeUnit.SECONDS)\nsrc/main/java/com/shzlw/poli/config/AppConfig.java:                .readTimeout(30, TimeUnit.SECONDS)\nsrc/main/java/com/shzlw/poli/config/AppConfig.java:                .build();\nsrc/main/java/com/shzlw/poli/config/AppConfig.java:    }\nsrc/main/java/com/shzlw/poli/config/AppConfig.java:}\nsrc/main/java/com/shzlw/poli/config/AppProperties.java:package com.shzlw.poli.config;\nsrc/main/java/com/shzlw/poli/config/AppProperties.java:\nsrc/main/java/com/shzlw/poli/config/AppProperties.java:import org.springframework.boot.context.properties.ConfigurationProperties;\nsrc/main/java/com/shzlw/poli/config/AppProperties.java:import org.springframework.stereotype.Component;\nsrc/main/java/com/shzlw/poli/config/AppProperties.java:\nsrc/main/java/com/shzlw/poli/config/AppProperties.java:@Component\nsrc/main/java/com/shzlw/poli/config/AppProperties.java:@ConfigurationProperties(prefix = \"poli\")\nsrc/main/java/com/shzlw/poli/config/AppProperties.java:public class AppProperties {\nsrc/main/java/com/shzlw/poli/config/AppProperties.java:\nsrc/main/java/com/shzlw/poli/config/AppProperties.java:    Integer datasourceMaximumPoolSize;\nsrc/main/java/com/shzlw/poli/config/AppProperties.java:\nsrc/main/java/com/shzlw/poli/config/AppProperties.java:    Integer maximumQueryRecords;\nsrc/main/java/com/shzlw/poli/config/AppProperties.java:\nsrc/main/java/com/shzlw/poli/config/AppProperties.java:    String localeLanguage;\nsrc/main/java/com/shzlw/poli/config/AppProperties.java:\nsrc/main/java/com/shzlw/poli/config/AppProperties.java:    Boolean allowMultipleQueryStatements;\nsrc/main/java/com/shzlw/poli/config/AppProperties.java:\nsrc/main/java/com/shzlw/poli/config/AppProperties.java:    String exportServerUrl;\nsrc/main/java/com/shzlw/poli/config/AppProperties.java:\nsrc/main/java/com/shzlw/poli/config/AppProperties.java:    public AppProperties() {\nsrc/main/java/com/shzlw/poli/config/AppProperties.java:        datasourceMaximumPoolSize = 50;\nsrc/main/java/com/shzlw/poli/config/AppProperties.java:        maximumQueryRecords = 1000;\nsrc/main/java/com/shzlw/poli/config/AppProperties.java:        localeLanguage = \"en\";\nsrc/main/java/com/shzlw/poli/config/AppProperties.java:        allowMultipleQueryStatements = false;\nsrc/main/java/com/shzlw/poli/config/AppProperties.java:    }\nsrc/main/java/com/shzlw/poli/config/AppProperties.java:\nsrc/main/java/com/shzlw/poli/config/AppProperties.java:    public Integer getDatasourceMaximumPoolSize() {\nsrc/main/java/com/shzlw/poli/config/AppProperties.java:        return datasourceMaximumPoolSize;\nsrc/main/java/com/shzlw/poli/config/AppProperties.java:    }\nsrc/main/java/com/shzlw/poli/config/AppProperties.java:\nsrc/main/java/com/shzlw/poli/config/AppProperties.java:    public void setDatasourceMaximumPoolSize(Integer datasourceMaximumPoolSize) {\nsrc/main/java/com/shzlw/poli/config/AppProperties.java:        this.datasourceMaximumPoolSize = datasourceMaximumPoolSize;\nsrc/main/java/com/shzlw/poli/config/AppProperties.java:    }\nsrc/main/java/com/shzlw/poli/config/AppProperties.java:\nsrc/main/java/com/shzlw/poli/config/AppProperties.java:    public Integer getMaximumQueryRecords() {\nsrc/main/java/com/shzlw/poli/config/AppProperties.java:        return maximumQueryRecords;\nsrc/main/java/com/shzlw/poli/config/AppProperties.java:    }\nsrc/main/java/com/shzlw/poli/config/AppProperties.java:\nsrc/main/java/com/shzlw/poli/config/AppProperties.java:    public void setMaximumQueryRecords(Integer maximumQueryRecords) {\nsrc/main/java/com/shzlw/poli/config/AppProperties.java:        this.maximumQueryRecords = maximumQueryRecords;\nsrc/main/java/com/shzlw/poli/config/AppProperties.java:    }\nsrc/main/java/com/shzlw/poli/config/AppProperties.java:\nsrc/main/java/com/shzlw/poli/config/AppProperties.java:    public String getLocaleLanguage() {\nsrc/main/java/com/shzlw/poli/config/AppProperties.java:        return localeLanguage;\nsrc/main/java/com/shzlw/poli/config/AppProperties.java:    }\nsrc/main/java/com/shzlw/poli/config/AppProperties.java:\nsrc/main/java/com/shzlw/poli/config/AppProperties.java:    public void setLocaleLanguage(String localeLanguage) {\nsrc/main/java/com/shzlw/poli/config/AppProperties.java:        this.localeLanguage = localeLanguage;\nsrc/main/java/com/shzlw/poli/config/AppProperties.java:    }\nsrc/main/java/com/shzlw/poli/config/AppProperties.java:\nsrc/main/java/com/shzlw/poli/config/AppProperties.java:    public Boolean getAllowMultipleQueryStatements() {\nsrc/main/java/com/shzlw/poli/config/AppProperties.java:        return allowMultipleQueryStatements;\nsrc/main/java/com/shzlw/poli/config/AppProperties.java:    }\nsrc/main/java/com/shzlw/poli/config/AppProperties.java:\nsrc/main/java/com/shzlw/poli/config/AppProperties.java:    public void setAllowMultipleQueryStatements(Boolean allowMultipleQueryStatements) {\nsrc/main/java/com/shzlw/poli/config/AppProperties.java:        this.allowMultipleQueryStatements = allowMultipleQueryStatements;\nsrc/main/java/com/shzlw/poli/config/AppProperties.java:    }\nsrc/main/java/com/shzlw/poli/config/AppProperties.java:\nsrc/main/java/com/shzlw/poli/config/AppProperties.java:    public String getExportServerUrl() {\nsrc/main/java/com/shzlw/poli/config/AppProperties.java:        return exportServerUrl;\nsrc/main/java/com/shzlw/poli/config/AppProperties.java:    }\nsrc/main/java/com/shzlw/poli/config/AppProperties.java:\nsrc/main/java/com/shzlw/poli/config/AppProperties.java:    public void setExportServerUrl(String exportServerUrl) {\nsrc/main/java/com/shzlw/poli/config/AppProperties.java:        this.exportServerUrl = exportServerUrl;\nsrc/main/java/com/shzlw/poli/config/AppProperties.java:    }\nsrc/main/java/com/shzlw/poli/config/AppProperties.java:}\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:package com.shzlw.poli.rest;\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:import com.shzlw.poli.dao.CannedReportDao;\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:import com.shzlw.poli.dao.SharedReportDao;\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:import com.shzlw.poli.dao.UserDao;\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:import com.shzlw.poli.dao.UserFavouriteDao;\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:import com.shzlw.poli.model.User;\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:import com.shzlw.poli.model.UserAttribute;\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:import com.shzlw.poli.service.SharedReportService;\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:import com.shzlw.poli.service.UserService;\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:import com.shzlw.poli.util.Constants;\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:import org.slf4j.Logger;\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:import org.slf4j.LoggerFactory;\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:import org.springframework.beans.factory.annotation.Autowired;\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:import org.springframework.http.HttpStatus;\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:import org.springframework.http.MediaType;\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:import org.springframework.http.ResponseEntity;\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:import org.springframework.transaction.annotation.Transactional;\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:import org.springframework.web.bind.annotation.*;\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:import jakarta.servlet.http.HttpServletRequest;\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:import java.util.ArrayList;\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:import java.util.List;\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:@RestController\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:@RequestMapping(\"/ws/users\")\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:public class UserWs {\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:    private static final Logger LOGGER = LoggerFactory.getLogger(UserWs.class);\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:    @Autowired\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:    UserDao userDao;\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:    @Autowired\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:    UserService userService;\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:    @Autowired\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:    CannedReportDao cannedReportDao;\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:    @Autowired\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:    UserFavouriteDao userFavouriteDao;\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:    @Autowired\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:    SharedReportDao sharedReportDao;\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:    @Autowired\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:    SharedReportService sharedReportService;\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:    @RequestMapping(method = RequestMethod.GET, produces = MediaType.APPLICATION_JSON_VALUE)\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:    @Transactional(readOnly = true)\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:    public List<User> findAll(HttpServletRequest request) {\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:        User myUser = (User) request.getAttribute(Constants.HTTP_REQUEST_ATTR_USER);\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:        List<User> users = new ArrayList<>();\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:        if (Constants.SYS_ROLE_ADMIN.equals(myUser.getSysRole())) {\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:            users = userDao.findNonAdminUsers(myUser.getId());\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:        } else if (Constants.SYS_ROLE_DEVELOPER.equals(myUser.getSysRole())) {\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:            users = userDao.findViewerUsers(myUser.getId());\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:        }\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:        return users;\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:    }\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:    @RequestMapping(value = \"/{id}\", method = RequestMethod.GET, produces = MediaType.APPLICATION_JSON_VALUE)\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:    @Transactional(readOnly = true)\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:    public User one(@PathVariable(\"id\") long userId) {\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:        User user = userDao.findById(userId);\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:        if (user == null) {\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:            return null;\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:        }\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:        List<Long> userGroups = userDao.findUserGroups(userId);\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:        user.setUserGroups(userGroups);\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:        List<UserAttribute> userAttributes = userDao.findUserAttributes(userId);\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:        user.setUserAttributes(userAttributes);\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:        return user;\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:    }\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:    @RequestMapping(method = RequestMethod.POST, produces = MediaType.APPLICATION_JSON_VALUE)\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:    @Transactional\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:    public ResponseEntity<Long> add(@RequestBody User user,\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:                                    HttpServletRequest request) {\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:        User myUser = (User) request.getAttribute(Constants.HTTP_REQUEST_ATTR_USER);\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:        if (!isDeveloperOperationValid(myUser.getSysRole(), user)) {\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:            return new ResponseEntity<>(null, HttpStatus.FORBIDDEN);\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:        }\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:        long userId = userDao.insertUser(user.getUsername(), user.getName(), user.getTempPassword(), user.getSysRole());\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:        userDao.insertUserGroups(userId, user.getUserGroups());\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:        userDao.insertUserAttributes(userId, user.getUserAttributes());\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:        return new ResponseEntity<Long>(userId, HttpStatus.CREATED);\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:    }\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:    @RequestMapping(method = RequestMethod.PUT)\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:    @Transactional\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:    public ResponseEntity<?> update(@RequestBody User user,\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:                                    HttpServletRequest request) {\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:        User myUser = (User) request.getAttribute(Constants.HTTP_REQUEST_ATTR_USER);\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:        if (!isDeveloperOperationValid(myUser.getSysRole(), user)) {\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:            return new ResponseEntity<>(null, HttpStatus.FORBIDDEN);\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:        }\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:        long userId = user.getId();\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:        User savedUser = userDao.findById(userId);\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:        userService.invalidateSessionUserCache(savedUser.getSessionKey());\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:        userDao.updateUser(user);\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:        userDao.deleteUserGroups(userId);\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:        userDao.insertUserGroups(userId, user.getUserGroups());\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:        userDao.deleteUserAttributes(userId);\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:        userDao.insertUserAttributes(userId, user.getUserAttributes());\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:        return new ResponseEntity<String>(HttpStatus.OK);\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:    }\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:    @RequestMapping(value = \"/{id}\", method = RequestMethod.DELETE)\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:    @Transactional\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:    public ResponseEntity<?> delete(@PathVariable(\"id\") long userId,\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:                                    HttpServletRequest request) {\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:        User myUser = (User) request.getAttribute(Constants.HTTP_REQUEST_ATTR_USER);\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:        User savedUser = userDao.findById(userId);\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:        if (!isDeveloperOperationValid(myUser.getSysRole(), savedUser)) {\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:            return new ResponseEntity<>(null, HttpStatus.FORBIDDEN);\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:        }\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:        userService.invalidateSessionUserCache(savedUser.getSessionKey());\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:        sharedReportService.invalidateSharedLinkInfoCacheByUserId(userId);\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:        sharedReportDao.deleteByUserId(userId);\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:        userFavouriteDao.deleteByUserId(userId);\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:        cannedReportDao.deleteByUserId(userId);\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:        userDao.deleteUserAttributes(userId);\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:        userDao.deleteUserGroups(userId);\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:        userDao.deleteUser(userId);\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:        return new ResponseEntity<String>(HttpStatus.NO_CONTENT);\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:    }\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:    @RequestMapping(\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:            value = \"/account\",\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:            method = RequestMethod.GET,\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:            produces = MediaType.APPLICATION_JSON_VALUE)\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:    @Transactional(readOnly = true)\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:    public User findAccountBySessionKey(HttpServletRequest request) {\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:        User myUser = (User) request.getAttribute(Constants.HTTP_REQUEST_ATTR_USER);\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:        User myAccount = userDao.findAccount(myUser.getId());\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:        return myAccount;\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:    }\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:    @RequestMapping(\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:            value = \"/account\",\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:            method = RequestMethod.PUT,\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:            produces = MediaType.APPLICATION_JSON_VALUE)\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:    @Transactional\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:    public void updateUserBySessionKey(@RequestBody User user,\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:                                       HttpServletRequest request) {\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:        User myUser = (User) request.getAttribute(Constants.HTTP_REQUEST_ATTR_USER);\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:        userService.invalidateSessionUserCache(myUser.getSessionKey());\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:        userDao.updateUserAccount(myUser.getId(), user.getName(), user.getPassword());\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:    }\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:    private boolean isDeveloperOperationValid(String mySysRole, User targetUser) {\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:        if (Constants.SYS_ROLE_DEVELOPER.equals(mySysRole)\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:                && !Constants.SYS_ROLE_VIEWER.equals(targetUser.getSysRole())) {\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:            return false;\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:        }\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:        return true;\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:    }\nsrc/main/java/com/shzlw/poli/rest/UserWs.java:}\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:package com.shzlw.poli.rest;\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:import com.shzlw.poli.dao.UserDao;\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:import com.shzlw.poli.dto.LoginResponse;\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:import com.shzlw.poli.model.SharedReport;\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:import com.shzlw.poli.model.User;\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:import com.shzlw.poli.service.UserService;\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:import com.shzlw.poli.util.Constants;\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:import com.shzlw.poli.util.PasswordUtils;\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:import org.springframework.beans.factory.annotation.Autowired;\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:import org.springframework.http.HttpStatus;\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:import org.springframework.http.ResponseEntity;\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:import org.springframework.transaction.annotation.Transactional;\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:import org.springframework.web.bind.annotation.*;\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:import jakarta.servlet.http.Cookie;\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:import jakarta.servlet.http.HttpServletResponse;\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:import java.io.IOException;\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:@RestController\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:@RequestMapping(\"/auth\")\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:public class AuthWs {\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:    @Autowired\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:    UserDao userDao;\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:    @Autowired\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:    UserService userService;\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:    public static final String INVALID_USERNAME_PASSWORD = \"Invalid username or password.\";\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:    public static final String USE_MORE_CHARACTERS = \"Use 8 or more characters.\";\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:    public static final String INVALID_API_KEY = \"Invalid api key.\";\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:    public static final String INVALID_SHARE_KEY = \"Invalid share key.\";\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:    @RequestMapping(value=\"/login/user\", method = RequestMethod.POST)\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:    @Transactional\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:    public LoginResponse loginByUser(@RequestBody User loginInfo, HttpServletResponse response) {\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:        String username = loginInfo.getUsername();\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:        String password = loginInfo.getPassword();\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:        boolean isTempPassword = false;\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:        User user = userDao.findByUsernameAndPassword(username, password);\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:        if (user == null) {\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:            user = userDao.findByUsernameAndTempPassword(username, password);\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:            if (user == null) {\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:                return LoginResponse.ofError(INVALID_USERNAME_PASSWORD);\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:            } else {\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:                isTempPassword = true;\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:            }\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:        }\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:        String oldSessionKey = user.getSessionKey();\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:        String newSessionKey = getNewSessionKey();\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:        userDao.updateSessionKey(user.getId(), newSessionKey);\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:        user.setUserAttributes(userDao.findUserAttributes(user.getId()));\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:        userService.newOrUpdateUser(user, oldSessionKey, newSessionKey);\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:        Cookie sessionKeyCookie = new Cookie(Constants.SESSION_KEY, newSessionKey);\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:        sessionKeyCookie.setMaxAge(Constants.COOKIE_TIMEOUT);\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:        sessionKeyCookie.setPath(\"/\");\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:        response.addCookie(sessionKeyCookie);\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:        return LoginResponse.ofSuccess(user.getUsername(), user.getSysRole(), isTempPassword);\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:    }\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:    @RequestMapping(value=\"/login/cookie\", method= RequestMethod.POST)\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:    @Transactional\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:    public LoginResponse loginBySessionKey(@CookieValue(value = Constants.SESSION_KEY, defaultValue = \"\") String sessionKey) {\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:        if (sessionKey.isEmpty()) {\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:            return LoginResponse.ofError(INVALID_USERNAME_PASSWORD);\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:        }\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:        User user = userDao.findBySessionKey(sessionKey);\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:        if (user == null) {\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:            return LoginResponse.ofError(INVALID_USERNAME_PASSWORD);\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:        }\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:        user.setUserAttributes(userDao.findUserAttributes(user.getId()));\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:        userService.newOrUpdateUser(user, user.getSessionKey(), sessionKey);\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:        return LoginResponse.ofSuccess(user.getUsername(), user.getSysRole(), false);\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:    }\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:    @RequestMapping(value=\"/login/apikey\", method= RequestMethod.POST)\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:    @Transactional\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:    public LoginResponse loginByApiKey(@RequestBody User loginInfo) {\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:        String apiKey = loginInfo.getApiKey();\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:        User user = userDao.findByApiKey(apiKey);\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:        if (user == null) {\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:            return LoginResponse.ofError(INVALID_API_KEY);\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:        }\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:        return LoginResponse.ofSuccess(user.getUsername(), user.getSysRole(), false);\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:    }\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:    @RequestMapping(value=\"/login/sharekey\", method= RequestMethod.POST)\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:    @Transactional\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:    public LoginResponse loginByShareKey(@RequestBody SharedReport sharedReport) {\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:        String shareKey = sharedReport.getShareKey();\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:        User user = userDao.findByShareKey(shareKey);\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:        if (user == null) {\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:            return LoginResponse.ofError(INVALID_SHARE_KEY);\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:        }\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:        return LoginResponse.ofSuccess(user.getUsername(), user.getSysRole(), false);\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:    }\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:    @RequestMapping(value=\"/logout\", method= RequestMethod.GET)\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:    @Transactional\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:    public void logout(@CookieValue(Constants.SESSION_KEY) String sessionKey, HttpServletResponse response) throws IOException {\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:        User user = userDao.findBySessionKey(sessionKey);\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:        if (user != null) {\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:            userService.invalidateSessionUserCache(sessionKey);\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:            userDao.updateSessionKey(user.getId(), null);\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:            Cookie sessionKeyCookie = new Cookie(Constants.SESSION_KEY, \"\");\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:            sessionKeyCookie.setMaxAge(0);\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:            sessionKeyCookie.setPath(\"/\");\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:            response.addCookie(sessionKeyCookie);\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:        }\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:    }\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:    @RequestMapping(value=\"/login/change-password\", method= RequestMethod.POST)\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:    @Transactional\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:    public ResponseEntity<LoginResponse> changeTempPassword(@CookieValue(value = Constants.SESSION_KEY, defaultValue = \"\") String sessionKey,\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:        @RequestBody User user) {\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:        String password = user.getPassword();\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:        if (password.length() < 8) {\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:            return new ResponseEntity<>(LoginResponse.ofError(USE_MORE_CHARACTERS), HttpStatus.OK);\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:        }\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:        User existUser = userDao.findBySessionKey(sessionKey);\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:        if (existUser == null) {\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:            return new ResponseEntity<>(LoginResponse.ofError(\"Invalid session.\"), HttpStatus.OK);\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:        }\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:        userDao.updateTempPassword(existUser.getId(), user.getPassword());\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:        return new ResponseEntity<>(HttpStatus.OK);\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:    }\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:    @RequestMapping(value=\"/generate-apikey\", method= RequestMethod.GET)\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:    @Transactional\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:    public ResponseEntity<String> generateApiKey(@CookieValue(value = Constants.SESSION_KEY, defaultValue = \"\") String sessionKey) {\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:        User user = userDao.findAccountBySessionKey(sessionKey);\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:        userService.invalidateApiKeyUserCache(user.getApiKey());\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:        String apiKey = Constants.API_KEY_PREFIX + PasswordUtils.getUniqueId();\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:        userDao.updateApiKey(user.getId(), apiKey);\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:        return new ResponseEntity<>(apiKey, HttpStatus.OK);\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:    }\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:    private static String getNewSessionKey() {\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:        return Constants.SESSION_KEY_PREFIX + PasswordUtils.getUniqueId();\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:    }\nsrc/main/java/com/shzlw/poli/rest/AuthWs.java:}\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:package com.shzlw.poli.rest;\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:import com.shzlw.poli.dao.ComponentDao;\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:import com.shzlw.poli.dao.JdbcDataSourceDao;\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:import com.shzlw.poli.dao.SavedQueryDao;\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:import com.shzlw.poli.dto.Table;\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:import com.shzlw.poli.model.JdbcDataSource;\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:import com.shzlw.poli.service.JdbcDataSourceService;\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:import com.shzlw.poli.service.JdbcQueryService;\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:import org.springframework.beans.factory.annotation.Autowired;\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:import org.springframework.http.HttpStatus;\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:import org.springframework.http.MediaType;\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:import org.springframework.http.ResponseEntity;\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:import org.springframework.transaction.annotation.Transactional;\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:import org.springframework.web.bind.annotation.*;\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:import javax.sql.DataSource;\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:import java.util.List;\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:@RestController\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:@RequestMapping(\"/ws/jdbcdatasources\")\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:public class JdbcDataSourceWs {\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:    @Autowired\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:    JdbcDataSourceDao jdbcDataSourceDao;\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:    @Autowired\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:    JdbcQueryService jdbcQueryService;\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:    @Autowired\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:    JdbcDataSourceService jdbcDataSourceService;\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:    @Autowired\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:    ComponentDao componentDao;\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:    @Autowired\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:    SavedQueryDao savedQueryDao;\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:    @RequestMapping(method = RequestMethod.GET, produces = MediaType.APPLICATION_JSON_VALUE)\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:    @Transactional(readOnly = true)\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:    public List<JdbcDataSource> findAll() {\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:        return jdbcDataSourceDao.findAllWithNoCredentials();\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:    }\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:    @RequestMapping(value = \"/{id}\", method = RequestMethod.GET, produces = MediaType.APPLICATION_JSON_VALUE)\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:    @Transactional(readOnly = true)\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:    public JdbcDataSource one(@PathVariable(\"id\") long id) {\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:        return jdbcDataSourceDao.findByIdWithNoCredentials(id);\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:    }\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:    @RequestMapping(method = RequestMethod.POST)\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:    @Transactional\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:    public ResponseEntity<Long> add(@RequestBody JdbcDataSource ds) {\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:        long id = jdbcDataSourceDao.insert(ds);\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:        return new ResponseEntity<Long>(id, HttpStatus.CREATED);\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:    }\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:    @RequestMapping(method = RequestMethod.PUT)\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:    @Transactional\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:    public ResponseEntity<?> update(@RequestBody JdbcDataSource ds) {\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:        jdbcDataSourceService.removeFromCache(ds.getId());\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:        jdbcDataSourceDao.update(ds);\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:        return new ResponseEntity<String>(HttpStatus.OK);\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:    }\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:    @RequestMapping(value = \"/{id}\", method = RequestMethod.DELETE)\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:    @Transactional\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:    public ResponseEntity<?> delete(@PathVariable(\"id\") long id) {\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:        jdbcDataSourceService.removeFromCache(id);\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:        componentDao.updateByDataSourceId(id);\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:        savedQueryDao.clearDataSourceId(id);\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:        jdbcDataSourceDao.delete(id);\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:        return new ResponseEntity<String>(HttpStatus.NO_CONTENT);\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:    }\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:    @RequestMapping(value = \"/ping/{id}\", method = RequestMethod.GET)\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:    @Transactional(readOnly = true)\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:    public String ping(@PathVariable(\"id\") long id) {\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:        JdbcDataSource ds = jdbcDataSourceDao.findByIdWithNoCredentials(id);\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:        DataSource dataSource = jdbcDataSourceService.getDataSource(id);\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:        return jdbcQueryService.ping(dataSource, ds.getPing());\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:    }\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:    @RequestMapping(\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:            value = \"/schema/{id}\",\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:            method = RequestMethod.GET,\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:            produces = MediaType.APPLICATION_JSON_VALUE)\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:    @Transactional(readOnly = true)\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:    public List<Table> getSchema(@PathVariable(\"id\") long id) {\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:        DataSource dataSource = jdbcDataSourceService.getDataSource(id);\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:        return jdbcQueryService.getSchema(dataSource);\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:    }\nsrc/main/java/com/shzlw/poli/rest/JdbcDataSourceWs.java:}\nsrc/main/java/com/shzlw/poli/rest/AuditLogWs.java:package com.shzlw.poli.rest;\nsrc/main/java/com/shzlw/poli/rest/AuditLogWs.java:\nsrc/main/java/com/shzlw/poli/rest/AuditLogWs.java:import com.shzlw.poli.dao.AuditLogDao;\nsrc/main/java/com/shzlw/poli/rest/AuditLogWs.java:import com.shzlw.poli.model.AuditLog;\nsrc/main/java/com/shzlw/poli/rest/AuditLogWs.java:import org.springframework.beans.factory.annotation.Autowired;\nsrc/main/java/com/shzlw/poli/rest/AuditLogWs.java:import org.springframework.http.MediaType;\nsrc/main/java/com/shzlw/poli/rest/AuditLogWs.java:import org.springframework.transaction.annotation.Transactional;\nsrc/main/java/com/shzlw/poli/rest/AuditLogWs.java:import org.springframework.web.bind.annotation.RequestMapping;\nsrc/main/java/com/shzlw/poli/rest/AuditLogWs.java:import org.springframework.web.bind.annotation.RequestMethod;\nsrc/main/java/com/shzlw/poli/rest/AuditLogWs.java:import org.springframework.web.bind.annotation.RequestParam;\nsrc/main/java/com/shzlw/poli/rest/AuditLogWs.java:import org.springframework.web.bind.annotation.RestController;\nsrc/main/java/com/shzlw/poli/rest/AuditLogWs.java:\nsrc/main/java/com/shzlw/poli/rest/AuditLogWs.java:import java.util.List;\nsrc/main/java/com/shzlw/poli/rest/AuditLogWs.java:\nsrc/main/java/com/shzlw/poli/rest/AuditLogWs.java:@RestController\nsrc/main/java/com/shzlw/poli/rest/AuditLogWs.java:@RequestMapping(\"/ws/audit-logs\")\nsrc/main/java/com/shzlw/poli/rest/AuditLogWs.java:public class AuditLogWs {\nsrc/main/java/com/shzlw/poli/rest/AuditLogWs.java:\nsrc/main/java/com/shzlw/poli/rest/AuditLogWs.java:    @Autowired\nsrc/main/java/com/shzlw/poli/rest/AuditLogWs.java:    AuditLogDao auditLogDao;\nsrc/main/java/com/shzlw/poli/rest/AuditLogWs.java:\nsrc/main/java/com/shzlw/poli/rest/AuditLogWs.java:    @RequestMapping(method = RequestMethod.GET, produces = MediaType.APPLICATION_JSON_VALUE)\nsrc/main/java/com/shzlw/poli/rest/AuditLogWs.java:    @Transactional(readOnly = true)\nsrc/main/java/com/shzlw/poli/rest/AuditLogWs.java:    public List<AuditLog> findAll(@RequestParam(name = \"search\", defaultValue = \"\", required = false) String searchValue,\nsrc/main/java/com/shzlw/poli/rest/AuditLogWs.java:                                  @RequestParam(name = \"page\", defaultValue = \"1\", required = false) int page,\nsrc/main/java/com/shzlw/poli/rest/AuditLogWs.java:                                  @RequestParam(name = \"size\", defaultValue = \"20\", required = false) int pageSize) {\nsrc/main/java/com/shzlw/poli/rest/AuditLogWs.java:        return auditLogDao.findAll(page, pageSize, searchValue);\nsrc/main/java/com/shzlw/poli/rest/AuditLogWs.java:    }\nsrc/main/java/com/shzlw/poli/rest/AuditLogWs.java:}\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:package com.shzlw.poli.rest;\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:import com.shzlw.poli.dao.ComponentDao;\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:import com.shzlw.poli.dto.FilterParameter;\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:import com.shzlw.poli.dto.QueryRequest;\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:import com.shzlw.poli.dto.QueryResult;\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:import com.shzlw.poli.model.Component;\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:import com.shzlw.poli.model.Report;\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:import com.shzlw.poli.model.User;\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:import com.shzlw.poli.model.UserAttribute;\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:import com.shzlw.poli.service.JdbcDataSourceService;\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:import com.shzlw.poli.service.JdbcQueryService;\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:import com.shzlw.poli.service.ReportService;\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:import com.shzlw.poli.util.CommonUtils;\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:import com.shzlw.poli.util.Constants;\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:import org.slf4j.Logger;\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:import org.slf4j.LoggerFactory;\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:import org.springframework.beans.factory.annotation.Autowired;\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:import org.springframework.http.HttpStatus;\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:import org.springframework.http.MediaType;\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:import org.springframework.http.ResponseEntity;\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:import org.springframework.web.bind.annotation.*;\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:import jakarta.servlet.http.HttpServletRequest;\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:import javax.sql.DataSource;\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:import java.util.ArrayList;\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:import java.util.List;\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:@RestController\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:@RequestMapping(\"/ws/jdbcquery\")\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:public class JdbcQueryWs {\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:    private static final Logger LOGGER = LoggerFactory.getLogger(JdbcQueryWs.class);\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:    @Autowired\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:    JdbcDataSourceService jdbcDataSourceService;\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:    @Autowired\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:    JdbcQueryService jdbcQueryService;\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:    @Autowired\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:    ComponentDao componentDao;\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:    @Autowired\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:    ReportService reportService;\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:    @RequestMapping(value = \"/query\", method = RequestMethod.POST)\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:    public QueryResult runQuery(@RequestBody QueryRequest queryRequest) {\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:        long dataSourceId = queryRequest.getJdbcDataSourceId();\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:        String sql = queryRequest.getSqlQuery();\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:        int resultLimit = queryRequest.getResultLimit();\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:        DataSource dataSource = jdbcDataSourceService.getDataSource(dataSourceId);\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:        QueryResult queryResult = jdbcQueryService.queryByParams(dataSource, sql, null, resultLimit);\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:        return queryResult;\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:    }\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:    @RequestMapping(\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:            value = \"/component/{id}\",\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:            method = RequestMethod.POST,\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:            produces = MediaType.APPLICATION_JSON_VALUE)\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:    public ResponseEntity<QueryResult> queryComponent(\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:            @PathVariable(\"id\") long componentId,\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:            @RequestBody List<FilterParameter> filterParams,\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:            HttpServletRequest request\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:    ) {\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:        Component component = componentDao.findById(componentId);\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:        if (component.getJdbcDataSourceId() == 0) {\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:            return new ResponseEntity(QueryResult.ofError(Constants.ERROR_NO_DATA_SOURCE_FOUND), HttpStatus.OK);\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:        }\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:        boolean isAccessValid = isComponentAccessValid(component, request);\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:        if (isAccessValid) {\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:            String sql = component.getSqlQuery();\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:            DataSource dataSource = jdbcDataSourceService.getDataSource(component.getJdbcDataSourceId());\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:            User user = (User) request.getAttribute(Constants.HTTP_REQUEST_ATTR_USER);\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:            List<FilterParameter> newFilterParams = addUserAttributesToFilterParams(user.getUserAttributes(), filterParams);\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:            QueryResult queryResult = jdbcQueryService.queryByParams(dataSource, sql, newFilterParams, Constants.QUERY_RESULT_NOLIMIT);\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:            return new ResponseEntity(queryResult, HttpStatus.OK);\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:        }\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:        return new ResponseEntity<>(HttpStatus.FORBIDDEN);\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:    }\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:    protected boolean isComponentAccessValid(Component component, HttpServletRequest request) {\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:        if (component == null) {\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:            return false;\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:        }\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:        User user = (User) request.getAttribute(Constants.HTTP_REQUEST_ATTR_USER);\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:        if (user == null) {\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:            return false;\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:        }\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:        List<Report> reports = reportService.getReportsByUser(user);\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:        boolean isValid = false;\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:        for (Report report : reports) {\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:            if (report.getId() == component.getReportId()) {\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:                isValid = true;\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:                break;\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:            }\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:        }\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:        return isValid;\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:    }\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:    protected List<FilterParameter> addUserAttributesToFilterParams(List<UserAttribute> userAttributes, List<FilterParameter> filterParams) {\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:        if (userAttributes == null || userAttributes.isEmpty()) {\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:            return filterParams;\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:        }\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:        List<FilterParameter> newFilterParams = new ArrayList<>();\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:        for (UserAttribute attr : userAttributes) {\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:            // Transform every user attribute to a single value filter param.\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:            FilterParameter param = new FilterParameter();\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:            param.setType(Constants.FILTER_TYPE_USER_ATTRIBUTE);\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:            // For example: $user_attr[division]\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:            param.setParam(CommonUtils.getParamByAttrKey(attr.getAttrKey()));\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:            param.setValue(attr.getAttrValue());\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:            newFilterParams.add(param);\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:        }\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:        if (filterParams != null && !filterParams.isEmpty()) {\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:            newFilterParams.addAll(filterParams);\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:        }\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:        return newFilterParams;\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:    }\nsrc/main/java/com/shzlw/poli/rest/JdbcQueryWs.java:}\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:package com.shzlw.poli.rest;\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:import com.shzlw.poli.dao.CannedReportDao;\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:import com.shzlw.poli.model.CannedReport;\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:import com.shzlw.poli.model.User;\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:import com.shzlw.poli.util.CommonUtils;\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:import com.shzlw.poli.util.Constants;\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:import org.springframework.beans.factory.annotation.Autowired;\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:import org.springframework.http.HttpStatus;\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:import org.springframework.http.MediaType;\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:import org.springframework.http.ResponseEntity;\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:import org.springframework.transaction.annotation.Transactional;\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:import org.springframework.web.bind.annotation.*;\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:import jakarta.servlet.http.HttpServletRequest;\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:import java.time.LocalDateTime;\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:import java.util.List;\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:@RestController\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:@RequestMapping(\"/ws/cannedreports\")\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:public class CannedReportWs {\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:    @Autowired\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:    CannedReportDao cannedReportDao;\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:    @RequestMapping(\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:            value = \"/{id}\",\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:            method = RequestMethod.GET,\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:            produces = MediaType.APPLICATION_JSON_VALUE)\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:    @Transactional(readOnly = true)\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:    public CannedReport one(@PathVariable(\"id\") long id) {\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:        return cannedReportDao.findById(id);\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:    }\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:    @RequestMapping(\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:            method = RequestMethod.GET,\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:            produces = MediaType.APPLICATION_JSON_VALUE)\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:    @Transactional(readOnly = true)\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:    public List<CannedReport> all() {\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:        return cannedReportDao.findAll();\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:    }\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:    @RequestMapping(\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:            value = \"/myreport\",\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:            method = RequestMethod.GET,\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:            produces = MediaType.APPLICATION_JSON_VALUE)\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:    @Transactional(readOnly = true)\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:    public List<CannedReport> getMyReport(HttpServletRequest request) {\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:        User user = (User) request.getAttribute(Constants.HTTP_REQUEST_ATTR_USER);\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:        return cannedReportDao.findByUserId(user.getId());\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:    }\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:    @RequestMapping(method = RequestMethod.POST)\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:    @Transactional\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:    public ResponseEntity<Long> add(@RequestBody CannedReport cannedReport,\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:                                    HttpServletRequest request) {\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:        User user = (User) request.getAttribute(Constants.HTTP_REQUEST_ATTR_USER);\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:        long id = cannedReportDao.insert(user.getId(),\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:                CommonUtils.toEpoch(LocalDateTime.now()),\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:                cannedReport.getName(),\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:                cannedReport.getData());\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:        return new ResponseEntity<Long>(id, HttpStatus.CREATED);\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:    }\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:    @RequestMapping(value = \"/{id}\", method = RequestMethod.DELETE)\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:    @Transactional\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:    public ResponseEntity<?> delete(@PathVariable(\"id\") long id) {\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:        cannedReportDao.delete(id);\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:        return new ResponseEntity<String>(HttpStatus.NO_CONTENT);\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:    }\nsrc/main/java/com/shzlw/poli/rest/CannedReportWs.java:}\nsrc/main/java/com/shzlw/poli/rest/InfoWs.java:package com.shzlw.poli.rest;\nsrc/main/java/com/shzlw/poli/rest/InfoWs.java:\nsrc/main/java/com/shzlw/poli/rest/InfoWs.java:import com.shzlw.poli.config.AppProperties;\nsrc/main/java/com/shzlw/poli/rest/InfoWs.java:import com.shzlw.poli.dto.AppInfo;\nsrc/main/java/com/shzlw/poli/rest/InfoWs.java:import com.shzlw.poli.util.Constants;\nsrc/main/java/com/shzlw/poli/rest/InfoWs.java:import org.springframework.beans.factory.annotation.Autowired;\nsrc/main/java/com/shzlw/poli/rest/InfoWs.java:import org.springframework.web.bind.annotation.RequestMapping;\nsrc/main/java/com/shzlw/poli/rest/InfoWs.java:import org.springframework.web.bind.annotation.RequestMethod;\nsrc/main/java/com/shzlw/poli/rest/InfoWs.java:import org.springframework.web.bind.annotation.RestController;\nsrc/main/java/com/shzlw/poli/rest/InfoWs.java:\nsrc/main/java/com/shzlw/poli/rest/InfoWs.java:@RestController\nsrc/main/java/com/shzlw/poli/rest/InfoWs.java:@RequestMapping(\"/info\")\nsrc/main/java/com/shzlw/poli/rest/InfoWs.java:public class InfoWs {\nsrc/main/java/com/shzlw/poli/rest/InfoWs.java:\nsrc/main/java/com/shzlw/poli/rest/InfoWs.java:    @Autowired\nsrc/main/java/com/shzlw/poli/rest/InfoWs.java:    AppProperties appProperties;\nsrc/main/java/com/shzlw/poli/rest/InfoWs.java:\nsrc/main/java/com/shzlw/poli/rest/InfoWs.java:    @RequestMapping(value=\"/general\", method = RequestMethod.GET)\nsrc/main/java/com/shzlw/poli/rest/InfoWs.java:    public AppInfo getGeneral() {\nsrc/main/java/com/shzlw/poli/rest/InfoWs.java:        return new AppInfo(Constants.CURRENT_VERSION, appProperties.getLocaleLanguage());\nsrc/main/java/com/shzlw/poli/rest/InfoWs.java:    }\nsrc/main/java/com/shzlw/poli/rest/InfoWs.java:}\nsrc/main/java/com/shzlw/poli/rest/SavedQueryWs.java:package com.shzlw.poli.rest;\nsrc/main/java/com/shzlw/poli/rest/SavedQueryWs.java:\nsrc/main/java/com/shzlw/poli/rest/SavedQueryWs.java:import com.shzlw.poli.dao.SavedQueryDao;\nsrc/main/java/com/shzlw/poli/rest/SavedQueryWs.java:import com.shzlw.poli.model.SavedQuery;\nsrc/main/java/com/shzlw/poli/rest/SavedQueryWs.java:import org.springframework.beans.factory.annotation.Autowired;\nsrc/main/java/com/shzlw/poli/rest/SavedQueryWs.java:import org.springframework.http.HttpStatus;\nsrc/main/java/com/shzlw/poli/rest/SavedQueryWs.java:import org.springframework.http.MediaType;\nsrc/main/java/com/shzlw/poli/rest/SavedQueryWs.java:import org.springframework.http.ResponseEntity;\nsrc/main/java/com/shzlw/poli/rest/SavedQueryWs.java:import org.springframework.transaction.annotation.Transactional;\nsrc/main/java/com/shzlw/poli/rest/SavedQueryWs.java:import org.springframework.util.StringUtils;\nsrc/main/java/com/shzlw/poli/rest/SavedQueryWs.java:import org.springframework.web.bind.annotation.*;\nsrc/main/java/com/shzlw/poli/rest/SavedQueryWs.java:\nsrc/main/java/com/shzlw/poli/rest/SavedQueryWs.java:import java.util.List;\nsrc/main/java/com/shzlw/poli/rest/SavedQueryWs.java:\nsrc/main/java/com/shzlw/poli/rest/SavedQueryWs.java:@RestController\nsrc/main/java/com/shzlw/poli/rest/SavedQueryWs.java:@RequestMapping(\"/ws/saved-queries\")\nsrc/main/java/com/shzlw/poli/rest/SavedQueryWs.java:public class SavedQueryWs {\nsrc/main/java/com/shzlw/poli/rest/SavedQueryWs.java:\nsrc/main/java/com/shzlw/poli/rest/SavedQueryWs.java:    @Autowired\nsrc/main/java/com/shzlw/poli/rest/SavedQueryWs.java:    SavedQueryDao savedQueryDao;\nsrc/main/java/com/shzlw/poli/rest/SavedQueryWs.java:\nsrc/main/java/com/shzlw/poli/rest/SavedQueryWs.java:    @RequestMapping(method = RequestMethod.GET, produces = MediaType.APPLICATION_JSON_VALUE)\nsrc/main/java/com/shzlw/poli/rest/SavedQueryWs.java:    @Transactional(readOnly = true)\nsrc/main/java/com/shzlw/poli/rest/SavedQueryWs.java:    public List<SavedQuery> findAll() {\nsrc/main/java/com/shzlw/poli/rest/SavedQueryWs.java:        return savedQueryDao.findAll();\nsrc/main/java/com/shzlw/poli/rest/SavedQueryWs.java:    }\nsrc/main/java/com/shzlw/poli/rest/SavedQueryWs.java:\nsrc/main/java/com/shzlw/poli/rest/SavedQueryWs.java:    @RequestMapping(value = \"/{id}\", method = RequestMethod.GET, produces = MediaType.APPLICATION_JSON_VALUE)\nsrc/main/java/com/shzlw/poli/rest/SavedQueryWs.java:    @Transactional(readOnly = true)\nsrc/main/java/com/shzlw/poli/rest/SavedQueryWs.java:    public SavedQuery one(@PathVariable(\"id\") long id) {\nsrc/main/java/com/shzlw/poli/rest/SavedQueryWs.java:        return savedQueryDao.find(id);\nsrc/main/java/com/shzlw/poli/rest/SavedQueryWs.java:    }\nsrc/main/java/com/shzlw/poli/rest/SavedQueryWs.java:\nsrc/main/java/com/shzlw/poli/rest/SavedQueryWs.java:    @RequestMapping(method = RequestMethod.POST)\nsrc/main/java/com/shzlw/poli/rest/SavedQueryWs.java:    @Transactional\nsrc/main/java/com/shzlw/poli/rest/SavedQueryWs.java:    public ResponseEntity<Long> add(@RequestBody SavedQuery savedQuery) {\nsrc/main/java/com/shzlw/poli/rest/SavedQueryWs.java:        if (StringUtils.isEmpty(savedQuery.getEndpointName())) {\nsrc/main/java/com/shzlw/poli/rest/SavedQueryWs.java:            savedQuery.setEndpointName(null);\nsrc/main/java/com/shzlw/poli/rest/SavedQueryWs.java:        }\nsrc/main/java/com/shzlw/poli/rest/SavedQueryWs.java:        long id = savedQueryDao.insert(savedQuery);\nsrc/main/java/com/shzlw/poli/rest/SavedQueryWs.java:        return new ResponseEntity<>(id, HttpStatus.CREATED);\nsrc/main/java/com/shzlw/poli/rest/SavedQueryWs.java:    }\nsrc/main/java/com/shzlw/poli/rest/SavedQueryWs.java:\nsrc/main/java/com/shzlw/poli/rest/SavedQueryWs.java:    @RequestMapping(method = RequestMethod.PUT)\nsrc/main/java/com/shzlw/poli/rest/SavedQueryWs.java:    @Transactional\nsrc/main/java/com/shzlw/poli/rest/SavedQueryWs.java:    public ResponseEntity<?> update(@RequestBody SavedQuery savedQuery) {\nsrc/main/java/com/shzlw/poli/rest/SavedQueryWs.java:        if (StringUtils.isEmpty(savedQuery.getEndpointName())) {\nsrc/main/java/com/shzlw/poli/rest/SavedQueryWs.java:            savedQuery.setEndpointName(null);\nsrc/main/java/com/shzlw/poli/rest/SavedQueryWs.java:        }\nsrc/main/java/com/shzlw/poli/rest/SavedQueryWs.java:        savedQueryDao.update(savedQuery);\nsrc/main/java/com/shzlw/poli/rest/SavedQueryWs.java:        return new ResponseEntity<String>(HttpStatus.OK);\nsrc/main/java/com/shzlw/poli/rest/SavedQueryWs.java:    }\nsrc/main/java/com/shzlw/poli/rest/SavedQueryWs.java:\nsrc/main/java/com/shzlw/poli/rest/SavedQueryWs.java:    @RequestMapping(value = \"/{id}\", method = RequestMethod.DELETE)\nsrc/main/java/com/shzlw/poli/rest/SavedQueryWs.java:    @Transactional\nsrc/main/java/com/shzlw/poli/rest/SavedQueryWs.java:    public ResponseEntity<?> delete(@PathVariable(\"id\") long id) {\nsrc/main/java/com/shzlw/poli/rest/SavedQueryWs.java:        savedQueryDao.delete(id);\nsrc/main/java/com/shzlw/poli/rest/SavedQueryWs.java:        return new ResponseEntity<>(HttpStatus.NO_CONTENT);\nsrc/main/java/com/shzlw/poli/rest/SavedQueryWs.java:    }\nsrc/main/java/com/shzlw/poli/rest/SavedQueryWs.java:\nsrc/main/java/com/shzlw/poli/rest/SavedQueryWs.java:    public List<SavedQuery> findAllByPage(@RequestParam(name = \"search\", defaultValue = \"\", required = false) String searchValue,\nsrc/main/java/com/shzlw/poli/rest/SavedQueryWs.java:                                          @RequestParam(name = \"page\", defaultValue = \"1\", required = false) int page,\nsrc/main/java/com/shzlw/poli/rest/SavedQueryWs.java:                                          @RequestParam(name = \"size\", defaultValue = \"20\", required = false) int pageSize) {\nsrc/main/java/com/shzlw/poli/rest/SavedQueryWs.java:        return savedQueryDao.findAllByPage(page, pageSize, searchValue);\nsrc/main/java/com/shzlw/poli/rest/SavedQueryWs.java:    }\nsrc/main/java/com/shzlw/poli/rest/SavedQueryWs.java:}\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:package com.shzlw.poli.rest;\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:import com.shzlw.poli.dao.GroupDao;\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:import com.shzlw.poli.dao.UserDao;\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:import com.shzlw.poli.model.Group;\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:import com.shzlw.poli.service.ReportService;\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:import org.springframework.beans.factory.annotation.Autowired;\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:import org.springframework.http.HttpStatus;\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:import org.springframework.http.MediaType;\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:import org.springframework.http.ResponseEntity;\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:import org.springframework.transaction.annotation.Transactional;\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:import org.springframework.web.bind.annotation.*;\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:import java.util.List;\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:@RestController\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:@RequestMapping(\"/ws/groups\")\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:public class GroupWs {\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:    @Autowired\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:    GroupDao groupDao;\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:    @Autowired\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:    ReportService reportService;\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:    @Autowired\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:    UserDao userDao;\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:    @RequestMapping(method = RequestMethod.GET, produces = MediaType.APPLICATION_JSON_VALUE)\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:    @Transactional(readOnly = true)\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:    public List<Group> findAll() {\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:        // return groupDao.findAllWithReports();\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:        return groupDao.findAll();\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:    }\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:    @RequestMapping(value = \"/{id}\", method = RequestMethod.GET, produces = MediaType.APPLICATION_JSON_VALUE)\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:    @Transactional(readOnly = true)\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:    public Group findOne(@PathVariable(\"id\") long groupId) {\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:        Group group = groupDao.findById(groupId);\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:        if (group == null) {\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:            return null;\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:        }\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:        List<Long> groupReports = groupDao.findGroupReports(groupId);\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:        group.setGroupReports(groupReports);\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:        return group;\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:    }\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:    @RequestMapping(method = RequestMethod.POST)\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:    @Transactional\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:    public ResponseEntity<Long> add(@RequestBody Group group) {\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:        long groupId = groupDao.insertGroup(group.getName());\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:        groupDao.insertGroupReports(groupId, group.getGroupReports());\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:        List<Long> userIds = userDao.findGroupUsers(groupId);\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:        for (Long userId : userIds) {\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:            reportService.invalidateCache(userId);\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:        }\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:        return new ResponseEntity<Long>(groupId, HttpStatus.CREATED);\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:    }\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:    @RequestMapping(method = RequestMethod.PUT)\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:    @Transactional\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:    public ResponseEntity<?> update(@RequestBody Group group) {\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:        long groupId = group.getId();\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:        groupDao.updateGroup(group);\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:        groupDao.deleteGroupReports(groupId);\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:        groupDao.insertGroupReports(groupId, group.getGroupReports());\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:        List<Long> userIds = userDao.findGroupUsers(groupId);\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:        for (Long userId : userIds) {\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:            reportService.invalidateCache(userId);\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:        }\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:        return new ResponseEntity<String>(HttpStatus.OK);\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:    }\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:    @RequestMapping(value = \"/{id}\", method = RequestMethod.DELETE)\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:    @Transactional\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:    public ResponseEntity<?> delete(@PathVariable(\"id\") long groupId) {\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:        groupDao.deleteGroupUsers(groupId);\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:        groupDao.deleteGroupReports(groupId);\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:        groupDao.deleteGroup(groupId);\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:        List<Long> userIds = userDao.findGroupUsers(groupId);\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:        for (Long userId : userIds) {\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:            reportService.invalidateCache(userId);\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:        }\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:        return new ResponseEntity<String>(HttpStatus.NO_CONTENT);\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:    }\nsrc/main/java/com/shzlw/poli/rest/GroupWs.java:}\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:package com.shzlw.poli.rest.api;\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:import com.shzlw.poli.dao.SavedQueryDao;\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:import com.shzlw.poli.dto.QueryResult;\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:import com.shzlw.poli.model.SavedQuery;\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:import com.shzlw.poli.service.AuditLogService;\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:import com.shzlw.poli.service.JdbcDataSourceService;\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:import com.shzlw.poli.service.JdbcQueryService;\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:import org.springframework.beans.factory.annotation.Autowired;\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:import org.springframework.http.HttpStatus;\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:import org.springframework.http.ResponseEntity;\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:import org.springframework.transaction.annotation.Transactional;\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:import org.springframework.util.StringUtils;\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:import org.springframework.web.bind.annotation.RequestMapping;\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:import org.springframework.web.bind.annotation.RequestMethod;\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:import org.springframework.web.bind.annotation.RequestParam;\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:import org.springframework.web.bind.annotation.RestController;\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:import jakarta.servlet.http.HttpServletRequest;\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:import javax.sql.DataSource;\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:@RestController\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:@RequestMapping(\"/api/v1\")\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:public class SavedQueryEndpointWs {\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:    @Autowired\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:    SavedQueryDao savedQueryDao;\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:    @Autowired\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:    JdbcDataSourceService jdbcDataSourceService;\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:    @Autowired\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:    JdbcQueryService jdbcQueryService;\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:    @Autowired\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:    AuditLogService auditLogService;\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:    @RequestMapping(value = \"/saved-queries\", method = RequestMethod.GET)\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:    @Transactional\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:    public ResponseEntity<String> getSavedQuery(@RequestParam(\"name\") String name,\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:                                               @RequestParam(name = \"accessCode\", required = false, defaultValue = \"\") String accessCode,\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:                                               @RequestParam(name = \"contentType\", required = false, defaultValue = \"\") String contentType,\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:                                               HttpServletRequest request) {\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:        auditLogService.logQueryEndpointAccess(request, name);\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:        SavedQuery savedQuery = savedQueryDao.findByEndpointName(name);\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:        if (savedQuery == null) {\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:            return new ResponseEntity<>(null, HttpStatus.NOT_FOUND);\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:        }\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:        // Validate access code\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:        String endpointAccessCode = savedQuery.getEndpointAccessCode();\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:        if (!StringUtils.isEmpty(endpointAccessCode) && !endpointAccessCode.equals(accessCode)) {\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:            return new ResponseEntity<>(null, HttpStatus.UNAUTHORIZED);\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:        }\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:        DataSource dataSource = jdbcDataSourceService.getDataSource(savedQuery.getJdbcDataSourceId());\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:        if (dataSource == null) {\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:            return new ResponseEntity<>(null, HttpStatus.NOT_FOUND);\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:        }\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:        QueryResult queryResult = jdbcQueryService.executeQuery(dataSource, savedQuery.getSqlQuery(), contentType);\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:        if (queryResult.getError() != null) {\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:            return new ResponseEntity<>(queryResult.getError(), HttpStatus.BAD_REQUEST);\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:        } else {\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:            return new ResponseEntity<>(queryResult.getData(), HttpStatus.OK);\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:        }\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:    }\nsrc/main/java/com/shzlw/poli/rest/api/SavedQueryEndpointWs.java:}\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:package com.shzlw.poli.rest;\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:import com.shzlw.poli.dao.ComponentDao;\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:import com.shzlw.poli.model.Component;\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:import com.shzlw.poli.model.Report;\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:import com.shzlw.poli.model.User;\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:import com.shzlw.poli.service.ReportService;\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:import com.shzlw.poli.util.Constants;\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:import org.springframework.beans.factory.annotation.Autowired;\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:import org.springframework.http.HttpStatus;\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:import org.springframework.http.MediaType;\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:import org.springframework.http.ResponseEntity;\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:import org.springframework.transaction.annotation.Transactional;\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:import org.springframework.web.bind.annotation.*;\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:import jakarta.servlet.http.HttpServletRequest;\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:import java.util.Collections;\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:import java.util.List;\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:@RestController\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:@RequestMapping(\"/ws/components\")\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:public class ComponentWs {\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:    @Autowired\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:    ComponentDao componentDao;\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:    @Autowired\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:    ReportService reportService;\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:    @RequestMapping(\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:            value = \"/{id}\",\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:            method = RequestMethod.GET,\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:            produces = MediaType.APPLICATION_JSON_VALUE)\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:    @Transactional(readOnly = true)\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:    public Component one(@PathVariable(\"id\") long id) {\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:        return componentDao.findById(id);\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:    }\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:    @RequestMapping(value = \"/report/{id}\", method = RequestMethod.GET, produces = MediaType.APPLICATION_JSON_VALUE)\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:    @Transactional(readOnly = true)\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:    public ResponseEntity<?> findByReportId(@PathVariable(\"id\") long reportId,\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:                                            HttpServletRequest request) {\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:        User user = (User) request.getAttribute(Constants.HTTP_REQUEST_ATTR_USER);\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:        List<Report> reports = reportService.getReportsByUser(user);\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:        if (reports.isEmpty()) {\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:            // No report found.\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:            return new ResponseEntity<>(Collections.emptyList(), HttpStatus.OK);\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:        }\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:        boolean isFound = reports.stream().anyMatch(d -> d.getId() == reportId);\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:        if (isFound) {\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:            List<Component> components = componentDao.findByReportId(reportId);\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:            return new ResponseEntity<>(components, HttpStatus.OK);\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:        }\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:        return new ResponseEntity<>(HttpStatus.FORBIDDEN);\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:    }\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:    @RequestMapping(method = RequestMethod.POST)\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:    @Transactional\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:    public ResponseEntity<Long> add(@RequestBody Component component) {\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:        long id = componentDao.insert(component);\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:        return new ResponseEntity<Long>(id, HttpStatus.CREATED);\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:    }\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:    @RequestMapping(value = \"/{id}\", method = RequestMethod.DELETE)\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:    @Transactional\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:    public ResponseEntity<?> delete(@PathVariable(\"id\") long id) {\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:        componentDao.delete(id);\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:        return new ResponseEntity<String>(HttpStatus.NO_CONTENT);\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:    }\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:    @RequestMapping(value = \"/data\", method = RequestMethod.PUT)\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:    @Transactional\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:    public ResponseEntity<?> update(@RequestBody Component component) {\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:        componentDao.updateData(component);\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:        return new ResponseEntity<String>(HttpStatus.OK);\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:    }\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:    @RequestMapping(value = \"/position\", method = RequestMethod.PUT)\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:    @Transactional\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:    public ResponseEntity<?> updatePosition(@RequestBody Component component) {\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:        componentDao.updatePosition(component);\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:        return new ResponseEntity<String>(HttpStatus.OK);\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:    }\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:    @RequestMapping(value = \"/style\", method = RequestMethod.PUT)\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:    @Transactional\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:    public ResponseEntity<?> updatePositionAndStyle(@RequestBody Component component) {\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:        componentDao.updatePositionAndStyle(component);\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:        return new ResponseEntity<String>(HttpStatus.OK);\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:    }\nsrc/main/java/com/shzlw/poli/rest/ComponentWs.java:}\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:package com.shzlw.poli.rest;\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:import com.shzlw.poli.dao.SharedReportDao;\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:import com.shzlw.poli.dto.SharedReportRow;\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:import com.shzlw.poli.model.SharedReport;\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:import com.shzlw.poli.model.User;\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:import com.shzlw.poli.service.SharedReportService;\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:import com.shzlw.poli.util.CommonUtils;\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:import com.shzlw.poli.util.Constants;\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:import com.shzlw.poli.util.PasswordUtils;\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:import org.springframework.beans.factory.annotation.Autowired;\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:import org.springframework.http.HttpStatus;\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:import org.springframework.http.ResponseEntity;\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:import org.springframework.transaction.annotation.Transactional;\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:import org.springframework.web.bind.annotation.*;\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:import jakarta.servlet.http.HttpServletRequest;\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:import java.time.LocalDateTime;\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:import java.util.List;\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:@RestController\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:@RequestMapping(\"/ws/sharedreports\")\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:public class SharedReportWs {\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:    @Autowired\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:    SharedReportDao sharedReportDao;\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:    @Autowired\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:    SharedReportService sharedReportService;\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:    @RequestMapping(value=\"/generate-sharekey\", method = RequestMethod.POST)\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:    @Transactional\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:    public String generateSharedReportUrl(@RequestBody SharedReport sharedReport,\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:                                          HttpServletRequest request) {\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:        // Try reuse the same share key if it's the same report and has the same expiration date.\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:        List<SharedReport> sharedReports = sharedReportDao.findByReportId(sharedReport.getReportId());\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:        String newExpirationDate = CommonUtils.toReadableDateTime(CommonUtils.fromEpoch(sharedReport.getExpiredBy()));\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:        for (SharedReport sr : sharedReports) {\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:            String expirationDate = CommonUtils.toReadableDateTime(CommonUtils.fromEpoch(sr.getExpiredBy()));\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:            if (newExpirationDate.equals(expirationDate)) {\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:                return sr.getShareKey();\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:            }\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:        }\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:        // Create a new shared report.\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:        User user = (User) request.getAttribute(Constants.HTTP_REQUEST_ATTR_USER);\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:        String shareKey = Constants.SHARE_KEY_PREFIX + PasswordUtils.getUniqueId();\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:        long createdAt = CommonUtils.toEpoch(LocalDateTime.now());\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:        sharedReportDao.insert(shareKey, sharedReport.getReportId(), sharedReport.getReportType(),\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:                user.getId(), createdAt, sharedReport.getExpiredBy());\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:        return shareKey;\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:    }\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:    @RequestMapping(method = RequestMethod.GET)\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:    @Transactional(readOnly = true)\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:    public List<SharedReportRow> findAllSharedReports() {\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:        return sharedReportDao.findAll();\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:    }\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:    @RequestMapping(value = \"/{id}\", method = RequestMethod.DELETE)\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:    @Transactional\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:    public ResponseEntity<?> delete(@PathVariable(\"id\") long id) {\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:        SharedReport sharedReport = sharedReportDao.findById(id);\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:        sharedReportService.invalidateSharedLinkInfoCacheByShareKey(sharedReport.getShareKey());\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:        sharedReportDao.delete(id);\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:        return new ResponseEntity<String>(HttpStatus.NO_CONTENT);\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:    }\nsrc/main/java/com/shzlw/poli/rest/SharedReportWs.java:}\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:package com.shzlw.poli.rest;\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:import com.fasterxml.jackson.databind.ObjectMapper;\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:import com.shzlw.poli.config.AppProperties;\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:import com.shzlw.poli.dao.ComponentDao;\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:import com.shzlw.poli.dao.ReportDao;\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:import com.shzlw.poli.dao.SharedReportDao;\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:import com.shzlw.poli.dao.UserFavouriteDao;\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:import com.shzlw.poli.dto.ExportRequest;\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:import com.shzlw.poli.model.Report;\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:import com.shzlw.poli.model.SharedReport;\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:import com.shzlw.poli.model.User;\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:import com.shzlw.poli.service.HttpClient;\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:import com.shzlw.poli.service.ReportService;\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:import com.shzlw.poli.service.SharedReportService;\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:import com.shzlw.poli.util.CommonUtils;\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:import com.shzlw.poli.util.Constants;\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:import org.springframework.beans.factory.annotation.Autowired;\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:import org.springframework.core.io.ByteArrayResource;\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:import org.springframework.http.HttpHeaders;\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:import org.springframework.http.HttpStatus;\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:import org.springframework.http.MediaType;\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:import org.springframework.http.ResponseEntity;\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:import org.springframework.transaction.annotation.Transactional;\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:import org.springframework.web.bind.annotation.*;\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:import jakarta.servlet.http.HttpServletRequest;\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:import java.io.IOException;\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:import java.time.LocalDateTime;\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:import java.util.List;\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:@RestController\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:@RequestMapping(\"/ws/reports\")\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:public class ReportWs {\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:    @Autowired\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:    ReportDao reportDao;\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:    @Autowired\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:    ComponentDao componentDao;\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:    @Autowired\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:    ReportService reportService;\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:    @Autowired\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:    SharedReportDao sharedReportDao;\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:    @Autowired\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:    UserFavouriteDao userFavouriteDao;\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:    @Autowired\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:    SharedReportService sharedReportService;\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:    @Autowired\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:    HttpClient httpClient;\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:    @Autowired\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:    AppProperties appProperties;\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:    @Autowired\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:    ObjectMapper mapper;\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:    @RequestMapping(method = RequestMethod.GET, produces = MediaType.APPLICATION_JSON_VALUE)\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:    @Transactional(readOnly = true)\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:    public List<Report> findAll(HttpServletRequest request) {\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:        User user = (User) request.getAttribute(Constants.HTTP_REQUEST_ATTR_USER);\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:        return reportService.getReportsByUser(user);\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:    }\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:    @RequestMapping(value = \"/{id}\", method = RequestMethod.GET, produces = MediaType.APPLICATION_JSON_VALUE)\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:    @Transactional(readOnly = true)\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:    public Report findOneById(@PathVariable(\"id\") long id,\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:                              HttpServletRequest request) {\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:        List<Report> reports = findAll(request);\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:        Report report = reports.stream().filter(d -> d.getId() == id).findFirst().orElse(null);\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:        if (report != null) {\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:            User user = (User) request.getAttribute(Constants.HTTP_REQUEST_ATTR_USER);\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:            boolean isFavourite = userFavouriteDao.isFavourite(user.getId(), report.getId());\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:            report.setFavourite(isFavourite);\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:            return report;\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:        }\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:        return null;\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:    }\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:    @RequestMapping(value = \"/name/{name}\", method = RequestMethod.GET, produces = MediaType.APPLICATION_JSON_VALUE)\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:    @Transactional(readOnly = true)\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:    public Report findOneByName(@PathVariable(\"name\") String name,\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:                                HttpServletRequest request) {\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:        List<Report> reports = findAll(request);\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:        return reports.stream().filter(d -> d.getName().equals(name)).findFirst().orElse(null);\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:    }\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:    @RequestMapping(value = \"/sharekey/{shareKey}\", method = RequestMethod.GET, produces = MediaType.APPLICATION_JSON_VALUE)\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:    @Transactional(readOnly = true)\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:    public Report findOneBySharekey(@PathVariable(\"shareKey\") String shareKey) {\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:        SharedReport sharedReport = sharedReportDao.findByShareKey(shareKey);\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:        if (sharedReport == null) {\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:            return null;\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:        }\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:        if (sharedReport.getExpiredBy() < CommonUtils.toEpoch(LocalDateTime.now())) {\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:            return null;\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:        }\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:        return reportDao.findById(sharedReport.getReportId());\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:    }\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:    @RequestMapping(method = RequestMethod.POST)\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:    @Transactional\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:    public ResponseEntity<Long> add(@RequestBody Report report,\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:                                    HttpServletRequest request) {\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:        User user = (User) request.getAttribute(Constants.HTTP_REQUEST_ATTR_USER);\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:        reportService.invalidateCache(user.getId());\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:        long id = reportDao.insert(report.getName(), report.getStyle(), report.getProject());\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:        return new ResponseEntity<Long>(id, HttpStatus.CREATED);\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:    }\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:    @RequestMapping(method = RequestMethod.PUT)\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:    @Transactional\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:    public ResponseEntity<?> update(@RequestBody Report report,\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:                                    HttpServletRequest request) {\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:        User user = (User) request.getAttribute(Constants.HTTP_REQUEST_ATTR_USER);\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:        reportService.invalidateCache(user.getId());\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:        reportDao.update(report);\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:        return new ResponseEntity<>(HttpStatus.OK);\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:    }\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:    @RequestMapping(value = \"/{id}\", method = RequestMethod.DELETE)\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:    @Transactional\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:    public ResponseEntity<?> delete(@PathVariable(\"id\") long reportId,\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:                                    HttpServletRequest request) {\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:        User user = (User) request.getAttribute(Constants.HTTP_REQUEST_ATTR_USER);\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:        reportService.invalidateCache(user.getId());\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:        sharedReportService.invalidateSharedLinkInfoCacheByReportId(reportId);\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:        sharedReportDao.deleteByReportId(reportId);\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:        userFavouriteDao.deleteByReportId(reportId);\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:        componentDao.deleteByReportId(reportId);\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:        reportDao.delete(reportId);\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:        return new ResponseEntity<String>(HttpStatus.NO_CONTENT);\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:    }\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:    @RequestMapping(value = \"/favourite/{id}/{status}\", method = RequestMethod.POST)\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:    @Transactional\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:    public void updateFavourite(@PathVariable(\"id\") long reportId,\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:                                @PathVariable(\"status\") String status,\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:                                HttpServletRequest request) {\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:        User user = (User) request.getAttribute(Constants.HTTP_REQUEST_ATTR_USER);\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:        long userId = user.getId();\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:        if (status.equals(\"add\")) {\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:            if (!userFavouriteDao.isFavourite(userId, reportId)) {\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:                userFavouriteDao.insertFavourite(userId, reportId);\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:            }\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:        } else {\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:            userFavouriteDao.deleteFavourite(userId, reportId);\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:        }\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:    }\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:    @RequestMapping(value = \"/favourite\", method = RequestMethod.GET, produces = MediaType.APPLICATION_JSON_VALUE)\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:    @Transactional(readOnly = true)\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:    public List<Report> findAllFavourites(HttpServletRequest request) {\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:        User user = (User) request.getAttribute(Constants.HTTP_REQUEST_ATTR_USER);\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:        return reportDao.findFavouritesByUserId(user.getId());\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:    }\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:    @RequestMapping(\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:            value = \"/pdf\",\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:            method = RequestMethod.POST,\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:            produces = MediaType.APPLICATION_PDF_VALUE)\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:    @Transactional(readOnly = true)\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:    public ResponseEntity<?> exportToPdf(@RequestBody ExportRequest exportRequest,\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:                                         HttpServletRequest request) {\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:        User user = (User) request.getAttribute(Constants.HTTP_REQUEST_ATTR_USER);\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:        exportRequest.setSessionKey(user.getSessionKey());\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:        try {\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:            byte[] pdfData = httpClient.postJson(appProperties.getExportServerUrl(), mapper.writeValueAsString(exportRequest));\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:            ByteArrayResource resource = new ByteArrayResource(pdfData);\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:            HttpHeaders headers = new HttpHeaders();\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:            headers.add(HttpHeaders.CONTENT_DISPOSITION, \"attachment; filename=\" + exportRequest.getReportName() + \".pdf\");\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:            headers.add(\"Cache-Control\", \"no-cache, no-store, must-revalidate\");\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:            headers.add(\"Pragma\", \"no-cache\");\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:            headers.add(\"Expires\", \"0\");\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:            return ResponseEntity\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:                    .ok()\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:                    .headers(headers)\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:                    .contentLength(pdfData.length)\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:                    .contentType(MediaType.parseMediaType(\"application/octet-stream\"))\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:                    .body(resource);\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:        } catch (IOException e) {\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:            return new ResponseEntity<String>(HttpStatus.NO_CONTENT);\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:        }\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:    }\nsrc/main/java/com/shzlw/poli/rest/ReportWs.java:}\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:package com.shzlw.poli.filter;\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:import com.shzlw.poli.dto.SharedLinkInfo;\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:import com.shzlw.poli.model.User;\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:import com.shzlw.poli.service.SharedReportService;\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:import com.shzlw.poli.service.UserService;\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:import com.shzlw.poli.util.Constants;\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:import com.shzlw.poli.util.HttpUtils;\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:import org.slf4j.Logger;\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:import org.slf4j.LoggerFactory;\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:import org.springframework.beans.factory.annotation.Autowired;\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:import org.springframework.core.annotation.Order;\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:import org.springframework.stereotype.Component;\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:import jakarta.servlet.*;\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:import jakarta.servlet.http.HttpServletRequest;\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:import jakarta.servlet.http.HttpServletResponse;\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:import java.io.IOException;\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:import java.util.Set;\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:@Component\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:@Order(1)\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:public class AuthFilter implements Filter {\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:    private static final Logger LOGGER = LoggerFactory.getLogger(AuthFilter.class);\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:    @Autowired\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:    UserService userService;\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:    @Autowired\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:    SharedReportService sharedReportService;\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:    @Override\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:        HttpServletRequest httpRequest = (HttpServletRequest) request;\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:        String path = httpRequest.getServletPath();\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:        if (!path.startsWith(\"/ws/\")) {\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:            chain.doFilter(request, response);\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:            return;\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:        }\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:        if (authBySessionKey(httpRequest, path)\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:            || authByApiKey(httpRequest, path)\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:            || authByShareKey(httpRequest, path)) {\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:            chain.doFilter(request, response);\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:            return;\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:        }\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:        return401(response);\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:    }\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:    private boolean authBySessionKey(HttpServletRequest httpRequest, String path) {\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:        String sessionKey = HttpUtils.getSessionKey(httpRequest);\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:        if (sessionKey == null) {\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:            return false;\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:        }\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:        User user = userService.getUserBySessionKey(sessionKey);\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:        if (user == null) {\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:            return false;\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:        }\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:        user.setSessionKey(sessionKey);\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:        httpRequest.setAttribute(Constants.HTTP_REQUEST_ATTR_USER, user);\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:        String sysRole = user.getSysRole();\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:        boolean isValid = false;\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:        if (Constants.SYS_ROLE_VIEWER.equals(sysRole)) {\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:            isValid = AuthFilterHelper.validateViewer(httpRequest.getMethod(), path);\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:        } else if (Constants.SYS_ROLE_DEVELOPER.equals(sysRole) || Constants.SYS_ROLE_ADMIN.equals(sysRole)) {\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:            isValid = true;\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:        } else {\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:            isValid = false;\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:        }\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:        return isValid;\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:    }\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:    private boolean authByApiKey(HttpServletRequest httpRequest, String path) {\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:        String apiKey = httpRequest.getHeader(Constants.HTTP_HEADER_API_KEY);\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:        if (apiKey == null) {\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:            return false;\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:        }\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:        User user = userService.getUserByApiKey(apiKey);\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:        if (user == null) {\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:            return false;\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:        }\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:        httpRequest.setAttribute(Constants.HTTP_REQUEST_ATTR_USER, user);\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:        return AuthFilterHelper.validateByApiKey(httpRequest.getMethod(), path);\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:    }\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:    private boolean authByShareKey(HttpServletRequest httpRequest, String path) {\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:        String shareKey = httpRequest.getHeader(Constants.HTTP_HEADER_SHARE_KEY);\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:        if (shareKey == null) {\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:            return false;\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:        }\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:        SharedLinkInfo linkInfo = sharedReportService.getSharedLinkInfoByShareKey(shareKey);\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:        if (linkInfo == null) {\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:            return false;\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:        }\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:        User user = linkInfo.getUser();\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:        if (user == null) {\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:            return false;\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:        }\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:        httpRequest.setAttribute(Constants.HTTP_REQUEST_ATTR_USER, user);\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:        return validateByShareKey(httpRequest.getMethod(), path, linkInfo, shareKey);\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:    }\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:    private static boolean validateByShareKey(String requestMethod, String path, SharedLinkInfo linkInfo, String shareKey) {\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:        if (linkInfo == null) {\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:            return false;\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:        }\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:        boolean isValid = false;\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:        long reportId = linkInfo.getReportId();\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:        Set<String> componentQueryUrls = linkInfo.getComponentQueryUrls();\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:        if (Constants.HTTP_METHOD_GET.equals(requestMethod)) {\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:            if (path.equals(\"/ws/reports/\" + reportId)\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:                    || path.equals(\"/ws/components/report/\" + reportId)\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:                    || path.equals(\"/ws/reports/sharekey/\" + shareKey)) {\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:                isValid = true;\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:            }\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:        } else if (Constants.HTTP_METHOD_POST.equals(requestMethod)) {\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:            if (componentQueryUrls.contains(path)) {\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:                isValid = true;\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:            }\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:        }\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:        return isValid;\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:    }\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:    protected void return401(ServletResponse response) throws IOException {\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:        ((HttpServletResponse) response).sendError(HttpServletResponse.SC_UNAUTHORIZED, \"The request is unauthorized.\");\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:    }\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:    @Override\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:    public void init(FilterConfig filterConfig) throws ServletException {\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:    }\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:    @Override\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:    public void destroy() {\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:    }\nsrc/main/java/com/shzlw/poli/filter/AuthFilter.java:}\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:package com.shzlw.poli.filter;\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:import com.shzlw.poli.util.Constants;\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:import java.util.*;\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:public final class AuthFilterHelper {\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:    private AuthFilterHelper() {}\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:    private static final List<String> VIEWER_GET_PATH = Arrays.asList(\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:            \"/ws/reports\",\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:            \"/ws/cannedreports\",\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:            \"/ws/components/report/\",\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:            \"/ws/users/account\",\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:            \"/ws/sharedreports/generate-sharekey\"\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:    );\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:    private static final List<String> VIEWER_PUT_PATH = Arrays.asList(\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:            \"/ws/users/account\"\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:    );\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:    private static final List<String> VIEWER_POST_PATH = Arrays.asList(\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:            \"/ws/jdbcquery\",\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:            \"/ws/cannedreports\",\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:            \"/ws/reports/favourite\",\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:            \"/ws/reports/pdf\"\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:    );\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:    private static final List<String> VIEWER_DELETE_PATH = Arrays.asList(\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:            \"/ws/cannedreports\"\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:    );\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:    private static final Map<String, List<String>> VIEWER_MAP;\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:    static {\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:        Map<String, List<String>> viewerTemp = new HashMap<>();\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:        viewerTemp.put(Constants.HTTP_METHOD_GET, VIEWER_GET_PATH);\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:        viewerTemp.put(Constants.HTTP_METHOD_PUT, VIEWER_PUT_PATH);\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:        viewerTemp.put(Constants.HTTP_METHOD_POST, VIEWER_POST_PATH);\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:        viewerTemp.put(Constants.HTTP_METHOD_DELETE, VIEWER_DELETE_PATH);\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:        VIEWER_MAP = Collections.unmodifiableMap(viewerTemp);\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:    }\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:    private static final List<String> APIKEY_GET_PATH = Arrays.asList(\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:            \"/ws/reports\",\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:            \"/ws/cannedreports\",\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:            \"/ws/components/report/\"\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:    );\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:    private static final List<String> APIKEY_POST_PATH = Arrays.asList(\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:            \"/ws/jdbcquery/component\"\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:    );\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:    private static final Map<String, List<String>> APIKEY_MAP;\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:    static {\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:        Map<String, List<String>> apikeyTemp = new HashMap<>();\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:        apikeyTemp.put(Constants.HTTP_METHOD_GET, APIKEY_GET_PATH);\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:        apikeyTemp.put(Constants.HTTP_METHOD_POST, APIKEY_POST_PATH);\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:        APIKEY_MAP = Collections.unmodifiableMap(apikeyTemp);\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:    }\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:    public static boolean validateViewer(String requestMethod, String path) {\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:        return isPathStartWith(path, VIEWER_MAP.get(requestMethod));\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:    }\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:    public static boolean validateByApiKey(String requestMethod, String path) {\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:        return isPathStartWith(path, APIKEY_MAP.get(requestMethod));\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:    }\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:    private static boolean isPathStartWith(String path, List<String> startWithList) {\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:        if (path == null || startWithList == null) {\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:            return false;\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:        }\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:        for (String s : startWithList) {\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:            if (path.startsWith(s)) {\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:                return true;\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:            }\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:        }\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:        return false;\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:    }\nsrc/main/java/com/shzlw/poli/filter/AuthFilterHelper.java:}\nsrc/main/java/com/shzlw/poli/App.java:package com.shzlw.poli;\nsrc/main/java/com/shzlw/poli/App.java:\nsrc/main/java/com/shzlw/poli/App.java:import org.springframework.boot.SpringApplication;\nsrc/main/java/com/shzlw/poli/App.java:import org.springframework.boot.autoconfigure.SpringBootApplication;\nsrc/main/java/com/shzlw/poli/App.java:\nsrc/main/java/com/shzlw/poli/App.java:@SpringBootApplication\nsrc/main/java/com/shzlw/poli/App.java:public class App {\nsrc/main/java/com/shzlw/poli/App.java:\nsrc/main/java/com/shzlw/poli/App.java:    public static void main(String[] args) {\nsrc/main/java/com/shzlw/poli/App.java:        SpringApplication.run(App.class, args);\nsrc/main/java/com/shzlw/poli/App.java:    }\nsrc/main/java/com/shzlw/poli/App.java:}\nsrc/main/java/com/shzlw/poli/AppStartUpListener.java:package com.shzlw.poli;\nsrc/main/java/com/shzlw/poli/AppStartUpListener.java:\nsrc/main/java/com/shzlw/poli/AppStartUpListener.java:import org.slf4j.Logger;\nsrc/main/java/com/shzlw/poli/AppStartUpListener.java:import org.slf4j.LoggerFactory;\nsrc/main/java/com/shzlw/poli/AppStartUpListener.java:import org.springframework.boot.context.event.ApplicationReadyEvent;\nsrc/main/java/com/shzlw/poli/AppStartUpListener.java:import org.springframework.context.event.EventListener;\nsrc/main/java/com/shzlw/poli/AppStartUpListener.java:import org.springframework.stereotype.Component;\nsrc/main/java/com/shzlw/poli/AppStartUpListener.java:\nsrc/main/java/com/shzlw/poli/AppStartUpListener.java:@Component\nsrc/main/java/com/shzlw/poli/AppStartUpListener.java:public class AppStartUpListener {\nsrc/main/java/com/shzlw/poli/AppStartUpListener.java:\nsrc/main/java/com/shzlw/poli/AppStartUpListener.java:    private static final Logger LOGGER = LoggerFactory.getLogger(AppStartUpListener.class);\nsrc/main/java/com/shzlw/poli/AppStartUpListener.java:\nsrc/main/java/com/shzlw/poli/AppStartUpListener.java:    @EventListener(ApplicationReadyEvent.class)\nsrc/main/java/com/shzlw/poli/AppStartUpListener.java:    public void applicationReadyEvent () {\nsrc/main/java/com/shzlw/poli/AppStartUpListener.java:        LOGGER.info(\"Welcome from Poli!\");\nsrc/main/java/com/shzlw/poli/AppStartUpListener.java:    }\nsrc/main/java/com/shzlw/poli/AppStartUpListener.java:}\nsrc/main/java/com/shzlw/poli/service/AuditLogService.java:package com.shzlw.poli.service;\nsrc/main/java/com/shzlw/poli/service/AuditLogService.java:\nsrc/main/java/com/shzlw/poli/service/AuditLogService.java:import com.shzlw.poli.dao.AuditLogDao;\nsrc/main/java/com/shzlw/poli/service/AuditLogService.java:import com.shzlw.poli.util.CommonUtils;\nsrc/main/java/com/shzlw/poli/service/AuditLogService.java:import com.shzlw.poli.util.HttpUtils;\nsrc/main/java/com/shzlw/poli/service/AuditLogService.java:import org.springframework.beans.factory.annotation.Autowired;\nsrc/main/java/com/shzlw/poli/service/AuditLogService.java:import org.springframework.stereotype.Service;\nsrc/main/java/com/shzlw/poli/service/AuditLogService.java:\nsrc/main/java/com/shzlw/poli/service/AuditLogService.java:import jakarta.servlet.http.HttpServletRequest;\nsrc/main/java/com/shzlw/poli/service/AuditLogService.java:import java.time.LocalDateTime;\nsrc/main/java/com/shzlw/poli/service/AuditLogService.java:\nsrc/main/java/com/shzlw/poli/service/AuditLogService.java:@Service\nsrc/main/java/com/shzlw/poli/service/AuditLogService.java:public class AuditLogService {\nsrc/main/java/com/shzlw/poli/service/AuditLogService.java:\nsrc/main/java/com/shzlw/poli/service/AuditLogService.java:    @Autowired\nsrc/main/java/com/shzlw/poli/service/AuditLogService.java:    AuditLogDao auditLogDao;\nsrc/main/java/com/shzlw/poli/service/AuditLogService.java:\nsrc/main/java/com/shzlw/poli/service/AuditLogService.java:    public void logQueryEndpointAccess(HttpServletRequest request, String name) {\nsrc/main/java/com/shzlw/poli/service/AuditLogService.java:        long now = CommonUtils.toEpoch(LocalDateTime.now());\nsrc/main/java/com/shzlw/poli/service/AuditLogService.java:        String ip = HttpUtils.getIpAddress(request);\nsrc/main/java/com/shzlw/poli/service/AuditLogService.java:        String ipAddress = ip == null ? \"\" : ip;\nsrc/main/java/com/shzlw/poli/service/AuditLogService.java:        String type = \"query endpoint\";\nsrc/main/java/com/shzlw/poli/service/AuditLogService.java:        String logData = String.format(\"%s accesses query endpoint: %s\", ipAddress, name);\nsrc/main/java/com/shzlw/poli/service/AuditLogService.java:        auditLogDao.insert(now, type, logData);\nsrc/main/java/com/shzlw/poli/service/AuditLogService.java:    }\nsrc/main/java/com/shzlw/poli/service/AuditLogService.java:}\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:package com.shzlw.poli.service;\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:import com.google.common.cache.Cache;\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:import com.google.common.cache.CacheBuilder;\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:import com.google.common.cache.CacheLoader;\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:import com.shzlw.poli.dao.ComponentDao;\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:import com.shzlw.poli.dao.ReportDao;\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:import com.shzlw.poli.dao.SharedReportDao;\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:import com.shzlw.poli.dao.UserDao;\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:import com.shzlw.poli.dto.SharedLinkInfo;\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:import com.shzlw.poli.model.Component;\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:import com.shzlw.poli.model.SharedReport;\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:import com.shzlw.poli.model.User;\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:import org.springframework.beans.factory.annotation.Autowired;\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:import org.springframework.stereotype.Service;\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:import org.springframework.util.StringUtils;\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:import java.util.HashSet;\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:import java.util.List;\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:import java.util.Map;\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:import java.util.Set;\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:import java.util.concurrent.ExecutionException;\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:import java.util.concurrent.TimeUnit;\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:@Service\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:public class SharedReportService {\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:    /**\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:     * Key: Share key\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:     * Value: SharedLinkInfo\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:     */\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:    private static final Cache<String, SharedLinkInfo> SHARE_LINK_INFO_CACHE = CacheBuilder.newBuilder()\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:            .expireAfterWrite(5, TimeUnit.MINUTES)\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:            .build();\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:    @Autowired\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:    ReportDao reportDao;\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:    @Autowired\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:    UserDao userDao;\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:    @Autowired\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:    SharedReportDao sharedReportDao;\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:    @Autowired\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:    ComponentDao componentDao;\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:    public SharedLinkInfo getSharedLinkInfoByShareKey(String shareKey) {\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:        if (StringUtils.isEmpty(shareKey)) {\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:            return null;\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:        }\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:        try {\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:            SharedLinkInfo info = SHARE_LINK_INFO_CACHE.get(shareKey, () -> {\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:                User u = userDao.findByShareKey(shareKey);\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:                u.setUserAttributes(userDao.findUserAttributes(u.getId()));\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:                SharedReport sharedReport = sharedReportDao.findByShareKey(shareKey);\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:                long reportId = sharedReport.getReportId();\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:                List<Component> components = componentDao.findByReportId(reportId);\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:                Set<String> componentQueryUrls = new HashSet<>();\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:                for (Component component : components) {\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:                    componentQueryUrls.add(\"/ws/jdbcquery/component/\" + component.getId());\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:                }\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:                return new SharedLinkInfo(u, reportId, componentQueryUrls);\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:            });\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:            return info;\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:        } catch (ExecutionException | CacheLoader.InvalidCacheLoadException e) {\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:            return null;\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:        }\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:    }\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:    public void invalidateSharedLinkInfoCacheByShareKey(String shareKey) {\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:        if (shareKey != null) {\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:            SHARE_LINK_INFO_CACHE.invalidate(shareKey);\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:        }\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:    }\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:    public void invalidateSharedLinkInfoCacheByUserId(long userId) {\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:        Map<String, SharedLinkInfo> map = SHARE_LINK_INFO_CACHE.asMap();\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:        for (Map.Entry<String, SharedLinkInfo> entry : map.entrySet()) {\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:            SharedLinkInfo linkInfo = entry.getValue();\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:            if (linkInfo.getUser() != null && linkInfo.getUser().getId() == userId) {\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:                SHARE_LINK_INFO_CACHE.invalidate(entry.getKey());\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:            }\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:        }\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:    }\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:    public void invalidateSharedLinkInfoCacheByReportId(long reportId) {\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:        Map<String, SharedLinkInfo> map = SHARE_LINK_INFO_CACHE.asMap();\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:        for (Map.Entry<String, SharedLinkInfo> entry : map.entrySet()) {\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:            SharedLinkInfo linkInfo = entry.getValue();\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:            if (linkInfo.getReportId() == reportId) {\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:                SHARE_LINK_INFO_CACHE.invalidate(entry.getKey());\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:            }\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:        }\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:    }\nsrc/main/java/com/shzlw/poli/service/SharedReportService.java:}\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:package com.shzlw.poli.service;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:import com.fasterxml.jackson.databind.ObjectMapper;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:import com.fasterxml.jackson.databind.node.ArrayNode;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:import com.fasterxml.jackson.databind.node.ObjectNode;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:import com.shzlw.poli.config.AppProperties;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:import com.shzlw.poli.dto.Column;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:import com.shzlw.poli.dto.FilterParameter;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:import com.shzlw.poli.dto.QueryResult;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:import com.shzlw.poli.dto.Table;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:import com.shzlw.poli.util.CommonUtils;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:import com.shzlw.poli.util.Constants;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:import org.slf4j.Logger;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:import org.slf4j.LoggerFactory;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:import org.springframework.beans.factory.annotation.Autowired;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:import org.springframework.jdbc.core.JdbcTemplate;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:import org.springframework.jdbc.core.ResultSetExtractor;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:import org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:import org.springframework.lang.Nullable;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:import org.springframework.stereotype.Service;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:import org.springframework.util.StringUtils;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:import jakarta.annotation.PostConstruct;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:import javax.sql.DataSource;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:import java.io.IOException;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:import java.lang.reflect.Field;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:import java.sql.*;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:import java.text.ParseException;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:import java.text.SimpleDateFormat;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:import java.util.Date;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:import java.util.*;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:@Service\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:public class JdbcQueryService {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:    private static final Logger LOGGER = LoggerFactory.getLogger(JdbcQueryService.class);\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:    private static Map<Integer, String> JDBC_TYPE_MAP = new HashMap<>();\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:    @Autowired\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:    ObjectMapper mapper;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:    @Autowired\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:    AppProperties appProperties;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:    @PostConstruct\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:    public void init() throws IllegalAccessException {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:        for (Field field : java.sql.Types.class.getFields()) {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:            JDBC_TYPE_MAP.put((Integer) field.get(null), field.getName());\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:        }\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:    }\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:    public String ping(DataSource dataSource, String sql) {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:        try (Connection con = dataSource.getConnection();\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:             PreparedStatement ps = con.prepareStatement(sql);\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:             ResultSet rs = ps.executeQuery();) {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:            while (rs.next()) {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                break;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:            }\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:            return Constants.SUCCESS;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:        } catch (Exception e) {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:            return CommonUtils.getSimpleError(e);\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:        }\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:    }\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:    public List<Table> getSchema(DataSource dataSource) {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:        List<Table> tables = new ArrayList<>();\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:        try (Connection conn = dataSource.getConnection()) {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:            DatabaseMetaData metaData = conn.getMetaData();\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:            ResultSet rs = metaData.getTables(null, null, null, null);\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:            while (rs.next()) {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                String name = rs.getString(\"TABLE_NAME\");\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                String type = rs.getString(\"TABLE_TYPE\");\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                tables.add(new Table(name, type));\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:            }\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:            for (Table t : tables) {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                rs = metaData.getColumns(null, null, t.getName(), null);\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                List<Column> columns = new ArrayList<>();\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                while (rs.next()) {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                    String columnName = rs.getString(\"COLUMN_NAME\");\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                    int javaType = rs.getInt(\"DATA_TYPE\");\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                    String dbType = rs.getString(\"TYPE_NAME\");\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                    int length = rs.getInt(\"COLUMN_SIZE\");\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                    columns.add(new Column(columnName, JDBC_TYPE_MAP.get(javaType), dbType, length));\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                }\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                t.setColumns(columns);\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:            }\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:            return tables;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:        } catch (Exception e) {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:            return Collections.emptyList();\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:        }\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:    }\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:    public QueryResult queryByParams(\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:            DataSource dataSource,\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:            String sql,\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:            List<FilterParameter> filterParams,\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:            int resultLimit\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:    ) {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:        if (dataSource == null) {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:            return QueryResult.ofError(Constants.ERROR_NO_DATA_SOURCE_FOUND);\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:        } else if (StringUtils.isEmpty(sql)) {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:            return QueryResult.ofError(Constants.ERROR_EMPTY_SQL_QUERY);\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:        }\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:        NamedParameterJdbcTemplate npjt = new NamedParameterJdbcTemplate(dataSource);\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:        Map<String, Object> namedParameters = getNamedParameters(filterParams);\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:        // Handle multiple SQL statements.\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:        // If there are multiple sql statements, only return query results from the last query.\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:        List<String> sqls = JdbcQueryServiceHelper.getQueryStatements(sql);\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:        int preQueryNumber = sqls.size() - 1;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:        if (appProperties.getAllowMultipleQueryStatements()) {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:            for (int i = 0; i < preQueryNumber; i++) {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                String parsedSql = JdbcQueryServiceHelper.parseSqlStatementWithParams(sqls.get(i), namedParameters);\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                npjt.execute(parsedSql, (ps) -> ps.execute());\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:            }\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:        }\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:        String parsedSql = JdbcQueryServiceHelper.parseSqlStatementWithParams(sqls.get(preQueryNumber), namedParameters);\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:        return executeQuery(npjt, parsedSql, namedParameters, resultLimit);\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:    }\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:    public QueryResult executeQuery(DataSource dataSource, String sql, String contentType) {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:        JdbcTemplate jt = new JdbcTemplate(dataSource);\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:        final int maxQueryResult = JdbcQueryServiceHelper.calculateMaxQueryResultLimit(appProperties.getMaximumQueryRecords(), Constants.QUERY_RESULT_NOLIMIT);\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:        QueryResult result = jt.query(sql, new Object[] {}, new ResultSetExtractor<QueryResult>() {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:            @Nullable\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:            @Override\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:            public QueryResult extractData(ResultSet rs) {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                try {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                    ResultSetMetaData metadata = rs.getMetaData();\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                    String[] columnNames = getColumnNames(metadata);\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                    List<Column> columns = getColumnList(metadata);\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                    String data;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                    if (Constants.CONTENT_TYPE_CSV.equals(contentType)) {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                        data = resultSetToCsvString(rs, columnNames, maxQueryResult);\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                    } else {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                        data = resultSetToJsonString(rs, metadata, maxQueryResult);\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                    }\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                    return QueryResult.ofData(data, columns);\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                } catch (Exception e) {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                    String error = CommonUtils.getSimpleError(e);\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                    return QueryResult.ofError(error);\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                }\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:            }\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:        });\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:        return result;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:    }\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:    private QueryResult executeQuery(NamedParameterJdbcTemplate npjt,\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                                     String sql,\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                                     Map<String, Object> namedParameters,\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                                     int resultLimit) {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:        // Determine max query result\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:        final int maxQueryResult = JdbcQueryServiceHelper.calculateMaxQueryResultLimit(appProperties.getMaximumQueryRecords(), resultLimit);\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:        QueryResult result = npjt.query(sql, namedParameters, new ResultSetExtractor<QueryResult>() {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:            @Nullable\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:            @Override\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:            public QueryResult extractData(ResultSet rs) {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                try {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                    ResultSetMetaData metadata = rs.getMetaData();\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                    String[] columnNames = getColumnNames(metadata);\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                    List<Column> columns = getColumnList(metadata);\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                    String data = resultSetToJsonString(rs, metadata, maxQueryResult);\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                    return QueryResult.ofData(data, columns);\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                } catch (Exception e) {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                    String error = CommonUtils.getSimpleError(e);\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                    return QueryResult.ofError(error);\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                }\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:            }\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:        });\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:        return result;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:    }\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:    public Map<String, Object> getNamedParameters(final List<FilterParameter> filterParams) {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:        Map<String, Object> namedParameters = new HashMap<>();\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:        if (filterParams == null || filterParams.isEmpty()) {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:            return namedParameters;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:        }\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:        for (FilterParameter param : filterParams) {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:            if (!JdbcQueryServiceHelper.isFilterParameterEmpty(param)) {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                String type = param.getType();\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                String name = param.getParam();\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                String value = param.getValue();\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                if (type.equals(Constants.FILTER_TYPE_USER_ATTRIBUTE)) {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                    namedParameters.put(name, value);\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                } else if (type.equals(Constants.FILTER_TYPE_SLICER)) {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                    String remark = param.getRemark();\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                    if (remark == null) {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                        try {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                            List<String> array = Arrays.asList(mapper.readValue(value, String[].class));\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                            if (!array.isEmpty()) {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                                namedParameters.put(name, array);\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                            }\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                        } catch (IOException e) {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                            LOGGER.warn(\"exception: {}\", e);\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                        }\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                    }\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                } else if (type.equals(Constants.FILTER_TYPE_SINGLE)) {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                    try {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                        String singleValue = mapper.readValue(value, String.class);\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                        namedParameters.put(name, singleValue);\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                    } catch (IOException e) {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                        LOGGER.warn(\"exception: {}\", e);\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                    }\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                } else if (type.equals(Constants.FILTER_TYPE_DATE_PICKER)) {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                    try {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                        String dateStr = mapper.readValue(value, String.class);\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                        if (!StringUtils.isEmpty(dateStr)) {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                            Date date = new SimpleDateFormat(\"yyyy-MM-dd\").parse(dateStr);\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                            namedParameters.put(name, date);\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                        }\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                    } catch (IOException | ParseException e) {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                        LOGGER.warn(\"exception: {}\", e);\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                    }\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                }\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                else {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                    throw new IllegalArgumentException(\"Unknown filter type\");\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                }\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:            }\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:        }\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:        return namedParameters;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:    }\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:    private String[] getColumnNames(ResultSetMetaData metadata) throws SQLException {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:        int columnCount = metadata.getColumnCount();\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:        String[] columnNames = new String[columnCount + 1];\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:        for (int i = 1; i <= columnCount; i++) {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:            // Use column label to fetch the column alias instead of using column name.\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:            // If there is no alias, column label is the same as column name.\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:            String columnLabel = metadata.getColumnLabel(i);\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:            columnNames[i] = columnLabel;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:        }\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:        return columnNames;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:    }\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:    private List<Column> getColumnList(ResultSetMetaData metadata) throws SQLException {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:        int columnCount = metadata.getColumnCount();\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:        List<Column> columns = new ArrayList<>();\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:        for (int i = 1; i <= columnCount; i++) {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:            int columnType = metadata.getColumnType(i);;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:            String dbType = metadata.getColumnTypeName(i);\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:            int length = metadata.getColumnDisplaySize(i);\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:            // Use column label to fetch the column alias instead of using column name.\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:            // If there is no alias, column label is the same as column name.\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:            String columnLabel = metadata.getColumnLabel(i);\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:            columns.add(new Column(columnLabel, JDBC_TYPE_MAP.get(columnType), dbType, length));\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:        }\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:        return columns;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:    }\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:    private String resultSetToJsonString(ResultSet rs, ResultSetMetaData metadata, int maxQueryResult) throws SQLException {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:        int columnCount = metadata.getColumnCount();\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:        ObjectMapper mapper = new ObjectMapper();\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:        ArrayNode array = mapper.createArrayNode();\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:        int rowCount = 0;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:        while (rs.next()) {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:            ObjectNode node = mapper.createObjectNode();\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:            for (int i = 1; i <= columnCount; i++) {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                String columnLabel = metadata.getColumnLabel(i);\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                int columnType = metadata.getColumnType(i);\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                switch (columnType) {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                    case java.sql.Types.VARCHAR:\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                    case java.sql.Types.CHAR:\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                    case java.sql.Types.LONGVARCHAR:\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                        node.put(columnLabel, rs.getString(i));\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                        break;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                    case java.sql.Types.TINYINT:\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                    case java.sql.Types.SMALLINT:\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                    case java.sql.Types.INTEGER:\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                        node.put(columnLabel, rs.getInt(i));\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                        break;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                    case java.sql.Types.NUMERIC:\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                    case java.sql.Types.DECIMAL:\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                        node.put(columnLabel, rs.getBigDecimal(i));\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                        break;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                    case java.sql.Types.DOUBLE:\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                    case java.sql.Types.FLOAT:\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                    case java.sql.Types.REAL:\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                        node.put(columnLabel, rs.getDouble(i));\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                        break;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                    case java.sql.Types.BOOLEAN:\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                    case java.sql.Types.BIT:\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                        node.put(columnLabel, rs.getBoolean(i));\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                        break;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                    case java.sql.Types.BIGINT:\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                        node.put(columnLabel, rs.getLong(i));\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                        break;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                    case java.sql.Types.NVARCHAR:\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                    case java.sql.Types.NCHAR:\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                        node.put(columnLabel, rs.getNString(i));\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                        break;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                    default:\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                        // Unhandled types\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                        node.put(columnLabel, rs.getString(i));\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                        break;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                }\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:            }\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:            array.add(node);\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:            rowCount++;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:            if (maxQueryResult != Constants.QUERY_RESULT_NOLIMIT && rowCount >= maxQueryResult) {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                break;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:            }\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:        }\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:        return array.toString();\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:    }\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:    private String resultSetToCsvString(ResultSet rs, String[] columnNames, int maxQueryResult) throws SQLException {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:        int columnCount = columnNames.length - 1;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:        StringBuilder sb = new StringBuilder();\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:        for (int i = 1; i <= columnCount; i++) {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:            sb.append(columnNames[i]).append(\",\");\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:        }\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:        sb.append(\"\\r\\n\");\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:        int rowCount = 0;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:        while (rs.next()) {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:            for (int i = 1; i <= columnCount; i++) {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                // TODO: handle quotation marks\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                sb.append(rs.getString(i)).append(\",\");\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:            }\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:            sb.append(\"\\r\\n\");\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:            rowCount++;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:            if (maxQueryResult != Constants.QUERY_RESULT_NOLIMIT && rowCount >= maxQueryResult) {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:                break;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:            }\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:        }\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:        return sb.toString();\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:    }\nsrc/main/java/com/shzlw/poli/service/JdbcQueryService.java:}\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:package com.shzlw.poli.service;\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:import com.google.common.cache.Cache;\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:import com.google.common.cache.CacheBuilder;\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:import com.google.common.cache.CacheLoader;\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:import com.google.common.cache.RemovalListener;\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:import com.shzlw.poli.config.AppProperties;\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:import com.shzlw.poli.dao.JdbcDataSourceDao;\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:import com.shzlw.poli.model.JdbcDataSource;\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:import com.zaxxer.hikari.HikariDataSource;\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:import org.springframework.beans.factory.annotation.Autowired;\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:import org.springframework.stereotype.Service;\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:import org.springframework.util.StringUtils;\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:import jakarta.annotation.PostConstruct;\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:import jakarta.annotation.PreDestroy;\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:import javax.sql.DataSource;\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:import java.util.concurrent.ExecutionException;\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:import java.util.concurrent.TimeUnit;\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:@Service\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:public class JdbcDataSourceService {\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:    // 10 seconds\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:    private static final int LEAK_DETECTION_THRESHOLD = 10000;\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:    /**\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:     * Key: JdbcDataSource id\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:     * Value: HikariDataSource\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:     */\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:    private static final Cache<Long, HikariDataSource> DATA_SOURCE_CACHE = CacheBuilder.newBuilder()\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:            .expireAfterWrite(5, TimeUnit.MINUTES)\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:            .removalListener((RemovalListener<Long, HikariDataSource>) removal -> {\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:                HikariDataSource ds = removal.getValue();\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:                ds.close();\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:            })\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:            .build();\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:    @Autowired\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:    JdbcDataSourceDao jdbcDataSourceDao;\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:    @Autowired\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:    AppProperties appProperties;\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:    @PostConstruct\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:    public void init() {\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:    }\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:    @PreDestroy\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:    public void shutdown() {\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:        for (HikariDataSource hiDs : DATA_SOURCE_CACHE.asMap().values()) {\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:            hiDs.close();\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:        }\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:    }\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:    public void removeFromCache(long dataSourceId) {\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:        DATA_SOURCE_CACHE.invalidate(dataSourceId);\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:    }\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:    public DataSource getDataSource(long dataSourceId) {\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:        if (dataSourceId == 0) {\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:            return null;\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:        }\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:        try {\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:            DataSource hiDs = DATA_SOURCE_CACHE.get(dataSourceId, () -> {\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:                JdbcDataSource dataSource = jdbcDataSourceDao.findById(dataSourceId);\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:                if (dataSource == null) {\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:                    return null;\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:                }\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:                HikariDataSource newHiDs = new HikariDataSource();\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:                newHiDs.setJdbcUrl(dataSource.getConnectionUrl());\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:                newHiDs.setUsername(dataSource.getUsername());\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:                newHiDs.setPassword(dataSource.getPassword());\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:                if (!StringUtils.isEmpty(dataSource.getDriverClassName())) {\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:                    newHiDs.setDriverClassName(dataSource.getDriverClassName());\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:                }\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:                newHiDs.setMaximumPoolSize(appProperties.getDatasourceMaximumPoolSize());\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:                newHiDs.setLeakDetectionThreshold(LEAK_DETECTION_THRESHOLD);\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:                return newHiDs;\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:            });\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:            return hiDs;\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:        } catch (ExecutionException | CacheLoader.InvalidCacheLoadException e) {\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:            return null;\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:        }\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:    }\nsrc/main/java/com/shzlw/poli/service/JdbcDataSourceService.java:}\nsrc/main/java/com/shzlw/poli/service/HttpClient.java:package com.shzlw.poli.service;\nsrc/main/java/com/shzlw/poli/service/HttpClient.java:\nsrc/main/java/com/shzlw/poli/service/HttpClient.java:import okhttp3.*;\nsrc/main/java/com/shzlw/poli/service/HttpClient.java:import org.springframework.beans.factory.annotation.Autowired;\nsrc/main/java/com/shzlw/poli/service/HttpClient.java:import org.springframework.stereotype.Service;\nsrc/main/java/com/shzlw/poli/service/HttpClient.java:\nsrc/main/java/com/shzlw/poli/service/HttpClient.java:import java.io.IOException;\nsrc/main/java/com/shzlw/poli/service/HttpClient.java:\nsrc/main/java/com/shzlw/poli/service/HttpClient.java:@Service\nsrc/main/java/com/shzlw/poli/service/HttpClient.java:public class HttpClient {\nsrc/main/java/com/shzlw/poli/service/HttpClient.java:\nsrc/main/java/com/shzlw/poli/service/HttpClient.java:    private static final MediaType MEDIA_TYPE_PLAINTEXT = MediaType.parse(\"text/plain; charset=utf-8\");\nsrc/main/java/com/shzlw/poli/service/HttpClient.java:    private static final MediaType MEDIA_TYPE_JSON = MediaType.parse(\"application/json; charset=utf-8\");\nsrc/main/java/com/shzlw/poli/service/HttpClient.java:\nsrc/main/java/com/shzlw/poli/service/HttpClient.java:    @Autowired\nsrc/main/java/com/shzlw/poli/service/HttpClient.java:    OkHttpClient okHttpClient;\nsrc/main/java/com/shzlw/poli/service/HttpClient.java:\nsrc/main/java/com/shzlw/poli/service/HttpClient.java:    public byte[] get(String url) throws IOException {\nsrc/main/java/com/shzlw/poli/service/HttpClient.java:        Request request = new Request.Builder()\nsrc/main/java/com/shzlw/poli/service/HttpClient.java:                .url(url)\nsrc/main/java/com/shzlw/poli/service/HttpClient.java:                .build();\nsrc/main/java/com/shzlw/poli/service/HttpClient.java:        try (Response response = okHttpClient.newCall(request).execute()) {\nsrc/main/java/com/shzlw/poli/service/HttpClient.java:            return response.body().bytes();\nsrc/main/java/com/shzlw/poli/service/HttpClient.java:        }\nsrc/main/java/com/shzlw/poli/service/HttpClient.java:    }\nsrc/main/java/com/shzlw/poli/service/HttpClient.java:\nsrc/main/java/com/shzlw/poli/service/HttpClient.java:    public byte[] postJson(String url, String data) throws IOException {\nsrc/main/java/com/shzlw/poli/service/HttpClient.java:        RequestBody body = RequestBody.create(data, MEDIA_TYPE_JSON);\nsrc/main/java/com/shzlw/poli/service/HttpClient.java:        Request request = new Request.Builder()\nsrc/main/java/com/shzlw/poli/service/HttpClient.java:                .url(url)\nsrc/main/java/com/shzlw/poli/service/HttpClient.java:                .post(body)\nsrc/main/java/com/shzlw/poli/service/HttpClient.java:                .build();\nsrc/main/java/com/shzlw/poli/service/HttpClient.java:        try (Response response = okHttpClient.newCall(request).execute()) {\nsrc/main/java/com/shzlw/poli/service/HttpClient.java:            return response.body().bytes();\nsrc/main/java/com/shzlw/poli/service/HttpClient.java:        }\nsrc/main/java/com/shzlw/poli/service/HttpClient.java:    }\nsrc/main/java/com/shzlw/poli/service/HttpClient.java:}\nsrc/main/java/com/shzlw/poli/service/ReportService.java:package com.shzlw.poli.service;\nsrc/main/java/com/shzlw/poli/service/ReportService.java:\nsrc/main/java/com/shzlw/poli/service/ReportService.java:import com.google.common.cache.Cache;\nsrc/main/java/com/shzlw/poli/service/ReportService.java:import com.google.common.cache.CacheBuilder;\nsrc/main/java/com/shzlw/poli/service/ReportService.java:import com.google.common.cache.CacheLoader;\nsrc/main/java/com/shzlw/poli/service/ReportService.java:import com.shzlw.poli.dao.ReportDao;\nsrc/main/java/com/shzlw/poli/service/ReportService.java:import com.shzlw.poli.model.Report;\nsrc/main/java/com/shzlw/poli/service/ReportService.java:import com.shzlw.poli.model.User;\nsrc/main/java/com/shzlw/poli/service/ReportService.java:import com.shzlw.poli.util.Constants;\nsrc/main/java/com/shzlw/poli/service/ReportService.java:import org.slf4j.Logger;\nsrc/main/java/com/shzlw/poli/service/ReportService.java:import org.slf4j.LoggerFactory;\nsrc/main/java/com/shzlw/poli/service/ReportService.java:import org.springframework.beans.factory.annotation.Autowired;\nsrc/main/java/com/shzlw/poli/service/ReportService.java:import org.springframework.stereotype.Service;\nsrc/main/java/com/shzlw/poli/service/ReportService.java:import org.springframework.util.StringUtils;\nsrc/main/java/com/shzlw/poli/service/ReportService.java:\nsrc/main/java/com/shzlw/poli/service/ReportService.java:import java.util.ArrayList;\nsrc/main/java/com/shzlw/poli/service/ReportService.java:import java.util.Collections;\nsrc/main/java/com/shzlw/poli/service/ReportService.java:import java.util.List;\nsrc/main/java/com/shzlw/poli/service/ReportService.java:import java.util.concurrent.ExecutionException;\nsrc/main/java/com/shzlw/poli/service/ReportService.java:import java.util.concurrent.TimeUnit;\nsrc/main/java/com/shzlw/poli/service/ReportService.java:\nsrc/main/java/com/shzlw/poli/service/ReportService.java:@Service\nsrc/main/java/com/shzlw/poli/service/ReportService.java:public class ReportService {\nsrc/main/java/com/shzlw/poli/service/ReportService.java:\nsrc/main/java/com/shzlw/poli/service/ReportService.java:    private static final Logger LOGGER = LoggerFactory.getLogger(ReportService.class);\nsrc/main/java/com/shzlw/poli/service/ReportService.java:\nsrc/main/java/com/shzlw/poli/service/ReportService.java:    /**\nsrc/main/java/com/shzlw/poli/service/ReportService.java:     * Key: User id\nsrc/main/java/com/shzlw/poli/service/ReportService.java:     * Value: Report\nsrc/main/java/com/shzlw/poli/service/ReportService.java:     */\nsrc/main/java/com/shzlw/poli/service/ReportService.java:    private static final Cache<Long, List<Report>> USER_REPORT_CACHE = CacheBuilder.newBuilder()\nsrc/main/java/com/shzlw/poli/service/ReportService.java:            .expireAfterWrite(5, TimeUnit.MINUTES)\nsrc/main/java/com/shzlw/poli/service/ReportService.java:            .build();\nsrc/main/java/com/shzlw/poli/service/ReportService.java:\nsrc/main/java/com/shzlw/poli/service/ReportService.java:    @Autowired\nsrc/main/java/com/shzlw/poli/service/ReportService.java:    ReportDao reportDao;\nsrc/main/java/com/shzlw/poli/service/ReportService.java:\nsrc/main/java/com/shzlw/poli/service/ReportService.java:    public List<Report> getReportsByUser(User user) {\nsrc/main/java/com/shzlw/poli/service/ReportService.java:        if (StringUtils.isEmpty(user)) {\nsrc/main/java/com/shzlw/poli/service/ReportService.java:            return Collections.emptyList();\nsrc/main/java/com/shzlw/poli/service/ReportService.java:        }\nsrc/main/java/com/shzlw/poli/service/ReportService.java:\nsrc/main/java/com/shzlw/poli/service/ReportService.java:        try {\nsrc/main/java/com/shzlw/poli/service/ReportService.java:            List<Report> rt = USER_REPORT_CACHE.get(user.getId(), () -> {\nsrc/main/java/com/shzlw/poli/service/ReportService.java:                List<Report> reports = new ArrayList<>();\nsrc/main/java/com/shzlw/poli/service/ReportService.java:                if (Constants.SYS_ROLE_VIEWER.equals(user.getSysRole())) {\nsrc/main/java/com/shzlw/poli/service/ReportService.java:                    reports = reportDao.findByViewer(user.getId());\nsrc/main/java/com/shzlw/poli/service/ReportService.java:                } else {\nsrc/main/java/com/shzlw/poli/service/ReportService.java:                    reports = reportDao.findAll();\nsrc/main/java/com/shzlw/poli/service/ReportService.java:                }\nsrc/main/java/com/shzlw/poli/service/ReportService.java:\nsrc/main/java/com/shzlw/poli/service/ReportService.java:                return reports;\nsrc/main/java/com/shzlw/poli/service/ReportService.java:            });\nsrc/main/java/com/shzlw/poli/service/ReportService.java:            return rt;\nsrc/main/java/com/shzlw/poli/service/ReportService.java:        } catch (ExecutionException | CacheLoader.InvalidCacheLoadException e) {\nsrc/main/java/com/shzlw/poli/service/ReportService.java:            return Collections.emptyList();\nsrc/main/java/com/shzlw/poli/service/ReportService.java:        }\nsrc/main/java/com/shzlw/poli/service/ReportService.java:    }\nsrc/main/java/com/shzlw/poli/service/ReportService.java:\nsrc/main/java/com/shzlw/poli/service/ReportService.java:    public void invalidateCache(long userId) {\nsrc/main/java/com/shzlw/poli/service/ReportService.java:        USER_REPORT_CACHE.invalidate(userId);\nsrc/main/java/com/shzlw/poli/service/ReportService.java:    }\nsrc/main/java/com/shzlw/poli/service/ReportService.java:}\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:package com.shzlw.poli.service;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:import com.shzlw.poli.dto.FilterParameter;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:import com.shzlw.poli.util.Constants;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:import org.springframework.util.StringUtils;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:import java.util.*;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:public final class JdbcQueryServiceHelper {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:    private JdbcQueryServiceHelper() {}\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:    public static String parseSqlStatementWithParams(String sql, Map<String, Object> params) {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:        StringBuilder sb = new StringBuilder();\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:        char[] s = sql.toCharArray();\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:        int i = 0;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:        while (i < s.length) {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:            if (s[i] == '{' && (i + 1 < s.length) && s[i + 1] == '{') {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:                int j = i + 2;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:                while (j < s.length) {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:                    if (s[j] == '}' && (j + 1 < s.length) && s[j + 1] == '}') {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:                        String clause = sql.substring(i + 2, j);\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:                        boolean hasParam = false;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:                        for (Map.Entry<String, Object> entry : params.entrySet())  {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:                            if (clause.contains(\":\" + entry.getKey())) {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:                                hasParam = true;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:                                break;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:                            }\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:                        }\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:                        if (hasParam) {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:                            sb.append(clause);\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:                        }\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:                        i = j + 2;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:                        break;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:                    }\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:                    j++;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:                }\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:            }\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:            if (i < s.length) {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:                sb.append(s[i]);\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:                i++;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:            }\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:        }\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:        return sb.toString();\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:    }\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:    public static boolean isFilterParameterEmpty(FilterParameter p) {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:        if (p == null\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:                || StringUtils.isEmpty(p.getType())\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:                || StringUtils.isEmpty(p.getParam())\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:                || StringUtils.isEmpty(p.getValue())) {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:            return true;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:        }\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:        return false;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:    }\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:    public static List<String> getQueryStatements(String sql) {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:        if (sql == null || sql.isEmpty()) {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:            return Collections.emptyList();\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:        }\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:        if (!sql.contains(\";\")) {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:            return Arrays.asList(sql);\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:        }\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:        List<String> statements = new ArrayList<>();\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:        String[] sqlArray = sql.split(\";\");\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:        for (String s : sqlArray) {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:            String t = s.trim();\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:            if (!t.isEmpty()) {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:                statements.add(t + \";\");\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:            }\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:        }\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:        return statements;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:    }\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:    public static int calculateMaxQueryResultLimit(int maxQueryRecords, int resultLimit) {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:        int maxQueryResult = 0;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:        if (maxQueryRecords == Constants.MAXIMUM_QUERY_RECORDS_NOLIMIT) {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:            maxQueryResult = resultLimit <= Constants.QUERY_RESULT_NOLIMIT ? Constants.QUERY_RESULT_NOLIMIT : resultLimit;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:        } else {\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:            maxQueryResult = resultLimit <= Constants.QUERY_RESULT_NOLIMIT ? maxQueryRecords : Math.min(maxQueryRecords, resultLimit);\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:        }\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:        return maxQueryResult;\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:    }\nsrc/main/java/com/shzlw/poli/service/JdbcQueryServiceHelper.java:}\nsrc/main/java/com/shzlw/poli/service/UserService.java:package com.shzlw.poli.service;\nsrc/main/java/com/shzlw/poli/service/UserService.java:\nsrc/main/java/com/shzlw/poli/service/UserService.java:import com.google.common.cache.Cache;\nsrc/main/java/com/shzlw/poli/service/UserService.java:import com.google.common.cache.CacheBuilder;\nsrc/main/java/com/shzlw/poli/service/UserService.java:import com.google.common.cache.CacheLoader;\nsrc/main/java/com/shzlw/poli/service/UserService.java:import com.shzlw.poli.dao.UserDao;\nsrc/main/java/com/shzlw/poli/service/UserService.java:import com.shzlw.poli.model.User;\nsrc/main/java/com/shzlw/poli/service/UserService.java:import org.slf4j.Logger;\nsrc/main/java/com/shzlw/poli/service/UserService.java:import org.slf4j.LoggerFactory;\nsrc/main/java/com/shzlw/poli/service/UserService.java:import org.springframework.beans.factory.annotation.Autowired;\nsrc/main/java/com/shzlw/poli/service/UserService.java:import org.springframework.stereotype.Service;\nsrc/main/java/com/shzlw/poli/service/UserService.java:import org.springframework.util.StringUtils;\nsrc/main/java/com/shzlw/poli/service/UserService.java:\nsrc/main/java/com/shzlw/poli/service/UserService.java:import java.util.concurrent.ExecutionException;\nsrc/main/java/com/shzlw/poli/service/UserService.java:import java.util.concurrent.TimeUnit;\nsrc/main/java/com/shzlw/poli/service/UserService.java:\nsrc/main/java/com/shzlw/poli/service/UserService.java:@Service\nsrc/main/java/com/shzlw/poli/service/UserService.java:public class UserService {\nsrc/main/java/com/shzlw/poli/service/UserService.java:\nsrc/main/java/com/shzlw/poli/service/UserService.java:    private static final Logger LOGGER = LoggerFactory.getLogger(UserService.class);\nsrc/main/java/com/shzlw/poli/service/UserService.java:    /**\nsrc/main/java/com/shzlw/poli/service/UserService.java:     * Key: Session key\nsrc/main/java/com/shzlw/poli/service/UserService.java:     * Value: User\nsrc/main/java/com/shzlw/poli/service/UserService.java:     */\nsrc/main/java/com/shzlw/poli/service/UserService.java:    private static final Cache<String, User> SESSION_USER_CACHE = CacheBuilder.newBuilder()\nsrc/main/java/com/shzlw/poli/service/UserService.java:            .expireAfterWrite(5, TimeUnit.MINUTES)\nsrc/main/java/com/shzlw/poli/service/UserService.java:            .build();\nsrc/main/java/com/shzlw/poli/service/UserService.java:\nsrc/main/java/com/shzlw/poli/service/UserService.java:    /**\nsrc/main/java/com/shzlw/poli/service/UserService.java:     * Key: Api key\nsrc/main/java/com/shzlw/poli/service/UserService.java:     * Value: User\nsrc/main/java/com/shzlw/poli/service/UserService.java:     */\nsrc/main/java/com/shzlw/poli/service/UserService.java:    private static final Cache<String, User> API_KEY_USER_CACHE = CacheBuilder.newBuilder()\nsrc/main/java/com/shzlw/poli/service/UserService.java:            .expireAfterWrite(5, TimeUnit.MINUTES)\nsrc/main/java/com/shzlw/poli/service/UserService.java:            .build();\nsrc/main/java/com/shzlw/poli/service/UserService.java:\nsrc/main/java/com/shzlw/poli/service/UserService.java:    @Autowired\nsrc/main/java/com/shzlw/poli/service/UserService.java:    UserDao userDao;\nsrc/main/java/com/shzlw/poli/service/UserService.java:\nsrc/main/java/com/shzlw/poli/service/UserService.java:    public User getUserBySessionKey(String sessionKey) {\nsrc/main/java/com/shzlw/poli/service/UserService.java:        if (StringUtils.isEmpty(sessionKey)) {\nsrc/main/java/com/shzlw/poli/service/UserService.java:            return null;\nsrc/main/java/com/shzlw/poli/service/UserService.java:        }\nsrc/main/java/com/shzlw/poli/service/UserService.java:\nsrc/main/java/com/shzlw/poli/service/UserService.java:        try {\nsrc/main/java/com/shzlw/poli/service/UserService.java:            User user = SESSION_USER_CACHE.get(sessionKey, () -> {\nsrc/main/java/com/shzlw/poli/service/UserService.java:                User u = userDao.findBySessionKey(sessionKey);\nsrc/main/java/com/shzlw/poli/service/UserService.java:                u.setUserAttributes(userDao.findUserAttributes(u.getId()));\nsrc/main/java/com/shzlw/poli/service/UserService.java:                return u;\nsrc/main/java/com/shzlw/poli/service/UserService.java:            });\nsrc/main/java/com/shzlw/poli/service/UserService.java:            return user;\nsrc/main/java/com/shzlw/poli/service/UserService.java:        } catch (ExecutionException | CacheLoader.InvalidCacheLoadException e) {\nsrc/main/java/com/shzlw/poli/service/UserService.java:            return null;\nsrc/main/java/com/shzlw/poli/service/UserService.java:        }\nsrc/main/java/com/shzlw/poli/service/UserService.java:    }\nsrc/main/java/com/shzlw/poli/service/UserService.java:\nsrc/main/java/com/shzlw/poli/service/UserService.java:    public User getUserByApiKey(String apiKey) {\nsrc/main/java/com/shzlw/poli/service/UserService.java:        if (StringUtils.isEmpty(apiKey)) {\nsrc/main/java/com/shzlw/poli/service/UserService.java:            return null;\nsrc/main/java/com/shzlw/poli/service/UserService.java:        }\nsrc/main/java/com/shzlw/poli/service/UserService.java:\nsrc/main/java/com/shzlw/poli/service/UserService.java:        try {\nsrc/main/java/com/shzlw/poli/service/UserService.java:            User user = API_KEY_USER_CACHE.get(apiKey, () -> {\nsrc/main/java/com/shzlw/poli/service/UserService.java:                User u = userDao.findByApiKey(apiKey);\nsrc/main/java/com/shzlw/poli/service/UserService.java:                u.setUserAttributes(userDao.findUserAttributes(u.getId()));\nsrc/main/java/com/shzlw/poli/service/UserService.java:                return u;\nsrc/main/java/com/shzlw/poli/service/UserService.java:            });\nsrc/main/java/com/shzlw/poli/service/UserService.java:            return user;\nsrc/main/java/com/shzlw/poli/service/UserService.java:        } catch (ExecutionException | CacheLoader.InvalidCacheLoadException e) {\nsrc/main/java/com/shzlw/poli/service/UserService.java:            return null;\nsrc/main/java/com/shzlw/poli/service/UserService.java:        }\nsrc/main/java/com/shzlw/poli/service/UserService.java:    }\nsrc/main/java/com/shzlw/poli/service/UserService.java:\nsrc/main/java/com/shzlw/poli/service/UserService.java:    public void newOrUpdateUser(User user, String oldSessionKey, String newSessionKey) {\nsrc/main/java/com/shzlw/poli/service/UserService.java:        invalidateSessionUserCache(oldSessionKey);\nsrc/main/java/com/shzlw/poli/service/UserService.java:        SESSION_USER_CACHE.put(newSessionKey, user);\nsrc/main/java/com/shzlw/poli/service/UserService.java:    }\nsrc/main/java/com/shzlw/poli/service/UserService.java:\nsrc/main/java/com/shzlw/poli/service/UserService.java:    public void invalidateSessionUserCache(String sessionKey) {\nsrc/main/java/com/shzlw/poli/service/UserService.java:        if (sessionKey != null) {\nsrc/main/java/com/shzlw/poli/service/UserService.java:            SESSION_USER_CACHE.invalidate(sessionKey);\nsrc/main/java/com/shzlw/poli/service/UserService.java:        }\nsrc/main/java/com/shzlw/poli/service/UserService.java:    }\nsrc/main/java/com/shzlw/poli/service/UserService.java:\nsrc/main/java/com/shzlw/poli/service/UserService.java:    public void invalidateApiKeyUserCache(String apiKey) {\nsrc/main/java/com/shzlw/poli/service/UserService.java:        if (apiKey != null) {\nsrc/main/java/com/shzlw/poli/service/UserService.java:            API_KEY_USER_CACHE.invalidate(apiKey);\nsrc/main/java/com/shzlw/poli/service/UserService.java:        }\nsrc/main/java/com/shzlw/poli/service/UserService.java:    }\nsrc/main/java/com/shzlw/poli/service/UserService.java:}\nsrc/main/java/com/shzlw/poli/dao/AuditLogDao.java:package com.shzlw.poli.dao;\nsrc/main/java/com/shzlw/poli/dao/AuditLogDao.java:\nsrc/main/java/com/shzlw/poli/dao/AuditLogDao.java:import com.shzlw.poli.model.AuditLog;\nsrc/main/java/com/shzlw/poli/dao/AuditLogDao.java:import com.shzlw.poli.util.CommonUtils;\nsrc/main/java/com/shzlw/poli/dao/AuditLogDao.java:import org.springframework.beans.factory.annotation.Autowired;\nsrc/main/java/com/shzlw/poli/dao/AuditLogDao.java:import org.springframework.jdbc.core.JdbcTemplate;\nsrc/main/java/com/shzlw/poli/dao/AuditLogDao.java:import org.springframework.jdbc.core.RowMapper;\nsrc/main/java/com/shzlw/poli/dao/AuditLogDao.java:import org.springframework.jdbc.core.namedparam.MapSqlParameterSource;\nsrc/main/java/com/shzlw/poli/dao/AuditLogDao.java:import org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate;\nsrc/main/java/com/shzlw/poli/dao/AuditLogDao.java:import org.springframework.jdbc.support.GeneratedKeyHolder;\nsrc/main/java/com/shzlw/poli/dao/AuditLogDao.java:import org.springframework.jdbc.support.KeyHolder;\nsrc/main/java/com/shzlw/poli/dao/AuditLogDao.java:import org.springframework.stereotype.Repository;\nsrc/main/java/com/shzlw/poli/dao/AuditLogDao.java:\nsrc/main/java/com/shzlw/poli/dao/AuditLogDao.java:import java.sql.ResultSet;\nsrc/main/java/com/shzlw/poli/dao/AuditLogDao.java:import java.sql.SQLException;\nsrc/main/java/com/shzlw/poli/dao/AuditLogDao.java:import java.util.List;\nsrc/main/java/com/shzlw/poli/dao/AuditLogDao.java:\nsrc/main/java/com/shzlw/poli/dao/AuditLogDao.java:@Repository\nsrc/main/java/com/shzlw/poli/dao/AuditLogDao.java:public class AuditLogDao {\nsrc/main/java/com/shzlw/poli/dao/AuditLogDao.java:\nsrc/main/java/com/shzlw/poli/dao/AuditLogDao.java:    @Autowired\nsrc/main/java/com/shzlw/poli/dao/AuditLogDao.java:    JdbcTemplate jt;\nsrc/main/java/com/shzlw/poli/dao/AuditLogDao.java:\nsrc/main/java/com/shzlw/poli/dao/AuditLogDao.java:    @Autowired\nsrc/main/java/com/shzlw/poli/dao/AuditLogDao.java:    NamedParameterJdbcTemplate npjt;\nsrc/main/java/com/shzlw/poli/dao/AuditLogDao.java:\nsrc/main/java/com/shzlw/poli/dao/AuditLogDao.java:    public List<AuditLog> findAll(int page, int pageSize, String searchValue) {\nsrc/main/java/com/shzlw/poli/dao/AuditLogDao.java:        String sql = \"SELECT id, created_at, type, data \"\nsrc/main/java/com/shzlw/poli/dao/AuditLogDao.java:                    + \"FROM p_audit_log \"\nsrc/main/java/com/shzlw/poli/dao/AuditLogDao.java:                    + \"WHERE data LIKE :data \"\nsrc/main/java/com/shzlw/poli/dao/AuditLogDao.java:                    + \"OR type LIKE :type \"\nsrc/main/java/com/shzlw/poli/dao/AuditLogDao.java:                    + \"ORDER BY created_at DESC LIMIT :limit OFFSET :offset\";\nsrc/main/java/com/shzlw/poli/dao/AuditLogDao.java:\nsrc/main/java/com/shzlw/poli/dao/AuditLogDao.java:        MapSqlParameterSource params = new MapSqlParameterSource();\nsrc/main/java/com/shzlw/poli/dao/AuditLogDao.java:        params.addValue(\"data\", DaoHelper.getLikeParam(searchValue));\nsrc/main/java/com/shzlw/poli/dao/AuditLogDao.java:        params.addValue(\"type\", DaoHelper.getLikeParam(searchValue));\nsrc/main/java/com/shzlw/poli/dao/AuditLogDao.java:        params.addValue(\"offset\", DaoHelper.toOffset(page, pageSize));\nsrc/main/java/com/shzlw/poli/dao/AuditLogDao.java:        params.addValue(\"limit\", DaoHelper.toLimit(pageSize));\nsrc/main/java/com/shzlw/poli/dao/AuditLogDao.java:\nsrc/main/java/com/shzlw/poli/dao/AuditLogDao.java:        return npjt.query(sql, params, new AuditLogMapper());\nsrc/main/java/com/shzlw/poli/dao/AuditLogDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/AuditLogDao.java:\nsrc/main/java/com/shzlw/poli/dao/AuditLogDao.java:    public long insert(long createdAt, String type, String data) {\nsrc/main/java/com/shzlw/poli/dao/AuditLogDao.java:        String sql = \"INSERT INTO p_audit_log(created_at, type, data) \"\nsrc/main/java/com/shzlw/poli/dao/AuditLogDao.java:                    + \"VALUES(:created_at, :type, :data)\";\nsrc/main/java/com/shzlw/poli/dao/AuditLogDao.java:        MapSqlParameterSource params = new MapSqlParameterSource();\nsrc/main/java/com/shzlw/poli/dao/AuditLogDao.java:        params.addValue(AuditLog.CREATED_AT, createdAt);\nsrc/main/java/com/shzlw/poli/dao/AuditLogDao.java:        params.addValue(AuditLog.TYPE, type);\nsrc/main/java/com/shzlw/poli/dao/AuditLogDao.java:        params.addValue(AuditLog.DATA, data);\nsrc/main/java/com/shzlw/poli/dao/AuditLogDao.java:\nsrc/main/java/com/shzlw/poli/dao/AuditLogDao.java:        KeyHolder keyHolder = new GeneratedKeyHolder();\nsrc/main/java/com/shzlw/poli/dao/AuditLogDao.java:        npjt.update(sql, params, keyHolder, new String[] { AuditLog.ID });\nsrc/main/java/com/shzlw/poli/dao/AuditLogDao.java:        return keyHolder.getKey().longValue();\nsrc/main/java/com/shzlw/poli/dao/AuditLogDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/AuditLogDao.java:\nsrc/main/java/com/shzlw/poli/dao/AuditLogDao.java:    private static class AuditLogMapper implements RowMapper<AuditLog> {\nsrc/main/java/com/shzlw/poli/dao/AuditLogDao.java:        @Override\nsrc/main/java/com/shzlw/poli/dao/AuditLogDao.java:        public AuditLog mapRow(ResultSet rs, int i) throws SQLException {\nsrc/main/java/com/shzlw/poli/dao/AuditLogDao.java:            AuditLog r = new AuditLog();\nsrc/main/java/com/shzlw/poli/dao/AuditLogDao.java:            r.setId(rs.getLong(AuditLog.ID));\nsrc/main/java/com/shzlw/poli/dao/AuditLogDao.java:            r.setType(rs.getString(AuditLog.TYPE));\nsrc/main/java/com/shzlw/poli/dao/AuditLogDao.java:            long createdAt = rs.getLong(AuditLog.CREATED_AT);\nsrc/main/java/com/shzlw/poli/dao/AuditLogDao.java:            r.setCreatedAt(CommonUtils.toReadableDateTime(CommonUtils.fromEpoch(createdAt)));\nsrc/main/java/com/shzlw/poli/dao/AuditLogDao.java:            r.setData(rs.getString(AuditLog.DATA));\nsrc/main/java/com/shzlw/poli/dao/AuditLogDao.java:            return r;\nsrc/main/java/com/shzlw/poli/dao/AuditLogDao.java:        }\nsrc/main/java/com/shzlw/poli/dao/AuditLogDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/AuditLogDao.java:}\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:package com.shzlw.poli.dao;\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:import com.shzlw.poli.model.Group;\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:import org.springframework.beans.factory.annotation.Autowired;\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:import org.springframework.dao.EmptyResultDataAccessException;\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:import org.springframework.jdbc.core.BatchPreparedStatementSetter;\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:import org.springframework.jdbc.core.JdbcTemplate;\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:import org.springframework.jdbc.core.RowMapper;\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:import org.springframework.jdbc.core.namedparam.MapSqlParameterSource;\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:import org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate;\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:import org.springframework.jdbc.support.GeneratedKeyHolder;\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:import org.springframework.jdbc.support.KeyHolder;\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:import org.springframework.stereotype.Repository;\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:import java.sql.PreparedStatement;\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:import java.sql.ResultSet;\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:import java.sql.SQLException;\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:import java.util.List;\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:@Repository\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:public class GroupDao {\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:    @Autowired\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:    JdbcTemplate jt;\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:    @Autowired\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:    NamedParameterJdbcTemplate npjt;\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:    public List<Group> findAll() {\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:        String sql = \"SELECT id, name FROM p_group\";\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:        return jt.query(sql, new Object[] {}, new GroupRowMapper());\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:    public Group findById(long groupId) {\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:        String sql = \"SELECT id, name FROM p_group WHERE id=?\";\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:        try {\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:            return (Group) jt.queryForObject(sql, new Object[]{ groupId }, new GroupRowMapper());\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:        } catch (EmptyResultDataAccessException e) {\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:            return null;\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:        }\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:    public List<Long> findGroupReports(long groupId) {\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:        String sql = \"SELECT report_id FROM p_group_report WHERE group_id = ?\";\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:        return jt.queryForList(sql, new Object[]{ groupId }, Long.class);\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:    public long insertGroup(String name) {\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:        String sql = \"INSERT INTO p_group(name) VALUES(:name)\";\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:        MapSqlParameterSource params = new MapSqlParameterSource();\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:        params.addValue(Group.NAME, name);\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:        KeyHolder keyHolder = new GeneratedKeyHolder();\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:        npjt.update(sql, params, keyHolder, new String[] { Group.ID});\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:        return keyHolder.getKey().longValue();\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:    public void insertGroupReports(long groupId, List<Long> groupReports) {\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:        String sql = \"INSERT INTO p_group_report(group_id, report_id) VALUES(?, ?)\";\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:        jt.batchUpdate(sql, new BatchPreparedStatementSetter() {\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:            @Override\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:            public void setValues(PreparedStatement ps, int i) throws SQLException {\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:                ps.setLong(1, groupId);\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:                ps.setLong(2, groupReports.get(i));\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:            }\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:            @Override\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:            public int getBatchSize() {\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:                return groupReports.size();\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:            }\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:        });\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:    public int updateGroup(Group group) {\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:        String sql = \"UPDATE p_group SET name=? WHERE id=?\";\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:        return jt.update(sql, new Object[]{ group.getName(), group.getId() });\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:    public int deleteGroupUsers(long groupId) {\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:        String sql = \"DELETE FROM p_group_user WHERE group_id=?\";\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:        return jt.update(sql, new Object[]{ groupId });\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:    public int deleteGroupReports(long groupId) {\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:        String sql = \"DELETE FROM p_group_report WHERE group_id=?\";\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:        return jt.update(sql, new Object[]{ groupId });\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:    public int deleteGroup(long groupId) {\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:        String sql = \"DELETE FROM p_group WHERE id=?\";\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:        return jt.update(sql, new Object[]{ groupId });\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:    private static class GroupRowMapper implements RowMapper<Group> {\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:        @Override\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:        public Group mapRow(ResultSet rs, int i) throws SQLException {\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:            Group r = new Group();\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:            r.setId(rs.getLong(Group.ID));\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:            r.setName(rs.getString(Group.NAME));\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:            return r;\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:        }\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/GroupDao.java:}\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:package com.shzlw.poli.dao;\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:import com.shzlw.poli.model.Report;\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:import org.springframework.beans.factory.annotation.Autowired;\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:import org.springframework.dao.EmptyResultDataAccessException;\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:import org.springframework.jdbc.core.JdbcTemplate;\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:import org.springframework.jdbc.core.RowMapper;\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:import org.springframework.jdbc.core.namedparam.MapSqlParameterSource;\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:import org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate;\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:import org.springframework.jdbc.support.GeneratedKeyHolder;\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:import org.springframework.jdbc.support.KeyHolder;\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:import org.springframework.stereotype.Repository;\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:import java.sql.ResultSet;\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:import java.sql.SQLException;\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:import java.util.List;\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:@Repository\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:public class ReportDao {\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:    @Autowired\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:    JdbcTemplate jt;\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:    @Autowired\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:    NamedParameterJdbcTemplate npjt;\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:    public List<Report> findAll() {\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:        String sql = \"SELECT id, name, style, project FROM p_report\";\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:        return jt.query(sql, new Object[] {}, new ReportRowMapper());\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:    public List<Report> findByViewer(long userId) {\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:        String sql = \"SELECT d.id, d.name, d.style, d.project \"\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:                    + \"FROM p_group_report gd, p_report d, p_group_user gu \"\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:                    + \"WHERE gd.report_id = d.id \"\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:                    + \"AND gd.group_id = gu.group_id \"\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:                    + \"AND gu.user_id = ?\";\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:        return jt.query(sql, new Object[] { userId }, new ReportRowMapper());\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:    public Report findById(long id) {\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:        String sql = \"SELECT id, name, style, project FROM p_report WHERE id=?\";\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:        try {\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:            return (Report) jt.queryForObject(sql, new Object[]{ id }, new ReportRowMapper());\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:        } catch (EmptyResultDataAccessException e) {\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:            return null;\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:        }\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:    public List<Report> findFavouritesByUserId(long userId) {\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:        String sql = \"SELECT r.id, r.name, r.project \"\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:                    + \"FROM p_report r, p_user_favourite uf \"\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:                    + \"WHERE r.id = uf.report_id \"\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:                    + \"AND uf.user_id = ?\";\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:        return jt.query(sql, new Object[] { userId }, (rs, i) -> {\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:            Report r = new Report();\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:            r.setId(rs.getLong(Report.ID));\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:            r.setName(rs.getString(Report.NAME));\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:            r.setProject(rs.getString(Report.PROJECT));\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:            return r;\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:        });\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:    public Report findByName(String name) {\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:        String sql = \"SELECT id, name, style, project FROM p_report WHERE name=?\";\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:        try {\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:            return (Report) jt.queryForObject(sql, new Object[]{ name }, new ReportRowMapper());\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:        } catch (EmptyResultDataAccessException e) {\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:            return null;\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:        }\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:    public long insert(String name, String style, String project) {\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:        String sql = \"INSERT INTO p_report(name, style, project) VALUES(:name, :style, :project)\";\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:        MapSqlParameterSource params = new MapSqlParameterSource();\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:        params.addValue(Report.NAME, name);\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:        params.addValue(Report.STYLE, style);\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:        params.addValue(Report.PROJECT, project);\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:        KeyHolder keyHolder = new GeneratedKeyHolder();\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:        npjt.update(sql, params, keyHolder, new String[] { Report.ID});\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:        return keyHolder.getKey().longValue();\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:    public int update(Report r) {\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:        String sql = \"UPDATE p_report SET name=?, style=?, project=? WHERE id=?\";\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:        return jt.update(sql, new Object[] { r.getName(), r.getStyle(), r.getProject(), r.getId() });\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:    public int delete(long id) {\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:        String sql = \"DELETE FROM p_report WHERE id=?\";\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:        return jt.update(sql, new Object[]{ id });\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:    private static class ReportRowMapper implements RowMapper<Report> {\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:        @Override\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:        public Report mapRow(ResultSet rs, int i) throws SQLException {\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:            Report r = new Report();\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:            r.setId(rs.getLong(Report.ID));\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:            r.setName(rs.getString(Report.NAME));\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:            r.setStyle(rs.getString(Report.STYLE));\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:            r.setProject(rs.getString(Report.PROJECT));\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:            return r;\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:        }\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/ReportDao.java:}\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:package com.shzlw.poli.dao;\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:import com.shzlw.poli.model.CannedReport;\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:import org.slf4j.Logger;\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:import org.slf4j.LoggerFactory;\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:import org.springframework.beans.factory.annotation.Autowired;\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:import org.springframework.dao.EmptyResultDataAccessException;\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:import org.springframework.jdbc.core.JdbcTemplate;\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:import org.springframework.jdbc.core.RowMapper;\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:import org.springframework.jdbc.core.namedparam.MapSqlParameterSource;\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:import org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate;\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:import org.springframework.jdbc.support.GeneratedKeyHolder;\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:import org.springframework.jdbc.support.KeyHolder;\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:import org.springframework.stereotype.Repository;\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:import java.sql.ResultSet;\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:import java.sql.SQLException;\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:import java.util.List;\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:@Repository\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:public class CannedReportDao {\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:    private static final Logger LOGGER = LoggerFactory.getLogger(CannedReportDao.class);\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:    @Autowired\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:    JdbcTemplate jt;\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:    @Autowired\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:    NamedParameterJdbcTemplate npjt;\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:    public List<CannedReport> findAll() {\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:        String sql = \"SELECT r.id, r.created_at, u.username AS created_by, r.name \"\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:                    + \"FROM p_canned_report r \"\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:                    + \"LEFT JOIN p_user u ON r.user_id = u.id\";\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:        return jt.query(sql, new Object[]{}, new CannedReportInfoMapper());\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:    public List<CannedReport> findByUserId(long userId) {\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:        String sql = \"SELECT r.id, r.created_at, u.username AS created_by, r.name \"\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:                + \"FROM p_canned_report r \"\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:                + \"LEFT JOIN p_user u ON r.user_id = u.id \"\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:                + \"WHERE r.user_id=?\";\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:        return jt.query(sql, new Object[]{ userId }, new CannedReportInfoMapper());\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:    public CannedReport findById(long id) {\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:        String sql = \"SELECT r.id, r.created_at, u.username AS created_by, r.name, r.data \"\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:                    + \"FROM p_canned_report r \"\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:                    + \"LEFT JOIN p_user u ON r.user_id = u.id \"\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:                    + \"WHERE r.id=?\";\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:        try {\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:            CannedReport cannedReport =  jt.queryForObject(sql, new Object[]{ id }, (rs, i) -> {\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:                CannedReport r = new CannedReport();\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:                r.setId(rs.getLong(CannedReport.ID));\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:                r.setCreatedBy(rs.getString(CannedReport.CREATED_BY));\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:                r.setCreatedAt(rs.getLong(CannedReport.CREATED_AT));\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:                r.setName(rs.getString(CannedReport.NAME));\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:                r.setData(rs.getString(CannedReport.DATA));\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:                return r;\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:            });\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:            return cannedReport;\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:        } catch (EmptyResultDataAccessException e) {\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:            return null;\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:        }\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:    public long insert(long userId, long createdAt, String name, String data) {\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:        String sql = \"INSERT INTO p_canned_report(user_id, created_at, name, data) \"\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:                    + \"VALUES(:user_id, :created_at, :name, :data)\";\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:        MapSqlParameterSource params = new MapSqlParameterSource();\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:        params.addValue(CannedReport.USER_ID, userId);\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:        params.addValue(CannedReport.CREATED_AT, createdAt);\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:        params.addValue(CannedReport.NAME, name);\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:        params.addValue(CannedReport.DATA, data);\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:        KeyHolder keyHolder = new GeneratedKeyHolder();\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:        npjt.update(sql, params, keyHolder, new String[] { CannedReport.ID });\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:        return keyHolder.getKey().longValue();\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:    public int delete(long id) {\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:        String sql = \"DELETE FROM p_canned_report WHERE id=?\";\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:        return jt.update(sql, new Object[]{ id });\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:    public int deleteByUserId(long userId) {\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:        String sql = \"DELETE FROM p_canned_report WHERE user_id=?\";\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:        return jt.update(sql, new Object[]{ userId });\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:    private static class CannedReportInfoMapper implements RowMapper<CannedReport> {\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:        @Override\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:        public CannedReport mapRow(ResultSet rs, int i) throws SQLException {\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:            CannedReport r = new CannedReport();\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:            r.setId(rs.getLong(CannedReport.ID));\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:            r.setCreatedBy(rs.getString(CannedReport.CREATED_BY));\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:            r.setCreatedAt(rs.getLong(CannedReport.CREATED_AT));\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:            r.setName(rs.getString(CannedReport.NAME));\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:            return r;\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:        }\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/CannedReportDao.java:}\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:package com.shzlw.poli.dao;\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:import com.shzlw.poli.dto.SharedReportRow;\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:import com.shzlw.poli.model.SharedReport;\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:import com.shzlw.poli.util.CommonUtils;\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:import org.springframework.beans.factory.annotation.Autowired;\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:import org.springframework.dao.EmptyResultDataAccessException;\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:import org.springframework.jdbc.core.JdbcTemplate;\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:import org.springframework.jdbc.core.RowMapper;\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:import org.springframework.jdbc.core.namedparam.MapSqlParameterSource;\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:import org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate;\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:import org.springframework.jdbc.support.GeneratedKeyHolder;\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:import org.springframework.jdbc.support.KeyHolder;\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:import org.springframework.stereotype.Repository;\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:import java.sql.ResultSet;\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:import java.sql.SQLException;\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:import java.util.List;\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:@Repository\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:public class SharedReportDao {\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:    @Autowired\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:    JdbcTemplate jt;\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:    @Autowired\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:    NamedParameterJdbcTemplate npjt;\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:    public List<SharedReportRow> findAll() {\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:        String sql = \"SELECT sr.id, share_key, r.name AS report_name, sr.report_type, u.username AS created_by, sr.created_at, sr.expired_by \"\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:                    + \"FROM p_shared_report sr \"\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:                    + \"LEFT JOIN p_user u ON sr.user_id = u.id \"\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:                    + \"LEFT JOIN p_report r ON sr.report_id = r.id \"\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:                    + \"ORDER BY sr.created_at DESC\";\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:        return jt.query(sql, new Object[] {}, new SharedReportRowMapper());\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:    public List<SharedReport> findByReportId(long reportId) {\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:        String sql = \"SELECT share_key, expired_by FROM p_shared_report WHERE report_id=?\";\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:        return jt.query(sql, new Object[] { reportId }, (rs, i) -> {\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:            SharedReport r = new SharedReport();\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:            r.setShareKey(rs.getString(SharedReport.SHARE_KEY));\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:            r.setExpiredBy(rs.getLong(SharedReport.EXPIRED_BY));\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:            return r;\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:        });\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:    public long insert(String shareKey, long reportId, String reportType, long userId, long createdAt, long expiredBy) {\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:        String sql = \"INSERT INTO p_shared_report(share_key, report_id, report_type, user_id, created_at, expired_by) \"\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:                    + \"VALUES(:share_key, :report_id, :report_type, :user_id, :created_at, :expired_by)\";\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:        MapSqlParameterSource params = new MapSqlParameterSource();\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:        params.addValue(SharedReport.SHARE_KEY, shareKey);\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:        params.addValue(SharedReport.REPORT_ID, reportId);\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:        params.addValue(SharedReport.REPORT_TYPE, reportType);\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:        params.addValue(SharedReport.USER_ID, userId);\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:        params.addValue(SharedReport.CREATED_AT, createdAt);\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:        params.addValue(SharedReport.EXPIRED_BY, expiredBy);\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:        KeyHolder keyHolder = new GeneratedKeyHolder();\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:        npjt.update(sql, params, keyHolder, new String[] { SharedReport.ID });\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:        return keyHolder.getKey().longValue();\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:    public SharedReport findById(long id) {\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:        String sql = \"SELECT id, share_key, report_id, report_type, user_id, created_at, expired_by \"\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:                    + \"FROM p_shared_report WHERE id=?\";\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:        try {\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:            return (SharedReport) jt.queryForObject(sql, new Object[]{ id }, new SharedReportRawMapper());\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:        } catch (EmptyResultDataAccessException e) {\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:            return null;\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:        }\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:    public SharedReport findByShareKey(String shareKey) {\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:        String sql = \"SELECT id, share_key, report_id, report_type, user_id, created_at, expired_by \"\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:                    + \"FROM p_shared_report WHERE share_key=?\";\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:        try {\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:            return (SharedReport) jt.queryForObject(sql, new Object[]{ shareKey }, new SharedReportRawMapper());\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:        } catch (EmptyResultDataAccessException e) {\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:            return null;\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:        }\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:    public int delete(long id) {\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:        String sql = \"DELETE FROM p_shared_report WHERE id=?\";\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:        return jt.update(sql, new Object[]{ id });\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:    public int deleteByUserId(long userId) {\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:        String sql = \"DELETE FROM p_shared_report WHERE user_id=?\";\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:        return jt.update(sql, new Object[]{ userId });\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:    public int deleteByReportId(long reportId) {\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:        String sql = \"DELETE FROM p_shared_report WHERE report_id=?\";\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:        return jt.update(sql, new Object[]{ reportId });\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:    private static class SharedReportRawMapper implements RowMapper<SharedReport> {\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:        @Override\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:        public SharedReport mapRow(ResultSet rs, int i) throws SQLException {\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:            SharedReport r = new SharedReport();\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:            r.setId(rs.getLong(SharedReport.ID));\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:            r.setShareKey(rs.getString(SharedReport.SHARE_KEY));\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:            r.setReportType(rs.getString(SharedReport.REPORT_TYPE));\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:            r.setReportId(rs.getLong(SharedReport.REPORT_ID));\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:            r.setUserId(rs.getLong(SharedReport.USER_ID));\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:            r.setCreatedAt(rs.getLong(SharedReport.CREATED_AT));\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:            r.setExpiredBy(rs.getLong(SharedReport.EXPIRED_BY));\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:            return r;\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:        }\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:    private static class SharedReportRowMapper implements RowMapper<SharedReportRow> {\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:        @Override\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:        public SharedReportRow mapRow(ResultSet rs, int i) throws SQLException {\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:            SharedReportRow r = new SharedReportRow();\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:            r.setId(rs.getLong(SharedReport.ID));\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:            r.setShareKey(rs.getString(SharedReport.SHARE_KEY));\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:            r.setReportName(rs.getString(SharedReportRow.REPORT_NAME));\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:            r.setReportType(rs.getString(SharedReport.REPORT_TYPE));\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:            r.setCreatedBy(rs.getString(SharedReportRow.CREATED_BY));\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:            long createdAt = rs.getLong(SharedReport.CREATED_AT);\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:            r.setCreateDateTime(CommonUtils.toReadableDateTime(CommonUtils.fromEpoch(createdAt)));\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:            long expiredBy = rs.getLong(SharedReport.EXPIRED_BY);\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:            r.setExpirationDate(CommonUtils.toReadableDate(CommonUtils.fromEpoch(expiredBy)));\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:            return r;\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:        }\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/SharedReportDao.java:}\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:package com.shzlw.poli.dao;\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:import com.shzlw.poli.model.SavedQuery;\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:import org.springframework.beans.factory.annotation.Autowired;\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:import org.springframework.dao.EmptyResultDataAccessException;\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:import org.springframework.jdbc.core.JdbcTemplate;\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:import org.springframework.jdbc.core.RowMapper;\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:import org.springframework.jdbc.core.namedparam.MapSqlParameterSource;\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:import org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate;\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:import org.springframework.jdbc.support.GeneratedKeyHolder;\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:import org.springframework.jdbc.support.KeyHolder;\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:import org.springframework.stereotype.Repository;\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:import java.sql.ResultSet;\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:import java.sql.SQLException;\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:import java.util.List;\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:@Repository\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:public class SavedQueryDao {\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:    @Autowired\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:    JdbcTemplate jt;\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:    @Autowired\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:    NamedParameterJdbcTemplate npjt;\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:    public List<SavedQuery> findAll() {\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:        String sql = \"SELECT id, name, endpoint_name \"\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:                    + \"FROM p_saved_query \"\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:                    + \"ORDER BY id DESC\";\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:        MapSqlParameterSource params = new MapSqlParameterSource();\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:        return npjt.query(sql, params, (rs, i) -> {\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:            SavedQuery r = new SavedQuery();\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:            r.setId(rs.getLong(SavedQuery.ID));\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:            r.setName(rs.getString(SavedQuery.NAME));\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:            r.setEndpointName(rs.getString(SavedQuery.ENDPOINT_NAME));\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:            return r;\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:        });\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:    public List<SavedQuery> findAllByPage(int page, int pageSize, String searchValue) {\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:        String sql = \"SELECT id, name, endpoint_name \"\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:                    + \"FROM p_saved_query \"\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:                    + \"WHERE name LIKE :name \"\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:                    + \"ORDER BY id DESC LIMIT :limit OFFSET :offset\";\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:        MapSqlParameterSource params = new MapSqlParameterSource();\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:        params.addValue(\"name\", DaoHelper.getLikeParam(searchValue));\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:        params.addValue(\"offset\", DaoHelper.toOffset(page, pageSize));\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:        params.addValue(\"limit\", DaoHelper.toLimit(pageSize));\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:        return npjt.query(sql, params, (rs, i) -> {\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:            SavedQuery r = new SavedQuery();\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:            r.setId(rs.getLong(SavedQuery.ID));\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:            r.setName(rs.getString(SavedQuery.NAME));\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:            r.setEndpointName(rs.getString(SavedQuery.ENDPOINT_NAME));\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:            return r;\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:        });\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:    public SavedQuery find(long id) {\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:        String sql = \"SELECT id, name, endpoint_name, endpoint_accesscode, sql_query, datasource_id \"\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:                    + \"FROM p_saved_query \"\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:                    + \"WHERE id = ?\";\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:        try {\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:            return (SavedQuery) jt.queryForObject(sql, new Object[]{ id }, (rs, i) -> {\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:                SavedQuery r = new SavedQuery();\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:                r.setId(rs.getLong(SavedQuery.ID));\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:                r.setName(rs.getString(SavedQuery.NAME));\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:                r.setEndpointName(rs.getString(SavedQuery.ENDPOINT_NAME));\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:                r.setEndpointAccessCode(rs.getString(SavedQuery.ENDPOINT_ACCESSCODE));\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:                r.setSqlQuery(rs.getString(SavedQuery.SQL_QUERY));\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:                r.setJdbcDataSourceId(rs.getLong(SavedQuery.DATASOURCE_ID));\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:                return r;\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:            });\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:        } catch (EmptyResultDataAccessException e) {\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:            return null;\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:        }\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:    public SavedQuery findByEndpointName(String endpointName) {\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:        String sql = \"SELECT sql_query, datasource_id, endpoint_accesscode \"\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:                    + \"FROM p_saved_query \"\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:                    + \"WHERE endpoint_name = ?\";\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:        try {\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:            return (SavedQuery) jt.queryForObject(sql, new Object[]{ endpointName }, (rs, i) -> {\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:                SavedQuery r = new SavedQuery();\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:                r.setSqlQuery(rs.getString(SavedQuery.SQL_QUERY));\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:                r.setJdbcDataSourceId(rs.getLong(SavedQuery.DATASOURCE_ID));\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:                r.setEndpointAccessCode(rs.getString(SavedQuery.ENDPOINT_ACCESSCODE));\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:                return r;\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:            });\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:        } catch (EmptyResultDataAccessException e) {\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:            return null;\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:        }\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:    public long insert(SavedQuery savedQuery) {\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:        String sql = \"INSERT INTO p_saved_query(name, sql_query, datasource_id, endpoint_name, endpoint_accesscode) \"\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:                    + \" VALUES(:name, :sql_query, :datasource_id, :endpoint_name, :endpoint_accesscode)\";\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:        MapSqlParameterSource params = new MapSqlParameterSource();\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:        params.addValue(SavedQuery.NAME, savedQuery.getName());\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:        params.addValue(SavedQuery.SQL_QUERY, savedQuery.getSqlQuery());\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:        params.addValue(SavedQuery.DATASOURCE_ID, savedQuery.getJdbcDataSourceId());\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:        params.addValue(SavedQuery.ENDPOINT_NAME, savedQuery.getEndpointName());\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:        params.addValue(SavedQuery.ENDPOINT_ACCESSCODE, savedQuery.getEndpointAccessCode());\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:        KeyHolder keyHolder = new GeneratedKeyHolder();\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:        npjt.update(sql, params, keyHolder, new String[] { SavedQuery.ID });\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:        return keyHolder.getKey().longValue();\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:    public int update(SavedQuery savedQuery) {\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:        String sql = \"UPDATE p_saved_query SET datasource_id=?, name=?, sql_query=?, endpoint_name=?, endpoint_accesscode=? WHERE id=?\";\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:        return jt.update(sql, new Object[]{\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:                savedQuery.getJdbcDataSourceId(),\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:                savedQuery.getName(),\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:                savedQuery.getSqlQuery(),\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:                savedQuery.getEndpointName(),\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:                savedQuery.getEndpointAccessCode(),\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:                savedQuery.getId()\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:        });\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:    public int clearDataSourceId(long dataSourceId) {\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:        String sql = \"UPDATE p_saved_query SET dataSource_id = NULL WHERE dataSource_id = ?\";\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:        return jt.update(sql, new Object[]{ dataSourceId });\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:    public int delete(long id) {\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:        String sql = \"DELETE FROM p_saved_query WHERE id=?\";\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:        return jt.update(sql, new Object[]{ id });\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:    private static class SavedQueryMapper implements RowMapper<SavedQuery> {\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:        @Override\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:        public SavedQuery mapRow(ResultSet rs, int i) throws SQLException {\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:            SavedQuery r = new SavedQuery();\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:            r.setId(rs.getLong(SavedQuery.ID));\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:            r.setName(rs.getString(SavedQuery.NAME));\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:            r.setSqlQuery(rs.getString(SavedQuery.SQL_QUERY));\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:            r.setJdbcDataSourceId(rs.getLong(SavedQuery.DATASOURCE_ID));\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:            r.setEndpointName(rs.getString(SavedQuery.ENDPOINT_NAME));\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:            return r;\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:        }\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/SavedQueryDao.java:}\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:package com.shzlw.poli.dao;\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:import com.shzlw.poli.model.Component;\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:import com.shzlw.poli.model.Report;\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:import org.springframework.beans.factory.annotation.Autowired;\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:import org.springframework.dao.EmptyResultDataAccessException;\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:import org.springframework.jdbc.core.JdbcTemplate;\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:import org.springframework.jdbc.core.RowMapper;\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:import org.springframework.jdbc.core.namedparam.MapSqlParameterSource;\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:import org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate;\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:import org.springframework.jdbc.support.GeneratedKeyHolder;\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:import org.springframework.jdbc.support.KeyHolder;\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:import org.springframework.stereotype.Repository;\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:import java.sql.ResultSet;\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:import java.sql.SQLException;\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:import java.util.List;\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:@Repository\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:public class ComponentDao {\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:    @Autowired\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:    JdbcTemplate jt;\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:    @Autowired\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:    NamedParameterJdbcTemplate npjt;\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:    public List<Component> findByReportId(long reportId) {\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:        String sql = \"SELECT id, datasource_id, report_id, title, sql_query, width, height, x, y, data, drill_through, style, type, sub_type \"\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:                    + \"FROM p_component WHERE report_id=?\";\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:        return jt.query(sql, new Object[] { reportId }, new ComponentRowMapper());\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:    public Component findById(long id) {\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:        String sql = \"SELECT id, datasource_id, report_id, title, sql_query, width, height, x, y, data, drill_through, style, type, sub_type \"\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:                    + \"FROM p_component WHERE id=?\";\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:        try {\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:            return (Component) jt.queryForObject(sql, new Object[]{ id }, new ComponentRowMapper());\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:        } catch (EmptyResultDataAccessException e) {\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:            return null;\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:        }\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:    public int updatePosition(Component c) {\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:        String sql = \"UPDATE p_component SET width=?, height=?, x=?, y=? WHERE id=?\";\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:        return jt.update(sql, new Object[] { c.getWidth(), c.getHeight(), c.getX(), c.getY(), c.getId() });\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:    public int updatePositionAndStyle(Component c) {\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:        String sql = \"UPDATE p_component SET width=?, height=?, x=?, y=?, style=?, title=? WHERE id=?\";\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:        return jt.update(sql, new Object[] { c.getWidth(), c.getHeight(), c.getX(), c.getY(), c.getStyle(), c.getTitle(), c.getId() });\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:    public int updateData(Component c) {\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:        String sql = \"UPDATE p_component \"\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:                    + \"SET datasource_id=?, title=?, sql_query=?, data=?, drill_through=?, type=?, sub_type=? \"\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:                    + \"WHERE id=?\";\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:        return jt.update(sql, new Object[] {\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:                c.getJdbcDataSourceId(),\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:                c.getTitle(),\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:                c.getSqlQuery(),\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:                c.getData(),\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:                c.getDrillThrough(),\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:                c.getType(),\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:                c.getSubType(),\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:                c.getId()\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:        });\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:    public int updateByDataSourceId(long dataSourceId) {\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:        String sql = \"UPDATE p_component SET dataSource_id = NULL WHERE dataSource_id = ?\";\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:        return jt.update(sql, new Object[]{ dataSourceId });\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:    public long insert(Component c) {\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:        String sql = \"INSERT INTO p_component(report_id, datasource_id, title, sql_query, width, height, x, y, data, drill_through, style, type, sub_type) \"\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:                    + \"VALUES(:report_id, :datasource_id, :title, :sql_query, :width, :height, :x, :y, :data, :drill_through, :style, :type, :sub_type)\";\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:        MapSqlParameterSource params = new MapSqlParameterSource();\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:        params.addValue(Component.REPORT_ID, c.getReportId());\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:        params.addValue(Component.DATASOURCE_ID, c.getJdbcDataSourceId());\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:        params.addValue(Component.TITLE, c.getTitle());\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:        params.addValue(Component.SQL_QUERY, c.getSqlQuery());\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:        params.addValue(Component.WIDTH, c.getWidth());\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:        params.addValue(Component.HEIGHT, c.getHeight());\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:        params.addValue(Component.X, c.getX());\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:        params.addValue(Component.Y, c.getY());\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:        params.addValue(Component.DATA, c.getData());\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:        params.addValue(Component.DRILL_THROUGH, c.getDrillThrough());\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:        params.addValue(Component.STYLE, c.getStyle());\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:        params.addValue(Component.TYPE, c.getType());\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:        params.addValue(Component.SUB_TYPE, c.getSubType());\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:        KeyHolder keyHolder = new GeneratedKeyHolder();\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:        npjt.update(sql, params, keyHolder, new String[] { Report.ID});\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:        return keyHolder.getKey().longValue();\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:    public long insert(String name, String style) {\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:        String sql = \"INSERT INTO p_report(name, style) VALUES(:name, :style)\";\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:        MapSqlParameterSource params = new MapSqlParameterSource();\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:        params.addValue(Report.NAME, name);\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:        params.addValue(Report.STYLE, style);\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:        KeyHolder keyHolder = new GeneratedKeyHolder();\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:        npjt.update(sql, params, keyHolder, new String[] { Report.ID});\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:        return keyHolder.getKey().longValue();\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:    public int delete(long id) {\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:        String sql = \"DELETE FROM p_component WHERE id=?\";\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:        return jt.update(sql, new Object[]{ id });\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:    public int deleteByReportId(long reportId) {\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:        String sql = \"DELETE FROM p_component WHERE report_id=?\";\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:        return jt.update(sql, new Object[]{ reportId });\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:    public int deleteByDataSourceId(long dataSourceId) {\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:        String sql = \"DELETE FROM p_component WHERE datasource_id=?\";\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:        return jt.update(sql, new Object[]{ dataSourceId });\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:    private static class ComponentRowMapper implements RowMapper<Component> {\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:        @Override\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:        public Component mapRow(ResultSet rs, int i) throws SQLException {\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:            Component c = new Component();\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:            c.setId(rs.getLong(Component.ID));\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:            c.setReportId(rs.getLong(Component.REPORT_ID));\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:            c.setJdbcDataSourceId(rs.getLong(Component.DATASOURCE_ID));\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:            c.setTitle(rs.getString(Component.TITLE));\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:            c.setSqlQuery(rs.getString(Component.SQL_QUERY));\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:            c.setX(rs.getInt(Component.X));\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:            c.setY(rs.getInt(Component.Y));\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:            c.setWidth(rs.getInt(Component.WIDTH));\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:            c.setHeight(rs.getInt(Component.HEIGHT));\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:            c.setData(rs.getString(Component.DATA));\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:            c.setDrillThrough(rs.getString(Component.DRILL_THROUGH));\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:            c.setStyle(rs.getString(Component.STYLE));\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:            c.setType(rs.getString(Component.TYPE));\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:            c.setSubType(rs.getString(Component.SUB_TYPE));\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:            return c;\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:        }\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/ComponentDao.java:}\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:package com.shzlw.poli.dao;\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:import com.shzlw.poli.model.User;\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:import com.shzlw.poli.model.UserAttribute;\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:import com.shzlw.poli.util.CommonUtils;\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:import com.shzlw.poli.util.PasswordUtils;\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:import org.springframework.beans.factory.annotation.Autowired;\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:import org.springframework.dao.EmptyResultDataAccessException;\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:import org.springframework.jdbc.core.BatchPreparedStatementSetter;\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:import org.springframework.jdbc.core.JdbcTemplate;\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:import org.springframework.jdbc.core.RowMapper;\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:import org.springframework.jdbc.core.namedparam.MapSqlParameterSource;\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:import org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate;\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:import org.springframework.jdbc.support.GeneratedKeyHolder;\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:import org.springframework.jdbc.support.KeyHolder;\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:import org.springframework.stereotype.Repository;\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:import org.springframework.util.StringUtils;\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:import java.sql.PreparedStatement;\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:import java.sql.ResultSet;\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:import java.sql.SQLException;\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:import java.time.LocalDateTime;\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:import java.util.List;\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:@Repository\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:public class UserDao {\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:    @Autowired\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:    JdbcTemplate jt;\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:    @Autowired\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:    NamedParameterJdbcTemplate npjt;\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:    public User findByUsernameAndPassword(String username, String rawPassword) {\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        String encryptedPassword = PasswordUtils.getMd5Hash(rawPassword);\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        String sql = \"SELECT id, username, name, sys_role \"\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:                    + \"FROM p_user \"\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:                    + \"WHERE username=? AND password=?\";\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        try {\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            User user = (User) jt.queryForObject(sql, new Object[]{username, encryptedPassword}, new UserInfoRowMapper());\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            return user;\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        } catch (EmptyResultDataAccessException e) {\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            return null;\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        }\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:    public User findByUsernameAndTempPassword(String username, String rawTempPassword) {\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        String encryptedPassword = PasswordUtils.getMd5Hash(rawTempPassword);\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        String sql = \"SELECT id, username, name, sys_role \"\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:                    + \"FROM p_user \"\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:                    + \"WHERE username=? AND temp_password=?\";\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        try {\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            User user = (User) jt.queryForObject(sql, new Object[]{username, encryptedPassword}, new UserInfoRowMapper());\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            return user;\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        } catch (EmptyResultDataAccessException e) {\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            return null;\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        }\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:    public User findBySessionKey(String sessionKey) {\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        String sql = \"SELECT id, username, name, sys_role \"\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:                    + \"FROM p_user WHERE session_key=?\";\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        try {\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            User user = (User) jt.queryForObject(sql, new Object[]{ sessionKey }, new UserInfoRowMapper());\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            return user;\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        } catch (EmptyResultDataAccessException e) {\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            return null;\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        }\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:    public User findByApiKey(String apiKey) {\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        String sql = \"SELECT id, username, name, sys_role, session_key \"\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:                    + \"FROM p_user WHERE api_key=?\";\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        try {\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            User user = (User) jt.queryForObject(sql, new Object[]{ apiKey }, new UserSesssionKeyMapper());\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            return user;\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        } catch (EmptyResultDataAccessException e) {\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            return null;\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        }\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:    public User findByShareKey(String shareKey) {\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        String sql = \"SELECT u.id, u.username, u.name, u.sys_role, u.session_key \"\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:                    + \"FROM p_user u, p_shared_report sr \"\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:                    + \"WHERE u.id = sr.user_id \"\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:                    + \"AND sr.share_key=?\";\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        try {\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            User user = (User) jt.queryForObject(sql, new Object[]{ shareKey }, new UserSesssionKeyMapper());\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            return user;\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        } catch (EmptyResultDataAccessException e) {\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            return null;\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        }\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:    public User findAccount(long id) {\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        String sql = \"SELECT id, username, name, sys_role, api_key \"\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:                    + \"FROM p_user WHERE id=?\";\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        try {\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            User user = (User) jt.queryForObject(sql, new Object[]{ id }, new UserAccountMapper());\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            return user;\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        } catch (EmptyResultDataAccessException e) {\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            return null;\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        }\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:    public User findAccountBySessionKey(String sessionKey) {\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        String sql = \"SELECT id, username, name, sys_role, api_key \"\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:                    + \"FROM p_user WHERE session_key=?\";\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        try {\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            User user = (User) jt.queryForObject(sql, new Object[]{ sessionKey }, new UserAccountMapper());\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            return user;\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        } catch (EmptyResultDataAccessException e) {\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            return null;\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        }\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:    public User findById(long id) {\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        String sql = \"SELECT id, username, name, sys_role \"\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:                    + \"FROM p_user WHERE id=?\";\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        try {\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            User user = (User) jt.queryForObject(sql, new Object[]{ id }, new UserInfoRowMapper());\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            return user;\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        } catch (EmptyResultDataAccessException e) {\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            return null;\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        }\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:    public int updateSessionKey(long userId, String sessionKey) {\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        long sessionTimeout = CommonUtils.toEpoch(LocalDateTime.now());\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        String sql = \"UPDATE p_user SET session_key=?, session_timeout=? WHERE id=?\";\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        return jt.update(sql, new Object[] { sessionKey, sessionTimeout, userId});\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:    public int updateApiKey(long userId, String apiKey) {\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        String sql = \"UPDATE p_user SET api_key=? WHERE id=?\";\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        return jt.update(sql, new Object[] { apiKey, userId });\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:    public int updateTempPassword(long userId, String rawNewPassword) {\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        String encryptedPassword = PasswordUtils.getMd5Hash(rawNewPassword);\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        String sql = \"UPDATE p_user SET temp_password=NULL, password=? WHERE id=?\";\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        return jt.update(sql, new Object[] { encryptedPassword, userId });\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:    public List<User> findNonAdminUsers(long myUserId) {\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        String sql = \"SELECT id, username, name, sys_role \"\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:                    + \"FROM p_user WHERE sys_role IN ('viewer', 'developer') AND id != ?\";\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        return jt.query(sql, new Object[]{myUserId}, new UserInfoRowMapper());\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:    public List<User> findViewerUsers(long myUserId) {\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        String sql = \"SELECT id, username, name, sys_role \"\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:                    + \"FROM p_user WHERE sys_role = 'viewer' AND id != ?\";\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        return jt.query(sql, new Object[]{myUserId}, new UserInfoRowMapper());\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:    public List<Long> findUserGroups(long userId) {\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        String sql = \"SELECT group_id FROM p_group_user WHERE user_id = ?\";\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        return jt.queryForList(sql, new Object[]{ userId }, Long.class);\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:    public List<Long> findGroupUsers(long groupId) {\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        String sql = \"SELECT user_id FROM p_group_user WHERE group_id = ?\";\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        return jt.queryForList(sql, new Object[]{ groupId }, Long.class);\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:    public List<UserAttribute> findUserAttributes(long userId) {\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        String sql = \"SELECT attr_key, attr_value FROM p_user_attribute WHERE user_id = ?\";\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        return jt.query(sql, new Object[]{ userId }, (rs, i) -> {\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            UserAttribute r = new UserAttribute();\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            r.setAttrKey(rs.getString(UserAttribute.ATTR_KEY));\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            r.setAttrValue(rs.getString(UserAttribute.ATTR_VALUE));\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            return r;\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        });\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:    public long insertUser(String username, String name, String rawTempPassword, String sysRole) {\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        String encryptedPassword = PasswordUtils.getMd5Hash(rawTempPassword);\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        String sql = \"INSERT INTO p_user(username, name, temp_password, sys_role) \"\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:                    + \"VALUES(:username, :name, :temp_password, :sys_role)\";\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        MapSqlParameterSource params = new MapSqlParameterSource();\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        params.addValue(User.USERNAME, username);\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        params.addValue(User.NAME, name);\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        params.addValue(User.TEMP_PASSWORD, encryptedPassword);\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        params.addValue(User.SYS_ROLE, sysRole);\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        KeyHolder keyHolder = new GeneratedKeyHolder();\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        npjt.update(sql, params, keyHolder, new String[] { User.ID });\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        return keyHolder.getKey().longValue();\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:    public void insertUserGroups(long userId, List<Long> userGroups) {\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        String sql = \"INSERT INTO p_group_user(group_id, user_id) VALUES(?, ?)\";\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        jt.batchUpdate(sql, new BatchPreparedStatementSetter() {\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            @Override\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            public void setValues(PreparedStatement ps, int i) throws SQLException {\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:                ps.setLong(1, userGroups.get(i));\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:                ps.setLong(2, userId);\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            }\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            @Override\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            public int getBatchSize() {\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:                return userGroups.size();\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            }\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        });\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:    public void insertUserAttributes(long userId, List<UserAttribute> userAttributes) {\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        String sql = \"INSERT INTO p_user_attribute(user_id, attr_key, attr_value) VALUES(?, ?, ?)\";\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        jt.batchUpdate(sql, new BatchPreparedStatementSetter() {\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            @Override\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            public void setValues(PreparedStatement ps, int i) throws SQLException {\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:                ps.setLong(1, userId);\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:                ps.setString(2, userAttributes.get(i).getAttrKey());\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:                ps.setString(3, userAttributes.get(i).getAttrValue());\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            }\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            @Override\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            public int getBatchSize() {\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:                return userAttributes.size();\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            }\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        });\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:    public long updateUser(User user) {\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        String rawTempPassword = user.getTempPassword();\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        if (StringUtils.isEmpty(rawTempPassword)) {\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            String sql = \"UPDATE p_user SET username=?, name=?, sys_role=? WHERE id=?\";\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            return jt.update(sql, new Object[]{\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:                    user.getUsername(),\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:                    user.getName(),\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:                    user.getSysRole(),\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:                    user.getId()\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            });\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        } else {\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            String encryptedPassword = PasswordUtils.getMd5Hash(rawTempPassword);\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            String sql = \"UPDATE p_user SET username=?, name=?, sys_role=?, password=NULL, temp_password=? \"\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:                        + \"WHERE id=?\";\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            return jt.update(sql, new Object[]{\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:                    user.getUsername(),\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:                    user.getName(),\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:                    user.getSysRole(),\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:                    encryptedPassword,\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:                    user.getId()\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            });\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        }\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:    public long updateUserAccount(long userId, String name, String rawPassword) {\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        if (StringUtils.isEmpty(rawPassword)) {\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            String sql = \"UPDATE p_user SET name=? WHERE id=?\";\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            return jt.update(sql, new Object[]{ name, userId });\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        } else {\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            String encryptedPassword = PasswordUtils.getMd5Hash(rawPassword);\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            String sql = \"UPDATE p_user SET name=?, password=? WHERE id=?\";\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            return jt.update(sql, new Object[]{ name, encryptedPassword, userId });\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        }\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:    public int deleteUser(long userId) {\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        String sql = \"DELETE FROM p_user WHERE id=?\";\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        return jt.update(sql, new Object[]{ userId });\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:    public int deleteUserGroups(long userId) {\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        String sql = \"DELETE FROM p_group_user WHERE user_id=?\";\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        return jt.update(sql, new Object[]{ userId });\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:    public int deleteUserAttributes(long userId) {\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        String sql = \"DELETE FROM p_user_attribute WHERE user_id=?\";\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        return jt.update(sql, new Object[]{ userId });\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:    private static class UserInfoRowMapper implements RowMapper<User> {\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        @Override\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        public User mapRow(ResultSet rs, int i) throws SQLException {\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            User r = new User();\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            r.setId(rs.getLong(User.ID));\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            r.setUsername(rs.getString(User.USERNAME));\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            r.setName(rs.getString(User.NAME));\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            r.setSysRole(rs.getString(User.SYS_ROLE));\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            return r;\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        }\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:    private static class UserAccountMapper implements RowMapper<User> {\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        @Override\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        public User mapRow(ResultSet rs, int i) throws SQLException {\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            User r = new User();\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            r.setId(rs.getLong(User.ID));\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            r.setUsername(rs.getString(User.USERNAME));\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            r.setName(rs.getString(User.NAME));\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            r.setSysRole(rs.getString(User.SYS_ROLE));\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            r.setApiKey(rs.getString(User.API_KEY));\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            return r;\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        }\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:    private static class UserSesssionKeyMapper implements RowMapper<User> {\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        @Override\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        public User mapRow(ResultSet rs, int i) throws SQLException {\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            User r = new User();\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            r.setId(rs.getLong(User.ID));\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            r.setUsername(rs.getString(User.USERNAME));\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            r.setName(rs.getString(User.NAME));\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            r.setSysRole(rs.getString(User.SYS_ROLE));\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            r.setSessionKey(rs.getString(User.SESSION_KEY));\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:            return r;\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:        }\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/UserDao.java:}\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:package com.shzlw.poli.dao;\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:import com.shzlw.poli.model.JdbcDataSource;\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:import com.shzlw.poli.util.PasswordUtils;\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:import org.springframework.beans.factory.annotation.Autowired;\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:import org.springframework.dao.EmptyResultDataAccessException;\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:import org.springframework.jdbc.core.JdbcTemplate;\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:import org.springframework.jdbc.core.RowMapper;\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:import org.springframework.jdbc.core.namedparam.MapSqlParameterSource;\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:import org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate;\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:import org.springframework.jdbc.support.GeneratedKeyHolder;\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:import org.springframework.jdbc.support.KeyHolder;\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:import org.springframework.stereotype.Repository;\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:import org.springframework.util.StringUtils;\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:import java.sql.ResultSet;\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:import java.sql.SQLException;\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:import java.util.List;\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:@Repository\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:public class JdbcDataSourceDao {\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:    @Autowired\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:    JdbcTemplate jt;\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:    @Autowired\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:    NamedParameterJdbcTemplate npjt;\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:    public List<JdbcDataSource> findAllWithNoCredentials() {\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:        String sql = \"SELECT id, name, connection_url, driver_class_name, username, ping FROM p_datasource\";\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:        return jt.query(sql, new Object[] {}, new JdbcDataSourceInfoMapper());\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:    public JdbcDataSource findByIdWithNoCredentials(long id) {\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:        String sql = \"SELECT id, name, connection_url, driver_class_name, username, ping FROM p_datasource WHERE id=?\";\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:        try {\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:            return (JdbcDataSource) jt.queryForObject(sql, new Object[]{ id }, new JdbcDataSourceInfoMapper());\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:        } catch (EmptyResultDataAccessException e) {\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:            return null;\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:        }\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:    public JdbcDataSource findById(long id) {\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:        String sql = \"SELECT id, name, connection_url, driver_class_name, username, password, ping FROM p_datasource WHERE id=?\";\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:        try {\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:            return (JdbcDataSource) jt.queryForObject(sql, new Object[]{ id }, new JdbcDataSourceRowMapper());\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:        } catch (EmptyResultDataAccessException e) {\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:            return null;\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:        }\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:    public long insert(JdbcDataSource ds) {\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:        String rawPassword = ds.getPassword();\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:        String encryptedPassword = PasswordUtils.getEncryptedPassword(rawPassword);\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:        String sql = \"INSERT INTO p_datasource(name, connection_url, driver_class_name, username, password, ping) \"\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:                    + \"VALUES(:name, :connection_url, :driver_class_name, :username, :password, :ping)\";\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:        MapSqlParameterSource params = new MapSqlParameterSource();\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:        params.addValue(JdbcDataSource.NAME, ds.getName());\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:        params.addValue(JdbcDataSource.CONNECTION_URL, ds.getConnectionUrl());\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:        params.addValue(JdbcDataSource.DRIVER_CLASS_NAME, ds.getDriverClassName());\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:        params.addValue(JdbcDataSource.USERNAME, ds.getUsername());\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:        params.addValue(JdbcDataSource.PASSWORD, encryptedPassword);\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:        params.addValue(JdbcDataSource.PING, ds.getPing());\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:        KeyHolder keyHolder = new GeneratedKeyHolder();\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:        npjt.update(sql, params, keyHolder, new String[] { JdbcDataSource.ID});\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:        return keyHolder.getKey().longValue();\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:    public int update(JdbcDataSource ds) {\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:        String rawPassword = ds.getPassword();\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:        if (StringUtils.isEmpty(rawPassword)) {\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:            String sql = \"UPDATE p_datasource SET name=?, connection_url=?, driver_class_name=?, username=?, ping=? WHERE id=?\";\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:            return jt.update(sql, new Object[]{\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:                    ds.getName(),\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:                    ds.getConnectionUrl(),\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:                    ds.getDriverClassName(),\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:                    ds.getUsername(),\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:                    ds.getPing(),\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:                    ds.getId()\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:            });\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:        } else {\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:            String encryptedPassword = PasswordUtils.getEncryptedPassword(rawPassword);\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:            String sql = \"UPDATE p_datasource SET name=?, connection_url=?, driver_class_name=?, username=?, password=?, ping=? WHERE id=?\";\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:            return jt.update(sql, new Object[]{\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:                    ds.getName(),\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:                    ds.getConnectionUrl(),\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:                    ds.getDriverClassName(),\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:                    ds.getUsername(),\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:                    encryptedPassword,\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:                    ds.getPing(),\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:                    ds.getId()\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:            });\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:        }\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:    public int delete(long id) {\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:        String sql = \"DELETE FROM p_datasource WHERE id=?\";\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:        return jt.update(sql, new Object[]{ id });\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:    private static class JdbcDataSourceInfoMapper implements RowMapper<JdbcDataSource> {\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:        @Override\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:        public JdbcDataSource mapRow(ResultSet rs, int i) throws SQLException {\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:            JdbcDataSource ds = new JdbcDataSource();\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:            ds.setId(rs.getLong(JdbcDataSource.ID));\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:            ds.setName(rs.getString(JdbcDataSource.NAME));\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:            ds.setConnectionUrl(rs.getString(JdbcDataSource.CONNECTION_URL));\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:            ds.setDriverClassName(rs.getString(JdbcDataSource.DRIVER_CLASS_NAME));\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:            ds.setUsername(rs.getString(JdbcDataSource.USERNAME));\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:            ds.setPing(rs.getString(JdbcDataSource.PING));\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:            return ds;\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:        }\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:    private static class JdbcDataSourceRowMapper implements RowMapper<JdbcDataSource> {\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:        @Override\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:        public JdbcDataSource mapRow(ResultSet rs, int i) throws SQLException {\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:            JdbcDataSource ds = new JdbcDataSource();\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:            ds.setId(rs.getLong(JdbcDataSource.ID));\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:            ds.setName(rs.getString(JdbcDataSource.NAME));\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:            ds.setConnectionUrl(rs.getString(JdbcDataSource.CONNECTION_URL));\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:            ds.setDriverClassName(rs.getString(JdbcDataSource.DRIVER_CLASS_NAME));\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:            ds.setUsername(rs.getString(JdbcDataSource.USERNAME));\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:            String encryptedPassword = rs.getString(JdbcDataSource.PASSWORD);\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:            String rawPassword = PasswordUtils.getDecryptedPassword(encryptedPassword);\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:            ds.setPassword(rawPassword);\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:            ds.setPing(rs.getString(JdbcDataSource.PING));\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:            return ds;\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:        }\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/JdbcDataSourceDao.java:}\nsrc/main/java/com/shzlw/poli/dao/DaoHelper.java:package com.shzlw.poli.dao;\nsrc/main/java/com/shzlw/poli/dao/DaoHelper.java:\nsrc/main/java/com/shzlw/poli/dao/DaoHelper.java:public final class DaoHelper {\nsrc/main/java/com/shzlw/poli/dao/DaoHelper.java:\nsrc/main/java/com/shzlw/poli/dao/DaoHelper.java:    public static final int DEFAULT_LIMIT = 20;\nsrc/main/java/com/shzlw/poli/dao/DaoHelper.java:    public static final int DEFAULT_OFFSET = 0;\nsrc/main/java/com/shzlw/poli/dao/DaoHelper.java:\nsrc/main/java/com/shzlw/poli/dao/DaoHelper.java:    private DaoHelper() {}\nsrc/main/java/com/shzlw/poli/dao/DaoHelper.java:\nsrc/main/java/com/shzlw/poli/dao/DaoHelper.java:    public static int toOffset(int page, int pageSize) {\nsrc/main/java/com/shzlw/poli/dao/DaoHelper.java:        if (page < 1 || pageSize < 1) {\nsrc/main/java/com/shzlw/poli/dao/DaoHelper.java:            return DEFAULT_OFFSET;\nsrc/main/java/com/shzlw/poli/dao/DaoHelper.java:        }\nsrc/main/java/com/shzlw/poli/dao/DaoHelper.java:\nsrc/main/java/com/shzlw/poli/dao/DaoHelper.java:        return (page - 1) * pageSize;\nsrc/main/java/com/shzlw/poli/dao/DaoHelper.java:    }\nsrc/main/java/com/shzlw/poli/dao/DaoHelper.java:\nsrc/main/java/com/shzlw/poli/dao/DaoHelper.java:    public static int toLimit(int pageSize) {\nsrc/main/java/com/shzlw/poli/dao/DaoHelper.java:        return pageSize > 0 ? pageSize : DEFAULT_LIMIT;\nsrc/main/java/com/shzlw/poli/dao/DaoHelper.java:    }\nsrc/main/java/com/shzlw/poli/dao/DaoHelper.java:\nsrc/main/java/com/shzlw/poli/dao/DaoHelper.java:    public static String getLikeParam(String val) {\nsrc/main/java/com/shzlw/poli/dao/DaoHelper.java:        return \"%\" + val + \"%\";\nsrc/main/java/com/shzlw/poli/dao/DaoHelper.java:    }\nsrc/main/java/com/shzlw/poli/dao/DaoHelper.java:}\nsrc/main/java/com/shzlw/poli/dao/UserFavouriteDao.java:package com.shzlw.poli.dao;\nsrc/main/java/com/shzlw/poli/dao/UserFavouriteDao.java:\nsrc/main/java/com/shzlw/poli/dao/UserFavouriteDao.java:import org.springframework.beans.factory.annotation.Autowired;\nsrc/main/java/com/shzlw/poli/dao/UserFavouriteDao.java:import org.springframework.jdbc.core.JdbcTemplate;\nsrc/main/java/com/shzlw/poli/dao/UserFavouriteDao.java:import org.springframework.stereotype.Repository;\nsrc/main/java/com/shzlw/poli/dao/UserFavouriteDao.java:\nsrc/main/java/com/shzlw/poli/dao/UserFavouriteDao.java:@Repository\nsrc/main/java/com/shzlw/poli/dao/UserFavouriteDao.java:public class UserFavouriteDao {\nsrc/main/java/com/shzlw/poli/dao/UserFavouriteDao.java:\nsrc/main/java/com/shzlw/poli/dao/UserFavouriteDao.java:    @Autowired\nsrc/main/java/com/shzlw/poli/dao/UserFavouriteDao.java:    JdbcTemplate jt;\nsrc/main/java/com/shzlw/poli/dao/UserFavouriteDao.java:\nsrc/main/java/com/shzlw/poli/dao/UserFavouriteDao.java:    public boolean isFavourite(long userId, long reportId) {\nsrc/main/java/com/shzlw/poli/dao/UserFavouriteDao.java:        String sql = \"SELECT COUNT(1) FROM p_user_favourite WHERE user_id=? AND report_id=?\";\nsrc/main/java/com/shzlw/poli/dao/UserFavouriteDao.java:        int count = jt.queryForObject(sql, new Object[]{ userId, reportId }, Integer.class);\nsrc/main/java/com/shzlw/poli/dao/UserFavouriteDao.java:        return count != 0;\nsrc/main/java/com/shzlw/poli/dao/UserFavouriteDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/UserFavouriteDao.java:\nsrc/main/java/com/shzlw/poli/dao/UserFavouriteDao.java:    public int insertFavourite(long userId, long reportId) {\nsrc/main/java/com/shzlw/poli/dao/UserFavouriteDao.java:        String sql = \"INSERT INTO p_user_favourite(user_id, report_id) VALUES(?, ?)\";\nsrc/main/java/com/shzlw/poli/dao/UserFavouriteDao.java:        return jt.update(sql, new Object[]{ userId, reportId });\nsrc/main/java/com/shzlw/poli/dao/UserFavouriteDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/UserFavouriteDao.java:\nsrc/main/java/com/shzlw/poli/dao/UserFavouriteDao.java:    public int deleteFavourite(long userId, long reportId) {\nsrc/main/java/com/shzlw/poli/dao/UserFavouriteDao.java:        String sql = \"DELETE FROM p_user_favourite WHERE user_id=? AND report_id=?\";\nsrc/main/java/com/shzlw/poli/dao/UserFavouriteDao.java:        return jt.update(sql, new Object[]{ userId, reportId });\nsrc/main/java/com/shzlw/poli/dao/UserFavouriteDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/UserFavouriteDao.java:\nsrc/main/java/com/shzlw/poli/dao/UserFavouriteDao.java:    public int deleteByUserId(long userId) {\nsrc/main/java/com/shzlw/poli/dao/UserFavouriteDao.java:        String sql = \"DELETE FROM p_user_favourite WHERE user_id=?\";\nsrc/main/java/com/shzlw/poli/dao/UserFavouriteDao.java:        return jt.update(sql, new Object[]{ userId });\nsrc/main/java/com/shzlw/poli/dao/UserFavouriteDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/UserFavouriteDao.java:\nsrc/main/java/com/shzlw/poli/dao/UserFavouriteDao.java:    public int deleteByReportId(long reportId) {\nsrc/main/java/com/shzlw/poli/dao/UserFavouriteDao.java:        String sql = \"DELETE FROM p_user_favourite WHERE report_id=?\";\nsrc/main/java/com/shzlw/poli/dao/UserFavouriteDao.java:        return jt.update(sql, new Object[]{ reportId });\nsrc/main/java/com/shzlw/poli/dao/UserFavouriteDao.java:    }\nsrc/main/java/com/shzlw/poli/dao/UserFavouriteDao.java:}\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:package com.shzlw.poli.model;\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:import java.util.Objects;\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:public class JdbcDataSource {\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:    public static final String ID = \"id\";\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:    public static final String NAME = \"name\";\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:    public static final String USERNAME = \"username\";\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:    public static final String PASSWORD = \"password\";\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:    public static final String CONNECTION_URL = \"connection_url\";\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:    public static final String DRIVER_CLASS_NAME = \"driver_class_name\";\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:    public static final String PING = \"ping\";\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:    private long id;\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:    private String name;\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:    private String connectionUrl;\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:    private String driverClassName;\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:    private String username;\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:    private String password;\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:    private String ping;\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:    public JdbcDataSource() {}\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:    public long getId() {\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:        return id;\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:    }\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:    public void setId(long id) {\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:        this.id = id;\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:    }\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:    public String getName() {\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:        return name;\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:    }\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:    public void setName(String name) {\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:        this.name = name;\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:    }\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:    public String getConnectionUrl() {\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:        return connectionUrl;\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:    }\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:    public void setConnectionUrl(String connectionUrl) {\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:        this.connectionUrl = connectionUrl;\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:    }\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:    public String getDriverClassName() {\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:        return driverClassName;\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:    }\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:    public void setDriverClassName(String driverClassName) {\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:        this.driverClassName = driverClassName;\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:    }\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:    public String getUsername() {\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:        return username;\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:    }\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:    public void setUsername(String username) {\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:        this.username = username;\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:    }\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:    public String getPassword() {\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:        return password;\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:    }\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:    public void setPassword(String password) {\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:        this.password = password;\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:    }\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:    public String getPing() {\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:        return ping;\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:    }\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:    public void setPing(String ping) {\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:        this.ping = ping;\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:    }\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:    @Override\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:    public boolean equals(Object o) {\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:        if (this == o) return true;\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:        if (o == null || getClass() != o.getClass()) return false;\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:        JdbcDataSource that = (JdbcDataSource) o;\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:        return id == that.id &&\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:                Objects.equals(name, that.name) &&\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:                Objects.equals(connectionUrl, that.connectionUrl) &&\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:                Objects.equals(driverClassName, that.driverClassName);\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:    }\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:    @Override\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:    public int hashCode() {\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:        return Objects.hash(id, name, connectionUrl, driverClassName);\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:    }\nsrc/main/java/com/shzlw/poli/model/JdbcDataSource.java:}\nsrc/main/java/com/shzlw/poli/model/Report.java:package com.shzlw.poli.model;\nsrc/main/java/com/shzlw/poli/model/Report.java:\nsrc/main/java/com/shzlw/poli/model/Report.java:import com.fasterxml.jackson.annotation.JsonProperty;\nsrc/main/java/com/shzlw/poli/model/Report.java:import com.fasterxml.jackson.annotation.JsonRawValue;\nsrc/main/java/com/shzlw/poli/model/Report.java:import com.fasterxml.jackson.databind.annotation.JsonDeserialize;\nsrc/main/java/com/shzlw/poli/model/Report.java:import com.shzlw.poli.util.RawStringDeserialzier;\nsrc/main/java/com/shzlw/poli/model/Report.java:\nsrc/main/java/com/shzlw/poli/model/Report.java:import java.util.Objects;\nsrc/main/java/com/shzlw/poli/model/Report.java:\nsrc/main/java/com/shzlw/poli/model/Report.java:public class Report {\nsrc/main/java/com/shzlw/poli/model/Report.java:\nsrc/main/java/com/shzlw/poli/model/Report.java:    public static final String TABLE = \"p_report\";\nsrc/main/java/com/shzlw/poli/model/Report.java:    public static final String ID = \"id\";\nsrc/main/java/com/shzlw/poli/model/Report.java:    public static final String NAME = \"name\";\nsrc/main/java/com/shzlw/poli/model/Report.java:    public static final String STYLE = \"style\";\nsrc/main/java/com/shzlw/poli/model/Report.java:    public static final String PROJECT = \"project\";\nsrc/main/java/com/shzlw/poli/model/Report.java:\nsrc/main/java/com/shzlw/poli/model/Report.java:    private long id;\nsrc/main/java/com/shzlw/poli/model/Report.java:    private String name;\nsrc/main/java/com/shzlw/poli/model/Report.java:\nsrc/main/java/com/shzlw/poli/model/Report.java:    /**\nsrc/main/java/com/shzlw/poli/model/Report.java:     * Json field\nsrc/main/java/com/shzlw/poli/model/Report.java:     *\nsrc/main/java/com/shzlw/poli/model/Report.java:     * {\nsrc/main/java/com/shzlw/poli/model/Report.java:     *     height: 600,\nsrc/main/java/com/shzlw/poli/model/Report.java:     *     backgroundColor: '#123456'\nsrc/main/java/com/shzlw/poli/model/Report.java:     * }\nsrc/main/java/com/shzlw/poli/model/Report.java:     */\nsrc/main/java/com/shzlw/poli/model/Report.java:    private String style;\nsrc/main/java/com/shzlw/poli/model/Report.java:\nsrc/main/java/com/shzlw/poli/model/Report.java:    private String project;\nsrc/main/java/com/shzlw/poli/model/Report.java:\nsrc/main/java/com/shzlw/poli/model/Report.java:    @JsonProperty(value = \"isFavourite\")\nsrc/main/java/com/shzlw/poli/model/Report.java:    private boolean isFavourite;\nsrc/main/java/com/shzlw/poli/model/Report.java:\nsrc/main/java/com/shzlw/poli/model/Report.java:    public long getId() {\nsrc/main/java/com/shzlw/poli/model/Report.java:        return id;\nsrc/main/java/com/shzlw/poli/model/Report.java:    }\nsrc/main/java/com/shzlw/poli/model/Report.java:\nsrc/main/java/com/shzlw/poli/model/Report.java:    public void setId(long id) {\nsrc/main/java/com/shzlw/poli/model/Report.java:        this.id = id;\nsrc/main/java/com/shzlw/poli/model/Report.java:    }\nsrc/main/java/com/shzlw/poli/model/Report.java:\nsrc/main/java/com/shzlw/poli/model/Report.java:    public String getName() {\nsrc/main/java/com/shzlw/poli/model/Report.java:        return name;\nsrc/main/java/com/shzlw/poli/model/Report.java:    }\nsrc/main/java/com/shzlw/poli/model/Report.java:\nsrc/main/java/com/shzlw/poli/model/Report.java:    public void setName(String name) {\nsrc/main/java/com/shzlw/poli/model/Report.java:        this.name = name;\nsrc/main/java/com/shzlw/poli/model/Report.java:    }\nsrc/main/java/com/shzlw/poli/model/Report.java:\nsrc/main/java/com/shzlw/poli/model/Report.java:    public String getProject() {\nsrc/main/java/com/shzlw/poli/model/Report.java:        return project;\nsrc/main/java/com/shzlw/poli/model/Report.java:    }\nsrc/main/java/com/shzlw/poli/model/Report.java:\nsrc/main/java/com/shzlw/poli/model/Report.java:    public void setProject(String project) {\nsrc/main/java/com/shzlw/poli/model/Report.java:        this.project = project;\nsrc/main/java/com/shzlw/poli/model/Report.java:    }\nsrc/main/java/com/shzlw/poli/model/Report.java:\nsrc/main/java/com/shzlw/poli/model/Report.java:    public boolean isFavourite() {\nsrc/main/java/com/shzlw/poli/model/Report.java:        return isFavourite;\nsrc/main/java/com/shzlw/poli/model/Report.java:    }\nsrc/main/java/com/shzlw/poli/model/Report.java:\nsrc/main/java/com/shzlw/poli/model/Report.java:    public void setFavourite(boolean favourite) {\nsrc/main/java/com/shzlw/poli/model/Report.java:        isFavourite = favourite;\nsrc/main/java/com/shzlw/poli/model/Report.java:    }\nsrc/main/java/com/shzlw/poli/model/Report.java:\nsrc/main/java/com/shzlw/poli/model/Report.java:    @JsonRawValue\nsrc/main/java/com/shzlw/poli/model/Report.java:    public String getStyle() {\nsrc/main/java/com/shzlw/poli/model/Report.java:        return style;\nsrc/main/java/com/shzlw/poli/model/Report.java:    }\nsrc/main/java/com/shzlw/poli/model/Report.java:\nsrc/main/java/com/shzlw/poli/model/Report.java:    @JsonDeserialize(using = RawStringDeserialzier.class)\nsrc/main/java/com/shzlw/poli/model/Report.java:    public void setStyle(String style) {\nsrc/main/java/com/shzlw/poli/model/Report.java:        this.style = style;\nsrc/main/java/com/shzlw/poli/model/Report.java:    }\nsrc/main/java/com/shzlw/poli/model/Report.java:\nsrc/main/java/com/shzlw/poli/model/Report.java:    @Override\nsrc/main/java/com/shzlw/poli/model/Report.java:    public boolean equals(Object o) {\nsrc/main/java/com/shzlw/poli/model/Report.java:        if (this == o) return true;\nsrc/main/java/com/shzlw/poli/model/Report.java:        if (o == null || getClass() != o.getClass()) return false;\nsrc/main/java/com/shzlw/poli/model/Report.java:        Report report = (Report) o;\nsrc/main/java/com/shzlw/poli/model/Report.java:        return id == report.id &&\nsrc/main/java/com/shzlw/poli/model/Report.java:                name.equals(report.name);\nsrc/main/java/com/shzlw/poli/model/Report.java:    }\nsrc/main/java/com/shzlw/poli/model/Report.java:\nsrc/main/java/com/shzlw/poli/model/Report.java:    @Override\nsrc/main/java/com/shzlw/poli/model/Report.java:    public int hashCode() {\nsrc/main/java/com/shzlw/poli/model/Report.java:        return Objects.hash(id, name);\nsrc/main/java/com/shzlw/poli/model/Report.java:    }\nsrc/main/java/com/shzlw/poli/model/Report.java:\nsrc/main/java/com/shzlw/poli/model/Report.java:    @Override\nsrc/main/java/com/shzlw/poli/model/Report.java:    public String toString() {\nsrc/main/java/com/shzlw/poli/model/Report.java:        return \"Report{\" +\nsrc/main/java/com/shzlw/poli/model/Report.java:                \"id=\" + id +\nsrc/main/java/com/shzlw/poli/model/Report.java:                \", name='\" + name + '\\'' +\nsrc/main/java/com/shzlw/poli/model/Report.java:                \", style='\" + style + '\\'' +\nsrc/main/java/com/shzlw/poli/model/Report.java:                '}';\nsrc/main/java/com/shzlw/poli/model/Report.java:    }\nsrc/main/java/com/shzlw/poli/model/Report.java:}\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:package com.shzlw.poli.model;\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:public class SharedReport {\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:    public static final String ID = \"id\";\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:    public static final String SHARE_KEY = \"share_key\";\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:    public static final String REPORT_ID = \"report_id\";\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:    public static final String REPORT_TYPE = \"report_type\";\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:    public static final String USER_ID = \"user_id\";\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:    public static final String CREATED_AT = \"created_at\";\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:    public static final String EXPIRED_BY = \"expired_by\";\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:    private long id;\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:    private String shareKey;\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:    private long reportId;\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:    private String reportType;\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:    private long userId;\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:    private long createdAt;\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:    private long expiredBy;\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:    public SharedReport() {}\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:    public long getId() {\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:        return id;\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:    }\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:    public void setId(long id) {\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:        this.id = id;\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:    }\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:    public String getShareKey() {\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:        return shareKey;\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:    }\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:    public void setShareKey(String shareKey) {\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:        this.shareKey = shareKey;\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:    }\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:    public long getReportId() {\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:        return reportId;\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:    }\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:    public void setReportId(long reportId) {\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:        this.reportId = reportId;\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:    }\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:    public String getReportType() {\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:        return reportType;\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:    }\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:    public void setReportType(String reportType) {\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:        this.reportType = reportType;\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:    }\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:    public long getUserId() {\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:        return userId;\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:    }\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:    public void setUserId(long userId) {\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:        this.userId = userId;\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:    }\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:    public long getCreatedAt() {\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:        return createdAt;\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:    }\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:    public void setCreatedAt(long createdAt) {\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:        this.createdAt = createdAt;\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:    }\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:    public long getExpiredBy() {\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:        return expiredBy;\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:    }\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:    public void setExpiredBy(long expiredBy) {\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:        this.expiredBy = expiredBy;\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:    }\nsrc/main/java/com/shzlw/poli/model/SharedReport.java:}\nsrc/main/java/com/shzlw/poli/model/Component.java:package com.shzlw.poli.model;\nsrc/main/java/com/shzlw/poli/model/Component.java:\nsrc/main/java/com/shzlw/poli/model/Component.java:import com.fasterxml.jackson.annotation.JsonRawValue;\nsrc/main/java/com/shzlw/poli/model/Component.java:import com.fasterxml.jackson.databind.annotation.JsonDeserialize;\nsrc/main/java/com/shzlw/poli/model/Component.java:import com.shzlw.poli.util.RawStringDeserialzier;\nsrc/main/java/com/shzlw/poli/model/Component.java:\nsrc/main/java/com/shzlw/poli/model/Component.java:public class Component {\nsrc/main/java/com/shzlw/poli/model/Component.java:\nsrc/main/java/com/shzlw/poli/model/Component.java:    public static final String ID = \"id\";\nsrc/main/java/com/shzlw/poli/model/Component.java:    public static final String REPORT_ID = \"report_id\";\nsrc/main/java/com/shzlw/poli/model/Component.java:    public static final String DATASOURCE_ID = \"datasource_id\";\nsrc/main/java/com/shzlw/poli/model/Component.java:    public static final String TITLE = \"title\";\nsrc/main/java/com/shzlw/poli/model/Component.java:    public static final String X = \"x\";\nsrc/main/java/com/shzlw/poli/model/Component.java:    public static final String Y = \"y\";\nsrc/main/java/com/shzlw/poli/model/Component.java:    public static final String WIDTH = \"width\";\nsrc/main/java/com/shzlw/poli/model/Component.java:    public static final String HEIGHT = \"height\";\nsrc/main/java/com/shzlw/poli/model/Component.java:    public static final String TYPE = \"type\";\nsrc/main/java/com/shzlw/poli/model/Component.java:    public static final String SUB_TYPE = \"sub_type\";\nsrc/main/java/com/shzlw/poli/model/Component.java:    public static final String SQL_QUERY = \"sql_query\";\nsrc/main/java/com/shzlw/poli/model/Component.java:    public static final String DATA = \"data\";\nsrc/main/java/com/shzlw/poli/model/Component.java:    public static final String DRILL_THROUGH = \"drill_through\";\nsrc/main/java/com/shzlw/poli/model/Component.java:    public static final String STYLE = \"style\";\nsrc/main/java/com/shzlw/poli/model/Component.java:\nsrc/main/java/com/shzlw/poli/model/Component.java:    private long id;\nsrc/main/java/com/shzlw/poli/model/Component.java:    private String title;\nsrc/main/java/com/shzlw/poli/model/Component.java:    private int x;\nsrc/main/java/com/shzlw/poli/model/Component.java:    private int y;\nsrc/main/java/com/shzlw/poli/model/Component.java:    private int width;\nsrc/main/java/com/shzlw/poli/model/Component.java:    private int height;\nsrc/main/java/com/shzlw/poli/model/Component.java:    private long jdbcDataSourceId;\nsrc/main/java/com/shzlw/poli/model/Component.java:    private long reportId;\nsrc/main/java/com/shzlw/poli/model/Component.java:    private String sqlQuery;\nsrc/main/java/com/shzlw/poli/model/Component.java:\nsrc/main/java/com/shzlw/poli/model/Component.java:    private String type;\nsrc/main/java/com/shzlw/poli/model/Component.java:\nsrc/main/java/com/shzlw/poli/model/Component.java:    private String subType;\nsrc/main/java/com/shzlw/poli/model/Component.java:\nsrc/main/java/com/shzlw/poli/model/Component.java:    /**\nsrc/main/java/com/shzlw/poli/model/Component.java:     * Json column\nsrc/main/java/com/shzlw/poli/model/Component.java:     * Chart configuration\nsrc/main/java/com/shzlw/poli/model/Component.java:     */\nsrc/main/java/com/shzlw/poli/model/Component.java:    private String data;\nsrc/main/java/com/shzlw/poli/model/Component.java:\nsrc/main/java/com/shzlw/poli/model/Component.java:    /**\nsrc/main/java/com/shzlw/poli/model/Component.java:     * Json column\nsrc/main/java/com/shzlw/poli/model/Component.java:     */\nsrc/main/java/com/shzlw/poli/model/Component.java:    private String drillThrough;\nsrc/main/java/com/shzlw/poli/model/Component.java:\nsrc/main/java/com/shzlw/poli/model/Component.java:    /**\nsrc/main/java/com/shzlw/poli/model/Component.java:     * Json column\nsrc/main/java/com/shzlw/poli/model/Component.java:     */\nsrc/main/java/com/shzlw/poli/model/Component.java:    private String style;\nsrc/main/java/com/shzlw/poli/model/Component.java:\nsrc/main/java/com/shzlw/poli/model/Component.java:    public long getId() {\nsrc/main/java/com/shzlw/poli/model/Component.java:        return id;\nsrc/main/java/com/shzlw/poli/model/Component.java:    }\nsrc/main/java/com/shzlw/poli/model/Component.java:\nsrc/main/java/com/shzlw/poli/model/Component.java:    public void setId(long id) {\nsrc/main/java/com/shzlw/poli/model/Component.java:        this.id = id;\nsrc/main/java/com/shzlw/poli/model/Component.java:    }\nsrc/main/java/com/shzlw/poli/model/Component.java:\nsrc/main/java/com/shzlw/poli/model/Component.java:    public String getTitle() {\nsrc/main/java/com/shzlw/poli/model/Component.java:        return title;\nsrc/main/java/com/shzlw/poli/model/Component.java:    }\nsrc/main/java/com/shzlw/poli/model/Component.java:\nsrc/main/java/com/shzlw/poli/model/Component.java:    public void setTitle(String title) {\nsrc/main/java/com/shzlw/poli/model/Component.java:        this.title = title;\nsrc/main/java/com/shzlw/poli/model/Component.java:    }\nsrc/main/java/com/shzlw/poli/model/Component.java:\nsrc/main/java/com/shzlw/poli/model/Component.java:    public int getX() {\nsrc/main/java/com/shzlw/poli/model/Component.java:        return x;\nsrc/main/java/com/shzlw/poli/model/Component.java:    }\nsrc/main/java/com/shzlw/poli/model/Component.java:\nsrc/main/java/com/shzlw/poli/model/Component.java:    public void setX(int x) {\nsrc/main/java/com/shzlw/poli/model/Component.java:        this.x = x;\nsrc/main/java/com/shzlw/poli/model/Component.java:    }\nsrc/main/java/com/shzlw/poli/model/Component.java:\nsrc/main/java/com/shzlw/poli/model/Component.java:    public int getY() {\nsrc/main/java/com/shzlw/poli/model/Component.java:        return y;\nsrc/main/java/com/shzlw/poli/model/Component.java:    }\nsrc/main/java/com/shzlw/poli/model/Component.java:\nsrc/main/java/com/shzlw/poli/model/Component.java:    public void setY(int y) {\nsrc/main/java/com/shzlw/poli/model/Component.java:        this.y = y;\nsrc/main/java/com/shzlw/poli/model/Component.java:    }\nsrc/main/java/com/shzlw/poli/model/Component.java:\nsrc/main/java/com/shzlw/poli/model/Component.java:    public int getWidth() {\nsrc/main/java/com/shzlw/poli/model/Component.java:        return width;\nsrc/main/java/com/shzlw/poli/model/Component.java:    }\nsrc/main/java/com/shzlw/poli/model/Component.java:\nsrc/main/java/com/shzlw/poli/model/Component.java:    public void setWidth(int width) {\nsrc/main/java/com/shzlw/poli/model/Component.java:        this.width = width;\nsrc/main/java/com/shzlw/poli/model/Component.java:    }\nsrc/main/java/com/shzlw/poli/model/Component.java:\nsrc/main/java/com/shzlw/poli/model/Component.java:    public int getHeight() {\nsrc/main/java/com/shzlw/poli/model/Component.java:        return height;\nsrc/main/java/com/shzlw/poli/model/Component.java:    }\nsrc/main/java/com/shzlw/poli/model/Component.java:\nsrc/main/java/com/shzlw/poli/model/Component.java:    public void setHeight(int height) {\nsrc/main/java/com/shzlw/poli/model/Component.java:        this.height = height;\nsrc/main/java/com/shzlw/poli/model/Component.java:    }\nsrc/main/java/com/shzlw/poli/model/Component.java:\nsrc/main/java/com/shzlw/poli/model/Component.java:    public long getJdbcDataSourceId() {\nsrc/main/java/com/shzlw/poli/model/Component.java:        return jdbcDataSourceId;\nsrc/main/java/com/shzlw/poli/model/Component.java:    }\nsrc/main/java/com/shzlw/poli/model/Component.java:\nsrc/main/java/com/shzlw/poli/model/Component.java:    public void setJdbcDataSourceId(long jdbcDataSourceId) {\nsrc/main/java/com/shzlw/poli/model/Component.java:        this.jdbcDataSourceId = jdbcDataSourceId;\nsrc/main/java/com/shzlw/poli/model/Component.java:    }\nsrc/main/java/com/shzlw/poli/model/Component.java:\nsrc/main/java/com/shzlw/poli/model/Component.java:    public long getReportId() {\nsrc/main/java/com/shzlw/poli/model/Component.java:        return reportId;\nsrc/main/java/com/shzlw/poli/model/Component.java:    }\nsrc/main/java/com/shzlw/poli/model/Component.java:\nsrc/main/java/com/shzlw/poli/model/Component.java:    public void setReportId(long reportId) {\nsrc/main/java/com/shzlw/poli/model/Component.java:        this.reportId = reportId;\nsrc/main/java/com/shzlw/poli/model/Component.java:    }\nsrc/main/java/com/shzlw/poli/model/Component.java:\nsrc/main/java/com/shzlw/poli/model/Component.java:    public String getSqlQuery() {\nsrc/main/java/com/shzlw/poli/model/Component.java:        return sqlQuery;\nsrc/main/java/com/shzlw/poli/model/Component.java:    }\nsrc/main/java/com/shzlw/poli/model/Component.java:\nsrc/main/java/com/shzlw/poli/model/Component.java:    public void setSqlQuery(String sqlQuery) {\nsrc/main/java/com/shzlw/poli/model/Component.java:        this.sqlQuery = sqlQuery;\nsrc/main/java/com/shzlw/poli/model/Component.java:    }\nsrc/main/java/com/shzlw/poli/model/Component.java:\nsrc/main/java/com/shzlw/poli/model/Component.java:    public String getType() {\nsrc/main/java/com/shzlw/poli/model/Component.java:        return type;\nsrc/main/java/com/shzlw/poli/model/Component.java:    }\nsrc/main/java/com/shzlw/poli/model/Component.java:\nsrc/main/java/com/shzlw/poli/model/Component.java:    public void setType(String type) {\nsrc/main/java/com/shzlw/poli/model/Component.java:        this.type = type;\nsrc/main/java/com/shzlw/poli/model/Component.java:    }\nsrc/main/java/com/shzlw/poli/model/Component.java:\nsrc/main/java/com/shzlw/poli/model/Component.java:    public String getSubType() {\nsrc/main/java/com/shzlw/poli/model/Component.java:        return subType;\nsrc/main/java/com/shzlw/poli/model/Component.java:    }\nsrc/main/java/com/shzlw/poli/model/Component.java:\nsrc/main/java/com/shzlw/poli/model/Component.java:    public void setSubType(String subType) {\nsrc/main/java/com/shzlw/poli/model/Component.java:        this.subType = subType;\nsrc/main/java/com/shzlw/poli/model/Component.java:    }\nsrc/main/java/com/shzlw/poli/model/Component.java:\nsrc/main/java/com/shzlw/poli/model/Component.java:    @JsonRawValue\nsrc/main/java/com/shzlw/poli/model/Component.java:    public String getData() {\nsrc/main/java/com/shzlw/poli/model/Component.java:        return data;\nsrc/main/java/com/shzlw/poli/model/Component.java:    }\nsrc/main/java/com/shzlw/poli/model/Component.java:\nsrc/main/java/com/shzlw/poli/model/Component.java:    @JsonDeserialize(using = RawStringDeserialzier.class)\nsrc/main/java/com/shzlw/poli/model/Component.java:    public void setData(String data) {\nsrc/main/java/com/shzlw/poli/model/Component.java:        this.data = data;\nsrc/main/java/com/shzlw/poli/model/Component.java:    }\nsrc/main/java/com/shzlw/poli/model/Component.java:\nsrc/main/java/com/shzlw/poli/model/Component.java:    @JsonRawValue\nsrc/main/java/com/shzlw/poli/model/Component.java:    public String getDrillThrough() {\nsrc/main/java/com/shzlw/poli/model/Component.java:        return drillThrough;\nsrc/main/java/com/shzlw/poli/model/Component.java:    }\nsrc/main/java/com/shzlw/poli/model/Component.java:\nsrc/main/java/com/shzlw/poli/model/Component.java:    @JsonDeserialize(using = RawStringDeserialzier.class)\nsrc/main/java/com/shzlw/poli/model/Component.java:    public void setDrillThrough(String drillThrough) {\nsrc/main/java/com/shzlw/poli/model/Component.java:        this.drillThrough = drillThrough;\nsrc/main/java/com/shzlw/poli/model/Component.java:    }\nsrc/main/java/com/shzlw/poli/model/Component.java:\nsrc/main/java/com/shzlw/poli/model/Component.java:    @JsonRawValue\nsrc/main/java/com/shzlw/poli/model/Component.java:    public String getStyle() {\nsrc/main/java/com/shzlw/poli/model/Component.java:        return style;\nsrc/main/java/com/shzlw/poli/model/Component.java:    }\nsrc/main/java/com/shzlw/poli/model/Component.java:\nsrc/main/java/com/shzlw/poli/model/Component.java:    @JsonDeserialize(using = RawStringDeserialzier.class)\nsrc/main/java/com/shzlw/poli/model/Component.java:    public void setStyle(String style) {\nsrc/main/java/com/shzlw/poli/model/Component.java:        this.style = style;\nsrc/main/java/com/shzlw/poli/model/Component.java:    }\nsrc/main/java/com/shzlw/poli/model/Component.java:}\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:package com.shzlw.poli.model;\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:public class SavedQuery {\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:    public static final String ID = \"id\";\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:    public static final String DATASOURCE_ID = \"datasource_id\";\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:    public static final String NAME = \"name\";\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:    public static final String SQL_QUERY = \"sql_query\";\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:    public static final String ENDPOINT_NAME = \"endpoint_name\";\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:    public static final String ENDPOINT_ACCESSCODE = \"endpoint_accesscode\";\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:    private long id;\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:    private String name;\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:    private String sqlQuery;\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:    private long jdbcDataSourceId;\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:    // Http endpoint\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:    private String endpointName;\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:    private String endpointAccessCode;\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:    public SavedQuery() {}\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:    public long getId() {\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:        return id;\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:    }\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:    public void setId(long id) {\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:        this.id = id;\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:    }\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:    public String getName() {\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:        return name;\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:    }\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:    public void setName(String name) {\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:        this.name = name;\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:    }\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:    public String getSqlQuery() {\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:        return sqlQuery;\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:    }\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:    public void setSqlQuery(String sqlQuery) {\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:        this.sqlQuery = sqlQuery;\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:    }\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:    public long getJdbcDataSourceId() {\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:        return jdbcDataSourceId;\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:    }\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:    public void setJdbcDataSourceId(long jdbcDataSourceId) {\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:        this.jdbcDataSourceId = jdbcDataSourceId;\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:    }\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:    public String getEndpointName() {\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:        return endpointName;\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:    }\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:    public void setEndpointName(String endpointName) {\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:        this.endpointName = endpointName;\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:    }\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:    public String getEndpointAccessCode() {\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:        return endpointAccessCode;\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:    }\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:    public void setEndpointAccessCode(String endpointAccessCode) {\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:        this.endpointAccessCode = endpointAccessCode;\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:    }\nsrc/main/java/com/shzlw/poli/model/SavedQuery.java:}\nsrc/main/java/com/shzlw/poli/model/User.java:package com.shzlw.poli.model;\nsrc/main/java/com/shzlw/poli/model/User.java:\nsrc/main/java/com/shzlw/poli/model/User.java:import java.time.LocalDateTime;\nsrc/main/java/com/shzlw/poli/model/User.java:import java.util.ArrayList;\nsrc/main/java/com/shzlw/poli/model/User.java:import java.util.List;\nsrc/main/java/com/shzlw/poli/model/User.java:import java.util.Objects;\nsrc/main/java/com/shzlw/poli/model/User.java:\nsrc/main/java/com/shzlw/poli/model/User.java:public class User {\nsrc/main/java/com/shzlw/poli/model/User.java:\nsrc/main/java/com/shzlw/poli/model/User.java:    public static final String ID = \"id\";\nsrc/main/java/com/shzlw/poli/model/User.java:    public static final String USERNAME = \"username\";\nsrc/main/java/com/shzlw/poli/model/User.java:    public static final String NAME = \"name\";\nsrc/main/java/com/shzlw/poli/model/User.java:    public static final String PASSWORD = \"password\";\nsrc/main/java/com/shzlw/poli/model/User.java:    public static final String TEMP_PASSWORD = \"temp_password\";\nsrc/main/java/com/shzlw/poli/model/User.java:    public static final String SESSION_KEY = \"session_key\";\nsrc/main/java/com/shzlw/poli/model/User.java:    public static final String SESSION_TIMEOUT = \"session_timeout\";\nsrc/main/java/com/shzlw/poli/model/User.java:    public static final String SYS_ROLE = \"sys_role\";\nsrc/main/java/com/shzlw/poli/model/User.java:    public static final String API_KEY = \"api_key\";\nsrc/main/java/com/shzlw/poli/model/User.java:\nsrc/main/java/com/shzlw/poli/model/User.java:    private long id;\nsrc/main/java/com/shzlw/poli/model/User.java:    private String username;\nsrc/main/java/com/shzlw/poli/model/User.java:    private String name;\nsrc/main/java/com/shzlw/poli/model/User.java:    private String password;\nsrc/main/java/com/shzlw/poli/model/User.java:    private String tempPassword;\nsrc/main/java/com/shzlw/poli/model/User.java:    private String sessionKey;\nsrc/main/java/com/shzlw/poli/model/User.java:    private LocalDateTime sessionTimeout;\nsrc/main/java/com/shzlw/poli/model/User.java:    private String sysRole;\nsrc/main/java/com/shzlw/poli/model/User.java:    private String apiKey;\nsrc/main/java/com/shzlw/poli/model/User.java:\nsrc/main/java/com/shzlw/poli/model/User.java:    private List<Long> userGroups = new ArrayList<>();\nsrc/main/java/com/shzlw/poli/model/User.java:\nsrc/main/java/com/shzlw/poli/model/User.java:    private List<UserAttribute> userAttributes = new ArrayList<>();\nsrc/main/java/com/shzlw/poli/model/User.java:\nsrc/main/java/com/shzlw/poli/model/User.java:    public User() {}\nsrc/main/java/com/shzlw/poli/model/User.java:\nsrc/main/java/com/shzlw/poli/model/User.java:    public long getId() {\nsrc/main/java/com/shzlw/poli/model/User.java:        return id;\nsrc/main/java/com/shzlw/poli/model/User.java:    }\nsrc/main/java/com/shzlw/poli/model/User.java:\nsrc/main/java/com/shzlw/poli/model/User.java:    public void setId(long id) {\nsrc/main/java/com/shzlw/poli/model/User.java:        this.id = id;\nsrc/main/java/com/shzlw/poli/model/User.java:    }\nsrc/main/java/com/shzlw/poli/model/User.java:\nsrc/main/java/com/shzlw/poli/model/User.java:    public String getUsername() {\nsrc/main/java/com/shzlw/poli/model/User.java:        return username;\nsrc/main/java/com/shzlw/poli/model/User.java:    }\nsrc/main/java/com/shzlw/poli/model/User.java:\nsrc/main/java/com/shzlw/poli/model/User.java:    public void setUsername(String username) {\nsrc/main/java/com/shzlw/poli/model/User.java:        this.username = username;\nsrc/main/java/com/shzlw/poli/model/User.java:    }\nsrc/main/java/com/shzlw/poli/model/User.java:\nsrc/main/java/com/shzlw/poli/model/User.java:    public String getName() {\nsrc/main/java/com/shzlw/poli/model/User.java:        return name;\nsrc/main/java/com/shzlw/poli/model/User.java:    }\nsrc/main/java/com/shzlw/poli/model/User.java:\nsrc/main/java/com/shzlw/poli/model/User.java:    public void setName(String name) {\nsrc/main/java/com/shzlw/poli/model/User.java:        this.name = name;\nsrc/main/java/com/shzlw/poli/model/User.java:    }\nsrc/main/java/com/shzlw/poli/model/User.java:\nsrc/main/java/com/shzlw/poli/model/User.java:    public String getPassword() {\nsrc/main/java/com/shzlw/poli/model/User.java:        return password;\nsrc/main/java/com/shzlw/poli/model/User.java:    }\nsrc/main/java/com/shzlw/poli/model/User.java:\nsrc/main/java/com/shzlw/poli/model/User.java:    public void setPassword(String password) {\nsrc/main/java/com/shzlw/poli/model/User.java:        this.password = password;\nsrc/main/java/com/shzlw/poli/model/User.java:    }\nsrc/main/java/com/shzlw/poli/model/User.java:\nsrc/main/java/com/shzlw/poli/model/User.java:    public String getTempPassword() {\nsrc/main/java/com/shzlw/poli/model/User.java:        return tempPassword;\nsrc/main/java/com/shzlw/poli/model/User.java:    }\nsrc/main/java/com/shzlw/poli/model/User.java:\nsrc/main/java/com/shzlw/poli/model/User.java:    public void setTempPassword(String tempPassword) {\nsrc/main/java/com/shzlw/poli/model/User.java:        this.tempPassword = tempPassword;\nsrc/main/java/com/shzlw/poli/model/User.java:    }\nsrc/main/java/com/shzlw/poli/model/User.java:\nsrc/main/java/com/shzlw/poli/model/User.java:    public String getSessionKey() {\nsrc/main/java/com/shzlw/poli/model/User.java:        return sessionKey;\nsrc/main/java/com/shzlw/poli/model/User.java:    }\nsrc/main/java/com/shzlw/poli/model/User.java:\nsrc/main/java/com/shzlw/poli/model/User.java:    public void setSessionKey(String sessionKey) {\nsrc/main/java/com/shzlw/poli/model/User.java:        this.sessionKey = sessionKey;\nsrc/main/java/com/shzlw/poli/model/User.java:    }\nsrc/main/java/com/shzlw/poli/model/User.java:\nsrc/main/java/com/shzlw/poli/model/User.java:    public LocalDateTime getSessionTimeout() {\nsrc/main/java/com/shzlw/poli/model/User.java:        return sessionTimeout;\nsrc/main/java/com/shzlw/poli/model/User.java:    }\nsrc/main/java/com/shzlw/poli/model/User.java:\nsrc/main/java/com/shzlw/poli/model/User.java:    public void setSessionTimeout(LocalDateTime sessionTimeout) {\nsrc/main/java/com/shzlw/poli/model/User.java:        this.sessionTimeout = sessionTimeout;\nsrc/main/java/com/shzlw/poli/model/User.java:    }\nsrc/main/java/com/shzlw/poli/model/User.java:\nsrc/main/java/com/shzlw/poli/model/User.java:    public String getSysRole() {\nsrc/main/java/com/shzlw/poli/model/User.java:        return sysRole;\nsrc/main/java/com/shzlw/poli/model/User.java:    }\nsrc/main/java/com/shzlw/poli/model/User.java:\nsrc/main/java/com/shzlw/poli/model/User.java:    public void setSysRole(String sysRole) {\nsrc/main/java/com/shzlw/poli/model/User.java:        this.sysRole = sysRole;\nsrc/main/java/com/shzlw/poli/model/User.java:    }\nsrc/main/java/com/shzlw/poli/model/User.java:\nsrc/main/java/com/shzlw/poli/model/User.java:    public String getApiKey() {\nsrc/main/java/com/shzlw/poli/model/User.java:        return apiKey;\nsrc/main/java/com/shzlw/poli/model/User.java:    }\nsrc/main/java/com/shzlw/poli/model/User.java:\nsrc/main/java/com/shzlw/poli/model/User.java:    public void setApiKey(String apiKey) {\nsrc/main/java/com/shzlw/poli/model/User.java:        this.apiKey = apiKey;\nsrc/main/java/com/shzlw/poli/model/User.java:    }\nsrc/main/java/com/shzlw/poli/model/User.java:\nsrc/main/java/com/shzlw/poli/model/User.java:    public List<Long> getUserGroups() {\nsrc/main/java/com/shzlw/poli/model/User.java:        return userGroups;\nsrc/main/java/com/shzlw/poli/model/User.java:    }\nsrc/main/java/com/shzlw/poli/model/User.java:\nsrc/main/java/com/shzlw/poli/model/User.java:    public void setUserGroups(List<Long> userGroups) {\nsrc/main/java/com/shzlw/poli/model/User.java:        this.userGroups = userGroups;\nsrc/main/java/com/shzlw/poli/model/User.java:    }\nsrc/main/java/com/shzlw/poli/model/User.java:\nsrc/main/java/com/shzlw/poli/model/User.java:    public List<UserAttribute> getUserAttributes() {\nsrc/main/java/com/shzlw/poli/model/User.java:        return userAttributes;\nsrc/main/java/com/shzlw/poli/model/User.java:    }\nsrc/main/java/com/shzlw/poli/model/User.java:\nsrc/main/java/com/shzlw/poli/model/User.java:    public void setUserAttributes(List<UserAttribute> userAttributes) {\nsrc/main/java/com/shzlw/poli/model/User.java:        this.userAttributes = userAttributes;\nsrc/main/java/com/shzlw/poli/model/User.java:    }\nsrc/main/java/com/shzlw/poli/model/User.java:\nsrc/main/java/com/shzlw/poli/model/User.java:    @Override\nsrc/main/java/com/shzlw/poli/model/User.java:    public boolean equals(Object o) {\nsrc/main/java/com/shzlw/poli/model/User.java:        if (this == o) return true;\nsrc/main/java/com/shzlw/poli/model/User.java:        if (o == null || getClass() != o.getClass()) return false;\nsrc/main/java/com/shzlw/poli/model/User.java:        User user = (User) o;\nsrc/main/java/com/shzlw/poli/model/User.java:        return id == user.id &&\nsrc/main/java/com/shzlw/poli/model/User.java:                username.equals(user.username) &&\nsrc/main/java/com/shzlw/poli/model/User.java:                sysRole.equals(user.sysRole);\nsrc/main/java/com/shzlw/poli/model/User.java:    }\nsrc/main/java/com/shzlw/poli/model/User.java:\nsrc/main/java/com/shzlw/poli/model/User.java:    @Override\nsrc/main/java/com/shzlw/poli/model/User.java:    public int hashCode() {\nsrc/main/java/com/shzlw/poli/model/User.java:        return Objects.hash(id, username, sysRole);\nsrc/main/java/com/shzlw/poli/model/User.java:    }\nsrc/main/java/com/shzlw/poli/model/User.java:\nsrc/main/java/com/shzlw/poli/model/User.java:    @Override\nsrc/main/java/com/shzlw/poli/model/User.java:    public String toString() {\nsrc/main/java/com/shzlw/poli/model/User.java:        return \"User{\" +\nsrc/main/java/com/shzlw/poli/model/User.java:                \"id=\" + id +\nsrc/main/java/com/shzlw/poli/model/User.java:                \", username='\" + username + '\\'' +\nsrc/main/java/com/shzlw/poli/model/User.java:                \", name='\" + name + '\\'' +\nsrc/main/java/com/shzlw/poli/model/User.java:                \", password='\" + password + '\\'' +\nsrc/main/java/com/shzlw/poli/model/User.java:                \", sessionTimeout=\" + sessionTimeout +\nsrc/main/java/com/shzlw/poli/model/User.java:                \", sysRole='\" + sysRole + '\\'' +\nsrc/main/java/com/shzlw/poli/model/User.java:                \", apiKey='\" + apiKey + '\\'' +\nsrc/main/java/com/shzlw/poli/model/User.java:                '}';\nsrc/main/java/com/shzlw/poli/model/User.java:    }\nsrc/main/java/com/shzlw/poli/model/User.java:}\nsrc/main/java/com/shzlw/poli/model/CannedReport.java:package com.shzlw.poli.model;\nsrc/main/java/com/shzlw/poli/model/CannedReport.java:\nsrc/main/java/com/shzlw/poli/model/CannedReport.java:import com.fasterxml.jackson.annotation.JsonRawValue;\nsrc/main/java/com/shzlw/poli/model/CannedReport.java:import com.fasterxml.jackson.databind.annotation.JsonDeserialize;\nsrc/main/java/com/shzlw/poli/model/CannedReport.java:import com.shzlw.poli.util.RawStringDeserialzier;\nsrc/main/java/com/shzlw/poli/model/CannedReport.java:\nsrc/main/java/com/shzlw/poli/model/CannedReport.java:public class CannedReport {\nsrc/main/java/com/shzlw/poli/model/CannedReport.java:\nsrc/main/java/com/shzlw/poli/model/CannedReport.java:    public static final String ID = \"id\";\nsrc/main/java/com/shzlw/poli/model/CannedReport.java:    public static final String NAME = \"name\";\nsrc/main/java/com/shzlw/poli/model/CannedReport.java:    public static final String CREATED_AT = \"created_at\";\nsrc/main/java/com/shzlw/poli/model/CannedReport.java:    public static final String CREATED_BY = \"created_by\";\nsrc/main/java/com/shzlw/poli/model/CannedReport.java:    public static final String USER_ID = \"user_id\";\nsrc/main/java/com/shzlw/poli/model/CannedReport.java:    public static final String DATA = \"data\";\nsrc/main/java/com/shzlw/poli/model/CannedReport.java:\nsrc/main/java/com/shzlw/poli/model/CannedReport.java:    private long id;\nsrc/main/java/com/shzlw/poli/model/CannedReport.java:    private String name;\nsrc/main/java/com/shzlw/poli/model/CannedReport.java:    private String createdBy;\nsrc/main/java/com/shzlw/poli/model/CannedReport.java:    private long createdAt;\nsrc/main/java/com/shzlw/poli/model/CannedReport.java:\nsrc/main/java/com/shzlw/poli/model/CannedReport.java:    // Json column\nsrc/main/java/com/shzlw/poli/model/CannedReport.java:    private String data;\nsrc/main/java/com/shzlw/poli/model/CannedReport.java:\nsrc/main/java/com/shzlw/poli/model/CannedReport.java:    public CannedReport() {}\nsrc/main/java/com/shzlw/poli/model/CannedReport.java:\nsrc/main/java/com/shzlw/poli/model/CannedReport.java:    public long getId() {\nsrc/main/java/com/shzlw/poli/model/CannedReport.java:        return id;\nsrc/main/java/com/shzlw/poli/model/CannedReport.java:    }\nsrc/main/java/com/shzlw/poli/model/CannedReport.java:\nsrc/main/java/com/shzlw/poli/model/CannedReport.java:    public void setId(long id) {\nsrc/main/java/com/shzlw/poli/model/CannedReport.java:        this.id = id;\nsrc/main/java/com/shzlw/poli/model/CannedReport.java:    }\nsrc/main/java/com/shzlw/poli/model/CannedReport.java:\nsrc/main/java/com/shzlw/poli/model/CannedReport.java:    public String getName() {\nsrc/main/java/com/shzlw/poli/model/CannedReport.java:        return name;\nsrc/main/java/com/shzlw/poli/model/CannedReport.java:    }\nsrc/main/java/com/shzlw/poli/model/CannedReport.java:\nsrc/main/java/com/shzlw/poli/model/CannedReport.java:    public void setName(String name) {\nsrc/main/java/com/shzlw/poli/model/CannedReport.java:        this.name = name;\nsrc/main/java/com/shzlw/poli/model/CannedReport.java:    }\nsrc/main/java/com/shzlw/poli/model/CannedReport.java:\nsrc/main/java/com/shzlw/poli/model/CannedReport.java:    public String getCreatedBy() {\nsrc/main/java/com/shzlw/poli/model/CannedReport.java:        return createdBy;\nsrc/main/java/com/shzlw/poli/model/CannedReport.java:    }\nsrc/main/java/com/shzlw/poli/model/CannedReport.java:\nsrc/main/java/com/shzlw/poli/model/CannedReport.java:    public void setCreatedBy(String createdBy) {\nsrc/main/java/com/shzlw/poli/model/CannedReport.java:        this.createdBy = createdBy;\nsrc/main/java/com/shzlw/poli/model/CannedReport.java:    }\nsrc/main/java/com/shzlw/poli/model/CannedReport.java:\nsrc/main/java/com/shzlw/poli/model/CannedReport.java:    public long getCreatedAt() {\nsrc/main/java/com/shzlw/poli/model/CannedReport.java:        return createdAt;\nsrc/main/java/com/shzlw/poli/model/CannedReport.java:    }\nsrc/main/java/com/shzlw/poli/model/CannedReport.java:\nsrc/main/java/com/shzlw/poli/model/CannedReport.java:    public void setCreatedAt(long createdAt) {\nsrc/main/java/com/shzlw/poli/model/CannedReport.java:        this.createdAt = createdAt;\nsrc/main/java/com/shzlw/poli/model/CannedReport.java:    }\nsrc/main/java/com/shzlw/poli/model/CannedReport.java:\nsrc/main/java/com/shzlw/poli/model/CannedReport.java:    @JsonRawValue\nsrc/main/java/com/shzlw/poli/model/CannedReport.java:    public String getData() {\nsrc/main/java/com/shzlw/poli/model/CannedReport.java:        return data;\nsrc/main/java/com/shzlw/poli/model/CannedReport.java:    }\nsrc/main/java/com/shzlw/poli/model/CannedReport.java:\nsrc/main/java/com/shzlw/poli/model/CannedReport.java:    @JsonDeserialize(using = RawStringDeserialzier.class)\nsrc/main/java/com/shzlw/poli/model/CannedReport.java:    public void setData(String data) {\nsrc/main/java/com/shzlw/poli/model/CannedReport.java:        this.data = data;\nsrc/main/java/com/shzlw/poli/model/CannedReport.java:    }\nsrc/main/java/com/shzlw/poli/model/CannedReport.java:}\nsrc/main/java/com/shzlw/poli/model/AuditLog.java:package com.shzlw.poli.model;\nsrc/main/java/com/shzlw/poli/model/AuditLog.java:\nsrc/main/java/com/shzlw/poli/model/AuditLog.java:public class AuditLog {\nsrc/main/java/com/shzlw/poli/model/AuditLog.java:\nsrc/main/java/com/shzlw/poli/model/AuditLog.java:    public static final String ID = \"id\";\nsrc/main/java/com/shzlw/poli/model/AuditLog.java:    public static final String TYPE = \"type\";\nsrc/main/java/com/shzlw/poli/model/AuditLog.java:    public static final String CREATED_AT = \"created_at\";\nsrc/main/java/com/shzlw/poli/model/AuditLog.java:    public static final String DATA = \"data\";\nsrc/main/java/com/shzlw/poli/model/AuditLog.java:\nsrc/main/java/com/shzlw/poli/model/AuditLog.java:    private long id;\nsrc/main/java/com/shzlw/poli/model/AuditLog.java:    private String createdAt;\nsrc/main/java/com/shzlw/poli/model/AuditLog.java:    private String type;\nsrc/main/java/com/shzlw/poli/model/AuditLog.java:    private String data;\nsrc/main/java/com/shzlw/poli/model/AuditLog.java:\nsrc/main/java/com/shzlw/poli/model/AuditLog.java:    public AuditLog() {}\nsrc/main/java/com/shzlw/poli/model/AuditLog.java:\nsrc/main/java/com/shzlw/poli/model/AuditLog.java:    public long getId() {\nsrc/main/java/com/shzlw/poli/model/AuditLog.java:        return id;\nsrc/main/java/com/shzlw/poli/model/AuditLog.java:    }\nsrc/main/java/com/shzlw/poli/model/AuditLog.java:\nsrc/main/java/com/shzlw/poli/model/AuditLog.java:    public void setId(long id) {\nsrc/main/java/com/shzlw/poli/model/AuditLog.java:        this.id = id;\nsrc/main/java/com/shzlw/poli/model/AuditLog.java:    }\nsrc/main/java/com/shzlw/poli/model/AuditLog.java:\nsrc/main/java/com/shzlw/poli/model/AuditLog.java:    public String getCreatedAt() {\nsrc/main/java/com/shzlw/poli/model/AuditLog.java:        return createdAt;\nsrc/main/java/com/shzlw/poli/model/AuditLog.java:    }\nsrc/main/java/com/shzlw/poli/model/AuditLog.java:\nsrc/main/java/com/shzlw/poli/model/AuditLog.java:    public void setCreatedAt(String createdAt) {\nsrc/main/java/com/shzlw/poli/model/AuditLog.java:        this.createdAt = createdAt;\nsrc/main/java/com/shzlw/poli/model/AuditLog.java:    }\nsrc/main/java/com/shzlw/poli/model/AuditLog.java:\nsrc/main/java/com/shzlw/poli/model/AuditLog.java:    public String getType() {\nsrc/main/java/com/shzlw/poli/model/AuditLog.java:        return type;\nsrc/main/java/com/shzlw/poli/model/AuditLog.java:    }\nsrc/main/java/com/shzlw/poli/model/AuditLog.java:\nsrc/main/java/com/shzlw/poli/model/AuditLog.java:    public void setType(String type) {\nsrc/main/java/com/shzlw/poli/model/AuditLog.java:        this.type = type;\nsrc/main/java/com/shzlw/poli/model/AuditLog.java:    }\nsrc/main/java/com/shzlw/poli/model/AuditLog.java:\nsrc/main/java/com/shzlw/poli/model/AuditLog.java:    public String getData() {\nsrc/main/java/com/shzlw/poli/model/AuditLog.java:        return data;\nsrc/main/java/com/shzlw/poli/model/AuditLog.java:    }\nsrc/main/java/com/shzlw/poli/model/AuditLog.java:\nsrc/main/java/com/shzlw/poli/model/AuditLog.java:    public void setData(String data) {\nsrc/main/java/com/shzlw/poli/model/AuditLog.java:        this.data = data;\nsrc/main/java/com/shzlw/poli/model/AuditLog.java:    }\nsrc/main/java/com/shzlw/poli/model/AuditLog.java:}\nsrc/main/java/com/shzlw/poli/model/UserAttribute.java:package com.shzlw.poli.model;\nsrc/main/java/com/shzlw/poli/model/UserAttribute.java:\nsrc/main/java/com/shzlw/poli/model/UserAttribute.java:public class UserAttribute {\nsrc/main/java/com/shzlw/poli/model/UserAttribute.java:\nsrc/main/java/com/shzlw/poli/model/UserAttribute.java:    public static final String ATTR_KEY = \"attr_key\";\nsrc/main/java/com/shzlw/poli/model/UserAttribute.java:    public static final String ATTR_VALUE = \"attr_value\";\nsrc/main/java/com/shzlw/poli/model/UserAttribute.java:\nsrc/main/java/com/shzlw/poli/model/UserAttribute.java:    private String attrKey;\nsrc/main/java/com/shzlw/poli/model/UserAttribute.java:    private String attrValue;\nsrc/main/java/com/shzlw/poli/model/UserAttribute.java:\nsrc/main/java/com/shzlw/poli/model/UserAttribute.java:    public UserAttribute() {}\nsrc/main/java/com/shzlw/poli/model/UserAttribute.java:\nsrc/main/java/com/shzlw/poli/model/UserAttribute.java:    public String getAttrKey() {\nsrc/main/java/com/shzlw/poli/model/UserAttribute.java:        return attrKey;\nsrc/main/java/com/shzlw/poli/model/UserAttribute.java:    }\nsrc/main/java/com/shzlw/poli/model/UserAttribute.java:\nsrc/main/java/com/shzlw/poli/model/UserAttribute.java:    public void setAttrKey(String attrKey) {\nsrc/main/java/com/shzlw/poli/model/UserAttribute.java:        this.attrKey = attrKey;\nsrc/main/java/com/shzlw/poli/model/UserAttribute.java:    }\nsrc/main/java/com/shzlw/poli/model/UserAttribute.java:\nsrc/main/java/com/shzlw/poli/model/UserAttribute.java:    public String getAttrValue() {\nsrc/main/java/com/shzlw/poli/model/UserAttribute.java:        return attrValue;\nsrc/main/java/com/shzlw/poli/model/UserAttribute.java:    }\nsrc/main/java/com/shzlw/poli/model/UserAttribute.java:\nsrc/main/java/com/shzlw/poli/model/UserAttribute.java:    public void setAttrValue(String attrValue) {\nsrc/main/java/com/shzlw/poli/model/UserAttribute.java:        this.attrValue = attrValue;\nsrc/main/java/com/shzlw/poli/model/UserAttribute.java:    }\nsrc/main/java/com/shzlw/poli/model/UserAttribute.java:}\nsrc/main/java/com/shzlw/poli/model/Group.java:package com.shzlw.poli.model;\nsrc/main/java/com/shzlw/poli/model/Group.java:\nsrc/main/java/com/shzlw/poli/model/Group.java:import java.util.ArrayList;\nsrc/main/java/com/shzlw/poli/model/Group.java:import java.util.List;\nsrc/main/java/com/shzlw/poli/model/Group.java:\nsrc/main/java/com/shzlw/poli/model/Group.java:public class Group {\nsrc/main/java/com/shzlw/poli/model/Group.java:\nsrc/main/java/com/shzlw/poli/model/Group.java:    public static final String ID = \"id\";\nsrc/main/java/com/shzlw/poli/model/Group.java:    public static final String NAME = \"name\";\nsrc/main/java/com/shzlw/poli/model/Group.java:\nsrc/main/java/com/shzlw/poli/model/Group.java:    private long id;\nsrc/main/java/com/shzlw/poli/model/Group.java:    private String name;\nsrc/main/java/com/shzlw/poli/model/Group.java:\nsrc/main/java/com/shzlw/poli/model/Group.java:    private List<Long> groupReports = new ArrayList<>();\nsrc/main/java/com/shzlw/poli/model/Group.java:\nsrc/main/java/com/shzlw/poli/model/Group.java:    public Group() {}\nsrc/main/java/com/shzlw/poli/model/Group.java:\nsrc/main/java/com/shzlw/poli/model/Group.java:    public long getId() {\nsrc/main/java/com/shzlw/poli/model/Group.java:        return id;\nsrc/main/java/com/shzlw/poli/model/Group.java:    }\nsrc/main/java/com/shzlw/poli/model/Group.java:\nsrc/main/java/com/shzlw/poli/model/Group.java:    public void setId(long id) {\nsrc/main/java/com/shzlw/poli/model/Group.java:        this.id = id;\nsrc/main/java/com/shzlw/poli/model/Group.java:    }\nsrc/main/java/com/shzlw/poli/model/Group.java:\nsrc/main/java/com/shzlw/poli/model/Group.java:    public String getName() {\nsrc/main/java/com/shzlw/poli/model/Group.java:        return name;\nsrc/main/java/com/shzlw/poli/model/Group.java:    }\nsrc/main/java/com/shzlw/poli/model/Group.java:\nsrc/main/java/com/shzlw/poli/model/Group.java:    public void setName(String name) {\nsrc/main/java/com/shzlw/poli/model/Group.java:        this.name = name;\nsrc/main/java/com/shzlw/poli/model/Group.java:    }\nsrc/main/java/com/shzlw/poli/model/Group.java:\nsrc/main/java/com/shzlw/poli/model/Group.java:    public List<Long> getGroupReports() {\nsrc/main/java/com/shzlw/poli/model/Group.java:        return groupReports;\nsrc/main/java/com/shzlw/poli/model/Group.java:    }\nsrc/main/java/com/shzlw/poli/model/Group.java:\nsrc/main/java/com/shzlw/poli/model/Group.java:    public void setGroupReports(List<Long> groupReports) {\nsrc/main/java/com/shzlw/poli/model/Group.java:        this.groupReports = groupReports;\nsrc/main/java/com/shzlw/poli/model/Group.java:    }\nsrc/main/java/com/shzlw/poli/model/Group.java:}\nsrc/main/java/com/shzlw/poli/util/RawStringDeserialzier.java:package com.shzlw.poli.util;\nsrc/main/java/com/shzlw/poli/util/RawStringDeserialzier.java:\nsrc/main/java/com/shzlw/poli/util/RawStringDeserialzier.java:import com.fasterxml.jackson.core.JsonParser;\nsrc/main/java/com/shzlw/poli/util/RawStringDeserialzier.java:import com.fasterxml.jackson.core.TreeNode;\nsrc/main/java/com/shzlw/poli/util/RawStringDeserialzier.java:import com.fasterxml.jackson.databind.DeserializationContext;\nsrc/main/java/com/shzlw/poli/util/RawStringDeserialzier.java:import com.fasterxml.jackson.databind.JsonDeserializer;\nsrc/main/java/com/shzlw/poli/util/RawStringDeserialzier.java:\nsrc/main/java/com/shzlw/poli/util/RawStringDeserialzier.java:import java.io.IOException;\nsrc/main/java/com/shzlw/poli/util/RawStringDeserialzier.java:\nsrc/main/java/com/shzlw/poli/util/RawStringDeserialzier.java:public class RawStringDeserialzier extends JsonDeserializer<String> {\nsrc/main/java/com/shzlw/poli/util/RawStringDeserialzier.java:\nsrc/main/java/com/shzlw/poli/util/RawStringDeserialzier.java:    @Override\nsrc/main/java/com/shzlw/poli/util/RawStringDeserialzier.java:    public String deserialize(JsonParser parser, DeserializationContext ctx) throws IOException {\nsrc/main/java/com/shzlw/poli/util/RawStringDeserialzier.java:        TreeNode tree = parser.getCodec().readTree(parser);\nsrc/main/java/com/shzlw/poli/util/RawStringDeserialzier.java:        return tree.toString();\nsrc/main/java/com/shzlw/poli/util/RawStringDeserialzier.java:    }\nsrc/main/java/com/shzlw/poli/util/RawStringDeserialzier.java:}\nsrc/main/java/com/shzlw/poli/util/RawStringDeserialzier.java:\nsrc/main/java/com/shzlw/poli/util/HttpUtils.java:package com.shzlw.poli.util;\nsrc/main/java/com/shzlw/poli/util/HttpUtils.java:\nsrc/main/java/com/shzlw/poli/util/HttpUtils.java:import jakarta.servlet.http.Cookie;\nsrc/main/java/com/shzlw/poli/util/HttpUtils.java:import jakarta.servlet.http.HttpServletRequest;\nsrc/main/java/com/shzlw/poli/util/HttpUtils.java:\nsrc/main/java/com/shzlw/poli/util/HttpUtils.java:public final class HttpUtils {\nsrc/main/java/com/shzlw/poli/util/HttpUtils.java:\nsrc/main/java/com/shzlw/poli/util/HttpUtils.java:    private HttpUtils() {}\nsrc/main/java/com/shzlw/poli/util/HttpUtils.java:\nsrc/main/java/com/shzlw/poli/util/HttpUtils.java:    public static String getSessionKey(HttpServletRequest httpRequest) {\nsrc/main/java/com/shzlw/poli/util/HttpUtils.java:        Cookie[] cookies = httpRequest.getCookies();\nsrc/main/java/com/shzlw/poli/util/HttpUtils.java:        if (cookies == null || cookies.length == 0) {\nsrc/main/java/com/shzlw/poli/util/HttpUtils.java:            return null;\nsrc/main/java/com/shzlw/poli/util/HttpUtils.java:        }\nsrc/main/java/com/shzlw/poli/util/HttpUtils.java:\nsrc/main/java/com/shzlw/poli/util/HttpUtils.java:        for (int i = 0; i < cookies.length; i++) {\nsrc/main/java/com/shzlw/poli/util/HttpUtils.java:            String name = cookies[i].getName();\nsrc/main/java/com/shzlw/poli/util/HttpUtils.java:            String value = cookies[i].getValue();\nsrc/main/java/com/shzlw/poli/util/HttpUtils.java:            if (Constants.SESSION_KEY.equals(name)) {\nsrc/main/java/com/shzlw/poli/util/HttpUtils.java:                return value;\nsrc/main/java/com/shzlw/poli/util/HttpUtils.java:            }\nsrc/main/java/com/shzlw/poli/util/HttpUtils.java:        }\nsrc/main/java/com/shzlw/poli/util/HttpUtils.java:        return null;\nsrc/main/java/com/shzlw/poli/util/HttpUtils.java:    }\nsrc/main/java/com/shzlw/poli/util/HttpUtils.java:\nsrc/main/java/com/shzlw/poli/util/HttpUtils.java:    public static String getIpAddress(HttpServletRequest httpRequest) {\nsrc/main/java/com/shzlw/poli/util/HttpUtils.java:        String ipAddress = httpRequest.getHeader(\"X-FORWARDED-FOR\");\nsrc/main/java/com/shzlw/poli/util/HttpUtils.java:        if (ipAddress == null) {\nsrc/main/java/com/shzlw/poli/util/HttpUtils.java:            ipAddress = httpRequest.getRemoteAddr();\nsrc/main/java/com/shzlw/poli/util/HttpUtils.java:        }\nsrc/main/java/com/shzlw/poli/util/HttpUtils.java:        return ipAddress;\nsrc/main/java/com/shzlw/poli/util/HttpUtils.java:    }\nsrc/main/java/com/shzlw/poli/util/HttpUtils.java:}\nsrc/main/java/com/shzlw/poli/util/CommonUtils.java:package com.shzlw.poli.util;\nsrc/main/java/com/shzlw/poli/util/CommonUtils.java:\nsrc/main/java/com/shzlw/poli/util/CommonUtils.java:import org.springframework.lang.Nullable;\nsrc/main/java/com/shzlw/poli/util/CommonUtils.java:\nsrc/main/java/com/shzlw/poli/util/CommonUtils.java:import java.time.Instant;\nsrc/main/java/com/shzlw/poli/util/CommonUtils.java:import java.time.LocalDateTime;\nsrc/main/java/com/shzlw/poli/util/CommonUtils.java:import java.time.ZoneId;\nsrc/main/java/com/shzlw/poli/util/CommonUtils.java:import java.time.format.DateTimeFormatter;\nsrc/main/java/com/shzlw/poli/util/CommonUtils.java:\nsrc/main/java/com/shzlw/poli/util/CommonUtils.java:public final class CommonUtils {\nsrc/main/java/com/shzlw/poli/util/CommonUtils.java:\nsrc/main/java/com/shzlw/poli/util/CommonUtils.java:    private CommonUtils() {}\nsrc/main/java/com/shzlw/poli/util/CommonUtils.java:\nsrc/main/java/com/shzlw/poli/util/CommonUtils.java:    public static LocalDateTime fromEpoch(long epoch) {\nsrc/main/java/com/shzlw/poli/util/CommonUtils.java:        return Instant.ofEpochMilli(epoch).atZone(ZoneId.systemDefault()).toLocalDateTime();\nsrc/main/java/com/shzlw/poli/util/CommonUtils.java:    }\nsrc/main/java/com/shzlw/poli/util/CommonUtils.java:\nsrc/main/java/com/shzlw/poli/util/CommonUtils.java:    public static long toEpoch(@Nullable LocalDateTime dateTime) {\nsrc/main/java/com/shzlw/poli/util/CommonUtils.java:        return dateTime.atZone(ZoneId.systemDefault()).toInstant().toEpochMilli();\nsrc/main/java/com/shzlw/poli/util/CommonUtils.java:    }\nsrc/main/java/com/shzlw/poli/util/CommonUtils.java:\nsrc/main/java/com/shzlw/poli/util/CommonUtils.java:    public static String toReadableDateTime(LocalDateTime localDateTime) {\nsrc/main/java/com/shzlw/poli/util/CommonUtils.java:        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm:ss\");\nsrc/main/java/com/shzlw/poli/util/CommonUtils.java:        return localDateTime.format(formatter);\nsrc/main/java/com/shzlw/poli/util/CommonUtils.java:    }\nsrc/main/java/com/shzlw/poli/util/CommonUtils.java:\nsrc/main/java/com/shzlw/poli/util/CommonUtils.java:    public static String toReadableDate(LocalDateTime localDateTime) {\nsrc/main/java/com/shzlw/poli/util/CommonUtils.java:        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(\"yyyy-MM-dd\");\nsrc/main/java/com/shzlw/poli/util/CommonUtils.java:        return localDateTime.format(formatter);\nsrc/main/java/com/shzlw/poli/util/CommonUtils.java:    }\nsrc/main/java/com/shzlw/poli/util/CommonUtils.java:\nsrc/main/java/com/shzlw/poli/util/CommonUtils.java:    public static String getSimpleError(Exception e) {\nsrc/main/java/com/shzlw/poli/util/CommonUtils.java:        return \"ERROR: \" + e.getClass().getCanonicalName() + \": \" + e.getMessage();\nsrc/main/java/com/shzlw/poli/util/CommonUtils.java:    }\nsrc/main/java/com/shzlw/poli/util/CommonUtils.java:\nsrc/main/java/com/shzlw/poli/util/CommonUtils.java:    public static String getParamByAttrKey(String attrKey) {\nsrc/main/java/com/shzlw/poli/util/CommonUtils.java:        return \"$user_attr[\" + attrKey + \"]\";\nsrc/main/java/com/shzlw/poli/util/CommonUtils.java:    }\nsrc/main/java/com/shzlw/poli/util/CommonUtils.java:}\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:package com.shzlw.poli.util;\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:import javax.crypto.Cipher;\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:import javax.crypto.spec.IvParameterSpec;\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:import javax.crypto.spec.SecretKeySpec;\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:import java.math.BigInteger;\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:import java.nio.ByteBuffer;\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:import java.security.MessageDigest;\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:import java.util.Base64;\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:import java.util.UUID;\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:public final class PasswordUtils {\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:    private PasswordUtils() {}\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:    public static synchronized String getUniqueId() {\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:        return uuidToBase64(UUID.randomUUID().toString());\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:    }\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:    private static String uuidToBase64(String str) {\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:        UUID uuid = UUID.fromString(str);\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:        ByteBuffer bb = ByteBuffer.wrap(new byte[16]);\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:        bb.putLong(uuid.getMostSignificantBits());\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:        bb.putLong(uuid.getLeastSignificantBits());\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:        return Base64.getUrlEncoder().withoutPadding().encodeToString(bb.array());\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:    }\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:    public static String getMd5Hash(String s) {\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:        String rt = \"\";\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:        try {\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:            MessageDigest m = MessageDigest.getInstance(\"MD5\");\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:            m.reset();\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:            m.update(s.getBytes());\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:            byte[] digest = m.digest();\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:            BigInteger bigInt = new BigInteger(1, digest);\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:            String hashtext = bigInt.toString(16);\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:            while (hashtext.length() < 32) {\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:                hashtext = \"0\" + hashtext;\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:            }\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:            return hashtext;\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:        } catch(Exception e) {\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:            e.printStackTrace();\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:        }\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:        return rt;\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:    }\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:    public static String encrypt(String value) {\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:        return encrypt(value, Constants.ENCRYPT_IV, Constants.ENCRYPT_KEY);\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:    }\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:    public static String decrypt(String value) {\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:        return decrypt(value, Constants.ENCRYPT_IV, Constants.ENCRYPT_KEY);\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:    }\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:    public static String encrypt(String value, String initVector, String key) {\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:        String rt = \"\";\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:        try {\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:            IvParameterSpec iv = new IvParameterSpec(initVector.getBytes(\"UTF-8\"));\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:            SecretKeySpec skeySpec = new SecretKeySpec(key.getBytes(\"UTF-8\"), \"AES\");\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:            Cipher cipher = Cipher.getInstance(\"AES/CBC/PKCS5PADDING\");\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:            cipher.init(Cipher.ENCRYPT_MODE, skeySpec, iv);\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:            byte[] encrypted = cipher.doFinal(value.getBytes());\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:            rt = new String(Base64.getEncoder().encodeToString(encrypted));\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:        } catch (Exception e) {\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:        }\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:        return rt;\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:    }\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:    public static String decrypt(String val, String initVector, String key) {\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:        String rt = \"\";\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:        try {\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:            IvParameterSpec iv = new IvParameterSpec(initVector.getBytes(\"UTF-8\"));\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:            SecretKeySpec skeySpec = new SecretKeySpec(key.getBytes(\"UTF-8\"), \"AES\");\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:            Cipher cipher = Cipher.getInstance(\"AES/CBC/PKCS5PADDING\");\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:            cipher.init(Cipher.DECRYPT_MODE, skeySpec, iv);\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:            byte[] decrypted = cipher.doFinal(Base64.getDecoder().decode(val));\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:            rt = new String(decrypted);\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:        } catch (Exception e) {\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:        }\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:        return rt;\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:    }\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:    public static String getEncryptedPassword(String password) {\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:        String p = password == null ? \"\" : password;\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:        return encrypt(Constants.PASSWORD_SALT + p);\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:    }\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:    public static String getDecryptedPassword(String password) {\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:        String p = decrypt(password);\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:        int saltLength = Constants.PASSWORD_SALT.length();\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:        return p.substring(saltLength);\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:    }\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:    public static String padOrTrimTo16(String str) {\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:        String s = str;\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:        if (str == null) {\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:            s = \"\";\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:        }\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:        if (s.length() == 16) {\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:            return s;\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:        } else if (s.length() > 16) {\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:            return s.substring(0, 16);\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:        }\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:        int l = 16 - s.length();\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:        StringBuilder sb = new StringBuilder();\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:        for (int i = 0; i < l; i++) {\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:            sb.append(\"0\");\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:        }\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:        sb.append(s);\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:        return sb.toString();\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:    }\nsrc/main/java/com/shzlw/poli/util/PasswordUtils.java:}\nsrc/main/java/com/shzlw/poli/util/Constants.java:package com.shzlw.poli.util;\nsrc/main/java/com/shzlw/poli/util/Constants.java:\nsrc/main/java/com/shzlw/poli/util/Constants.java:public final class Constants {\nsrc/main/java/com/shzlw/poli/util/Constants.java:\nsrc/main/java/com/shzlw/poli/util/Constants.java:    private Constants() {}\nsrc/main/java/com/shzlw/poli/util/Constants.java:\nsrc/main/java/com/shzlw/poli/util/Constants.java:    public static final String CURRENT_VERSION = \"0.12.2\";\nsrc/main/java/com/shzlw/poli/util/Constants.java:\nsrc/main/java/com/shzlw/poli/util/Constants.java:    public static final String SUCCESS = \"success\";\nsrc/main/java/com/shzlw/poli/util/Constants.java:    public static final String GOOD = \"\";\nsrc/main/java/com/shzlw/poli/util/Constants.java:    public static final String ERROR = \"\";\nsrc/main/java/com/shzlw/poli/util/Constants.java:\nsrc/main/java/com/shzlw/poli/util/Constants.java:    public static final String SESSION_KEY = \"pskey\";\nsrc/main/java/com/shzlw/poli/util/Constants.java:    public static final int COOKIE_TIMEOUT = 8640000;\nsrc/main/java/com/shzlw/poli/util/Constants.java:\nsrc/main/java/com/shzlw/poli/util/Constants.java:    public static final String API_KEY_PREFIX = \"apk_\";\nsrc/main/java/com/shzlw/poli/util/Constants.java:    public static final String SESSION_KEY_PREFIX = \"sk_\";\nsrc/main/java/com/shzlw/poli/util/Constants.java:    public static final String SHARE_KEY_PREFIX = \"sha_\";\nsrc/main/java/com/shzlw/poli/util/Constants.java:\nsrc/main/java/com/shzlw/poli/util/Constants.java:    public static final String PASSWORD_SALT = \"awesome\";\nsrc/main/java/com/shzlw/poli/util/Constants.java:\nsrc/main/java/com/shzlw/poli/util/Constants.java:    public static final String ENCRYPT_KEY = \"1234salt1234salt\";\nsrc/main/java/com/shzlw/poli/util/Constants.java:    public static final String ENCRYPT_IV = \"5678salt5678salt\";\nsrc/main/java/com/shzlw/poli/util/Constants.java:\nsrc/main/java/com/shzlw/poli/util/Constants.java:    public static final String FILTER_TYPE_SLICER = \"slicer\";\nsrc/main/java/com/shzlw/poli/util/Constants.java:    public static final String FILTER_TYPE_SINGLE = \"single\";\nsrc/main/java/com/shzlw/poli/util/Constants.java:    public static final String FILTER_TYPE_DATE_PICKER = \"date picker\";\nsrc/main/java/com/shzlw/poli/util/Constants.java:    public static final String FILTER_TYPE_USER_ATTRIBUTE = \"user attribute\";\nsrc/main/java/com/shzlw/poli/util/Constants.java:\nsrc/main/java/com/shzlw/poli/util/Constants.java:    public static final String SLICER_SELECT_ALL = \"select all\";\nsrc/main/java/com/shzlw/poli/util/Constants.java:    public static final String SLICER_SELECT_NONE = \"select none\";\nsrc/main/java/com/shzlw/poli/util/Constants.java:\nsrc/main/java/com/shzlw/poli/util/Constants.java:    public static final String SYS_ROLE_VIEWER = \"viewer\";\nsrc/main/java/com/shzlw/poli/util/Constants.java:    public static final String SYS_ROLE_DEVELOPER = \"developer\";\nsrc/main/java/com/shzlw/poli/util/Constants.java:    public static final String SYS_ROLE_ADMIN = \"admin\";\nsrc/main/java/com/shzlw/poli/util/Constants.java:\nsrc/main/java/com/shzlw/poli/util/Constants.java:    public static final String COMPONENT_TYPE_FILTER = \"filter\";\nsrc/main/java/com/shzlw/poli/util/Constants.java:    public static final String COMPONENT_TYPE_CHART = \"chart\";\nsrc/main/java/com/shzlw/poli/util/Constants.java:    public static final String COMPONENT_TYPE_STATIC = \"static\";\nsrc/main/java/com/shzlw/poli/util/Constants.java:\nsrc/main/java/com/shzlw/poli/util/Constants.java:    public static final String EMPTY_JSON_ARRAY = \"[]\";\nsrc/main/java/com/shzlw/poli/util/Constants.java:    public static final String HTTP_REQUEST_ATTR_USER = \"attr_user\";\nsrc/main/java/com/shzlw/poli/util/Constants.java:\nsrc/main/java/com/shzlw/poli/util/Constants.java:    public static final String HTTP_METHOD_GET = \"GET\";\nsrc/main/java/com/shzlw/poli/util/Constants.java:    public static final String HTTP_METHOD_POST = \"POST\";\nsrc/main/java/com/shzlw/poli/util/Constants.java:    public static final String HTTP_METHOD_PUT = \"PUT\";\nsrc/main/java/com/shzlw/poli/util/Constants.java:    public static final String HTTP_METHOD_DELETE = \"DELETE\";\nsrc/main/java/com/shzlw/poli/util/Constants.java:\nsrc/main/java/com/shzlw/poli/util/Constants.java:    public static final String HTTP_HEADER_API_KEY = \"Poli-Api-Key\";\nsrc/main/java/com/shzlw/poli/util/Constants.java:    public static final String HTTP_HEADER_SHARE_KEY = \"Poli-Share-Key\";\nsrc/main/java/com/shzlw/poli/util/Constants.java:\nsrc/main/java/com/shzlw/poli/util/Constants.java:    public static final String ERROR_NO_DATA_SOURCE_FOUND = \"No data source found\";\nsrc/main/java/com/shzlw/poli/util/Constants.java:    public static final String ERROR_EMPTY_SQL_QUERY = \"SQL query cannot be empty\";\nsrc/main/java/com/shzlw/poli/util/Constants.java:\nsrc/main/java/com/shzlw/poli/util/Constants.java:    public static final int QUERY_RESULT_NOLIMIT = 0;\nsrc/main/java/com/shzlw/poli/util/Constants.java:    public static final int MAXIMUM_QUERY_RECORDS_NOLIMIT = -1;\nsrc/main/java/com/shzlw/poli/util/Constants.java:\nsrc/main/java/com/shzlw/poli/util/Constants.java:    public static final String CONTENT_TYPE_JSON = \"json\";\nsrc/main/java/com/shzlw/poli/util/Constants.java:    public static final String CONTENT_TYPE_CSV = \"csv\";\nsrc/main/java/com/shzlw/poli/util/Constants.java:}\nsrc/main/java/com/shzlw/poli/dto/QueryRequest.java:package com.shzlw.poli.dto;\nsrc/main/java/com/shzlw/poli/dto/QueryRequest.java:\nsrc/main/java/com/shzlw/poli/dto/QueryRequest.java:public class QueryRequest {\nsrc/main/java/com/shzlw/poli/dto/QueryRequest.java:\nsrc/main/java/com/shzlw/poli/dto/QueryRequest.java:    private long jdbcDataSourceId;\nsrc/main/java/com/shzlw/poli/dto/QueryRequest.java:    private String sqlQuery;\nsrc/main/java/com/shzlw/poli/dto/QueryRequest.java:    private int resultLimit;\nsrc/main/java/com/shzlw/poli/dto/QueryRequest.java:\nsrc/main/java/com/shzlw/poli/dto/QueryRequest.java:    public QueryRequest() {}\nsrc/main/java/com/shzlw/poli/dto/QueryRequest.java:\nsrc/main/java/com/shzlw/poli/dto/QueryRequest.java:    public long getJdbcDataSourceId() {\nsrc/main/java/com/shzlw/poli/dto/QueryRequest.java:        return jdbcDataSourceId;\nsrc/main/java/com/shzlw/poli/dto/QueryRequest.java:    }\nsrc/main/java/com/shzlw/poli/dto/QueryRequest.java:\nsrc/main/java/com/shzlw/poli/dto/QueryRequest.java:    public void setJdbcDataSourceId(long jdbcDataSourceId) {\nsrc/main/java/com/shzlw/poli/dto/QueryRequest.java:        this.jdbcDataSourceId = jdbcDataSourceId;\nsrc/main/java/com/shzlw/poli/dto/QueryRequest.java:    }\nsrc/main/java/com/shzlw/poli/dto/QueryRequest.java:\nsrc/main/java/com/shzlw/poli/dto/QueryRequest.java:    public String getSqlQuery() {\nsrc/main/java/com/shzlw/poli/dto/QueryRequest.java:        return sqlQuery;\nsrc/main/java/com/shzlw/poli/dto/QueryRequest.java:    }\nsrc/main/java/com/shzlw/poli/dto/QueryRequest.java:\nsrc/main/java/com/shzlw/poli/dto/QueryRequest.java:    public void setSqlQuery(String sqlQuery) {\nsrc/main/java/com/shzlw/poli/dto/QueryRequest.java:        this.sqlQuery = sqlQuery;\nsrc/main/java/com/shzlw/poli/dto/QueryRequest.java:    }\nsrc/main/java/com/shzlw/poli/dto/QueryRequest.java:\nsrc/main/java/com/shzlw/poli/dto/QueryRequest.java:    public int getResultLimit() {\nsrc/main/java/com/shzlw/poli/dto/QueryRequest.java:        return resultLimit;\nsrc/main/java/com/shzlw/poli/dto/QueryRequest.java:    }\nsrc/main/java/com/shzlw/poli/dto/QueryRequest.java:\nsrc/main/java/com/shzlw/poli/dto/QueryRequest.java:    public void setResultLimit(int resultLimit) {\nsrc/main/java/com/shzlw/poli/dto/QueryRequest.java:        this.resultLimit = resultLimit;\nsrc/main/java/com/shzlw/poli/dto/QueryRequest.java:    }\nsrc/main/java/com/shzlw/poli/dto/QueryRequest.java:}\nsrc/main/java/com/shzlw/poli/dto/ExportRequest.java:package com.shzlw.poli.dto;\nsrc/main/java/com/shzlw/poli/dto/ExportRequest.java:\nsrc/main/java/com/shzlw/poli/dto/ExportRequest.java:public class ExportRequest {\nsrc/main/java/com/shzlw/poli/dto/ExportRequest.java:\nsrc/main/java/com/shzlw/poli/dto/ExportRequest.java:    private long reportId;\nsrc/main/java/com/shzlw/poli/dto/ExportRequest.java:    private String reportName;\nsrc/main/java/com/shzlw/poli/dto/ExportRequest.java:    private String sessionKey;\nsrc/main/java/com/shzlw/poli/dto/ExportRequest.java:    private int width;\nsrc/main/java/com/shzlw/poli/dto/ExportRequest.java:    private int height;\nsrc/main/java/com/shzlw/poli/dto/ExportRequest.java:\nsrc/main/java/com/shzlw/poli/dto/ExportRequest.java:    public ExportRequest(long reportId, String reportName, String sessionKey, int width, int height) {\nsrc/main/java/com/shzlw/poli/dto/ExportRequest.java:        this.reportId = reportId;\nsrc/main/java/com/shzlw/poli/dto/ExportRequest.java:        this.reportName = reportName;\nsrc/main/java/com/shzlw/poli/dto/ExportRequest.java:        this.sessionKey = sessionKey;\nsrc/main/java/com/shzlw/poli/dto/ExportRequest.java:        this.width = width;\nsrc/main/java/com/shzlw/poli/dto/ExportRequest.java:        this.height = height;\nsrc/main/java/com/shzlw/poli/dto/ExportRequest.java:    }\nsrc/main/java/com/shzlw/poli/dto/ExportRequest.java:\nsrc/main/java/com/shzlw/poli/dto/ExportRequest.java:    public long getReportId() {\nsrc/main/java/com/shzlw/poli/dto/ExportRequest.java:        return reportId;\nsrc/main/java/com/shzlw/poli/dto/ExportRequest.java:    }\nsrc/main/java/com/shzlw/poli/dto/ExportRequest.java:\nsrc/main/java/com/shzlw/poli/dto/ExportRequest.java:    public void setReportId(long reportId) {\nsrc/main/java/com/shzlw/poli/dto/ExportRequest.java:        this.reportId = reportId;\nsrc/main/java/com/shzlw/poli/dto/ExportRequest.java:    }\nsrc/main/java/com/shzlw/poli/dto/ExportRequest.java:\nsrc/main/java/com/shzlw/poli/dto/ExportRequest.java:    public String getReportName() {\nsrc/main/java/com/shzlw/poli/dto/ExportRequest.java:        return reportName;\nsrc/main/java/com/shzlw/poli/dto/ExportRequest.java:    }\nsrc/main/java/com/shzlw/poli/dto/ExportRequest.java:\nsrc/main/java/com/shzlw/poli/dto/ExportRequest.java:    public void setSessionKey(String sessionKey) {\nsrc/main/java/com/shzlw/poli/dto/ExportRequest.java:        this.sessionKey = sessionKey;\nsrc/main/java/com/shzlw/poli/dto/ExportRequest.java:    }\nsrc/main/java/com/shzlw/poli/dto/ExportRequest.java:\nsrc/main/java/com/shzlw/poli/dto/ExportRequest.java:    public String getSessionKey() {\nsrc/main/java/com/shzlw/poli/dto/ExportRequest.java:        return sessionKey;\nsrc/main/java/com/shzlw/poli/dto/ExportRequest.java:    }\nsrc/main/java/com/shzlw/poli/dto/ExportRequest.java:\nsrc/main/java/com/shzlw/poli/dto/ExportRequest.java:    public int getWidth() {\nsrc/main/java/com/shzlw/poli/dto/ExportRequest.java:        return width;\nsrc/main/java/com/shzlw/poli/dto/ExportRequest.java:    }\nsrc/main/java/com/shzlw/poli/dto/ExportRequest.java:\nsrc/main/java/com/shzlw/poli/dto/ExportRequest.java:    public int getHeight() {\nsrc/main/java/com/shzlw/poli/dto/ExportRequest.java:        return height;\nsrc/main/java/com/shzlw/poli/dto/ExportRequest.java:    }\nsrc/main/java/com/shzlw/poli/dto/ExportRequest.java:}\nsrc/main/java/com/shzlw/poli/dto/SharedReportRow.java:package com.shzlw.poli.dto;\nsrc/main/java/com/shzlw/poli/dto/SharedReportRow.java:\nsrc/main/java/com/shzlw/poli/dto/SharedReportRow.java:import com.shzlw.poli.model.SharedReport;\nsrc/main/java/com/shzlw/poli/dto/SharedReportRow.java:\nsrc/main/java/com/shzlw/poli/dto/SharedReportRow.java:public class SharedReportRow extends SharedReport {\nsrc/main/java/com/shzlw/poli/dto/SharedReportRow.java:\nsrc/main/java/com/shzlw/poli/dto/SharedReportRow.java:    public static final String REPORT_NAME = \"report_name\";\nsrc/main/java/com/shzlw/poli/dto/SharedReportRow.java:    public static final String CREATED_BY = \"created_by\";\nsrc/main/java/com/shzlw/poli/dto/SharedReportRow.java:\nsrc/main/java/com/shzlw/poli/dto/SharedReportRow.java:    private String reportName;\nsrc/main/java/com/shzlw/poli/dto/SharedReportRow.java:    private String createdBy;\nsrc/main/java/com/shzlw/poli/dto/SharedReportRow.java:    private String createDateTime;\nsrc/main/java/com/shzlw/poli/dto/SharedReportRow.java:    private String expirationDate;\nsrc/main/java/com/shzlw/poli/dto/SharedReportRow.java:\nsrc/main/java/com/shzlw/poli/dto/SharedReportRow.java:    public SharedReportRow() {}\nsrc/main/java/com/shzlw/poli/dto/SharedReportRow.java:\nsrc/main/java/com/shzlw/poli/dto/SharedReportRow.java:    public String getReportName() {\nsrc/main/java/com/shzlw/poli/dto/SharedReportRow.java:        return reportName;\nsrc/main/java/com/shzlw/poli/dto/SharedReportRow.java:    }\nsrc/main/java/com/shzlw/poli/dto/SharedReportRow.java:\nsrc/main/java/com/shzlw/poli/dto/SharedReportRow.java:    public void setReportName(String reportName) {\nsrc/main/java/com/shzlw/poli/dto/SharedReportRow.java:        this.reportName = reportName;\nsrc/main/java/com/shzlw/poli/dto/SharedReportRow.java:    }\nsrc/main/java/com/shzlw/poli/dto/SharedReportRow.java:\nsrc/main/java/com/shzlw/poli/dto/SharedReportRow.java:    public String getCreatedBy() {\nsrc/main/java/com/shzlw/poli/dto/SharedReportRow.java:        return createdBy;\nsrc/main/java/com/shzlw/poli/dto/SharedReportRow.java:    }\nsrc/main/java/com/shzlw/poli/dto/SharedReportRow.java:\nsrc/main/java/com/shzlw/poli/dto/SharedReportRow.java:    public void setCreatedBy(String createdBy) {\nsrc/main/java/com/shzlw/poli/dto/SharedReportRow.java:        this.createdBy = createdBy;\nsrc/main/java/com/shzlw/poli/dto/SharedReportRow.java:    }\nsrc/main/java/com/shzlw/poli/dto/SharedReportRow.java:\nsrc/main/java/com/shzlw/poli/dto/SharedReportRow.java:    public String getCreateDateTime() {\nsrc/main/java/com/shzlw/poli/dto/SharedReportRow.java:        return createDateTime;\nsrc/main/java/com/shzlw/poli/dto/SharedReportRow.java:    }\nsrc/main/java/com/shzlw/poli/dto/SharedReportRow.java:\nsrc/main/java/com/shzlw/poli/dto/SharedReportRow.java:    public void setCreateDateTime(String createDateTime) {\nsrc/main/java/com/shzlw/poli/dto/SharedReportRow.java:        this.createDateTime = createDateTime;\nsrc/main/java/com/shzlw/poli/dto/SharedReportRow.java:    }\nsrc/main/java/com/shzlw/poli/dto/SharedReportRow.java:\nsrc/main/java/com/shzlw/poli/dto/SharedReportRow.java:    public String getExpirationDate() {\nsrc/main/java/com/shzlw/poli/dto/SharedReportRow.java:        return expirationDate;\nsrc/main/java/com/shzlw/poli/dto/SharedReportRow.java:    }\nsrc/main/java/com/shzlw/poli/dto/SharedReportRow.java:\nsrc/main/java/com/shzlw/poli/dto/SharedReportRow.java:    public void setExpirationDate(String expirationDate) {\nsrc/main/java/com/shzlw/poli/dto/SharedReportRow.java:        this.expirationDate = expirationDate;\nsrc/main/java/com/shzlw/poli/dto/SharedReportRow.java:    }\nsrc/main/java/com/shzlw/poli/dto/SharedReportRow.java:}\nsrc/main/java/com/shzlw/poli/dto/Column.java:package com.shzlw.poli.dto;\nsrc/main/java/com/shzlw/poli/dto/Column.java:\nsrc/main/java/com/shzlw/poli/dto/Column.java:public class Column {\nsrc/main/java/com/shzlw/poli/dto/Column.java:\nsrc/main/java/com/shzlw/poli/dto/Column.java:    private String name;\nsrc/main/java/com/shzlw/poli/dto/Column.java:    private String javaType;\nsrc/main/java/com/shzlw/poli/dto/Column.java:    private String dbType;\nsrc/main/java/com/shzlw/poli/dto/Column.java:    private int length;\nsrc/main/java/com/shzlw/poli/dto/Column.java:\nsrc/main/java/com/shzlw/poli/dto/Column.java:    public Column(String name, String javaType, String dbType, int length) {\nsrc/main/java/com/shzlw/poli/dto/Column.java:        this.name = name;\nsrc/main/java/com/shzlw/poli/dto/Column.java:        this.javaType = javaType;\nsrc/main/java/com/shzlw/poli/dto/Column.java:        this.dbType = dbType;\nsrc/main/java/com/shzlw/poli/dto/Column.java:        this.length = length;\nsrc/main/java/com/shzlw/poli/dto/Column.java:    }\nsrc/main/java/com/shzlw/poli/dto/Column.java:\nsrc/main/java/com/shzlw/poli/dto/Column.java:    public String getName() {\nsrc/main/java/com/shzlw/poli/dto/Column.java:        return name;\nsrc/main/java/com/shzlw/poli/dto/Column.java:    }\nsrc/main/java/com/shzlw/poli/dto/Column.java:\nsrc/main/java/com/shzlw/poli/dto/Column.java:    public String getJavaType() {\nsrc/main/java/com/shzlw/poli/dto/Column.java:        return javaType;\nsrc/main/java/com/shzlw/poli/dto/Column.java:    }\nsrc/main/java/com/shzlw/poli/dto/Column.java:\nsrc/main/java/com/shzlw/poli/dto/Column.java:    public String getDbType() {\nsrc/main/java/com/shzlw/poli/dto/Column.java:        return dbType;\nsrc/main/java/com/shzlw/poli/dto/Column.java:    }\nsrc/main/java/com/shzlw/poli/dto/Column.java:\nsrc/main/java/com/shzlw/poli/dto/Column.java:    public int getLength() {\nsrc/main/java/com/shzlw/poli/dto/Column.java:        return length;\nsrc/main/java/com/shzlw/poli/dto/Column.java:    }\nsrc/main/java/com/shzlw/poli/dto/Column.java:}\nsrc/main/java/com/shzlw/poli/dto/Table.java:package com.shzlw.poli.dto;\nsrc/main/java/com/shzlw/poli/dto/Table.java:\nsrc/main/java/com/shzlw/poli/dto/Table.java:import java.util.ArrayList;\nsrc/main/java/com/shzlw/poli/dto/Table.java:import java.util.List;\nsrc/main/java/com/shzlw/poli/dto/Table.java:\nsrc/main/java/com/shzlw/poli/dto/Table.java:public class Table {\nsrc/main/java/com/shzlw/poli/dto/Table.java:\nsrc/main/java/com/shzlw/poli/dto/Table.java:    private String name;\nsrc/main/java/com/shzlw/poli/dto/Table.java:    private String type;\nsrc/main/java/com/shzlw/poli/dto/Table.java:    private List<Column> columns = new ArrayList<>();\nsrc/main/java/com/shzlw/poli/dto/Table.java:\nsrc/main/java/com/shzlw/poli/dto/Table.java:    public Table(String name, String type) {\nsrc/main/java/com/shzlw/poli/dto/Table.java:        this.name = name;\nsrc/main/java/com/shzlw/poli/dto/Table.java:        this.type = type;\nsrc/main/java/com/shzlw/poli/dto/Table.java:    }\nsrc/main/java/com/shzlw/poli/dto/Table.java:\nsrc/main/java/com/shzlw/poli/dto/Table.java:    public String getName() {\nsrc/main/java/com/shzlw/poli/dto/Table.java:        return name;\nsrc/main/java/com/shzlw/poli/dto/Table.java:    }\nsrc/main/java/com/shzlw/poli/dto/Table.java:\nsrc/main/java/com/shzlw/poli/dto/Table.java:    public String getType() {\nsrc/main/java/com/shzlw/poli/dto/Table.java:        return type;\nsrc/main/java/com/shzlw/poli/dto/Table.java:    }\nsrc/main/java/com/shzlw/poli/dto/Table.java:\nsrc/main/java/com/shzlw/poli/dto/Table.java:    public List<Column> getColumns() {\nsrc/main/java/com/shzlw/poli/dto/Table.java:        return columns;\nsrc/main/java/com/shzlw/poli/dto/Table.java:    }\nsrc/main/java/com/shzlw/poli/dto/Table.java:\nsrc/main/java/com/shzlw/poli/dto/Table.java:    public void setColumns(List<Column> columns) {\nsrc/main/java/com/shzlw/poli/dto/Table.java:        this.columns = columns;\nsrc/main/java/com/shzlw/poli/dto/Table.java:    }\nsrc/main/java/com/shzlw/poli/dto/Table.java:}\nsrc/main/java/com/shzlw/poli/dto/LoginResponse.java:package com.shzlw.poli.dto;\nsrc/main/java/com/shzlw/poli/dto/LoginResponse.java:\nsrc/main/java/com/shzlw/poli/dto/LoginResponse.java:import com.fasterxml.jackson.annotation.JsonProperty;\nsrc/main/java/com/shzlw/poli/dto/LoginResponse.java:\nsrc/main/java/com/shzlw/poli/dto/LoginResponse.java:public class LoginResponse {\nsrc/main/java/com/shzlw/poli/dto/LoginResponse.java:\nsrc/main/java/com/shzlw/poli/dto/LoginResponse.java:    private String username;\nsrc/main/java/com/shzlw/poli/dto/LoginResponse.java:    private String sysRole;\nsrc/main/java/com/shzlw/poli/dto/LoginResponse.java:    private String error;\nsrc/main/java/com/shzlw/poli/dto/LoginResponse.java:\nsrc/main/java/com/shzlw/poli/dto/LoginResponse.java:    @JsonProperty(value = \"isTempPassword\")\nsrc/main/java/com/shzlw/poli/dto/LoginResponse.java:    private boolean isTempPassword;\nsrc/main/java/com/shzlw/poli/dto/LoginResponse.java:\nsrc/main/java/com/shzlw/poli/dto/LoginResponse.java:    public static LoginResponse ofError(String error) {\nsrc/main/java/com/shzlw/poli/dto/LoginResponse.java:        return new LoginResponse(error);\nsrc/main/java/com/shzlw/poli/dto/LoginResponse.java:    }\nsrc/main/java/com/shzlw/poli/dto/LoginResponse.java:\nsrc/main/java/com/shzlw/poli/dto/LoginResponse.java:    public static LoginResponse ofSuccess(String username, String sysRole, boolean isTempPassword) {\nsrc/main/java/com/shzlw/poli/dto/LoginResponse.java:        return new LoginResponse(username, sysRole, isTempPassword);\nsrc/main/java/com/shzlw/poli/dto/LoginResponse.java:    }\nsrc/main/java/com/shzlw/poli/dto/LoginResponse.java:\nsrc/main/java/com/shzlw/poli/dto/LoginResponse.java:    private LoginResponse() {};\nsrc/main/java/com/shzlw/poli/dto/LoginResponse.java:\nsrc/main/java/com/shzlw/poli/dto/LoginResponse.java:    private LoginResponse(String error) {\nsrc/main/java/com/shzlw/poli/dto/LoginResponse.java:        this.error = error;\nsrc/main/java/com/shzlw/poli/dto/LoginResponse.java:    }\nsrc/main/java/com/shzlw/poli/dto/LoginResponse.java:\nsrc/main/java/com/shzlw/poli/dto/LoginResponse.java:    private LoginResponse(String username, String sysRole, boolean isTempPassword) {\nsrc/main/java/com/shzlw/poli/dto/LoginResponse.java:        this.username = username;\nsrc/main/java/com/shzlw/poli/dto/LoginResponse.java:        this.sysRole = sysRole;\nsrc/main/java/com/shzlw/poli/dto/LoginResponse.java:        this.isTempPassword = isTempPassword;\nsrc/main/java/com/shzlw/poli/dto/LoginResponse.java:    }\nsrc/main/java/com/shzlw/poli/dto/LoginResponse.java:\nsrc/main/java/com/shzlw/poli/dto/LoginResponse.java:    public String getUsername() {\nsrc/main/java/com/shzlw/poli/dto/LoginResponse.java:        return username;\nsrc/main/java/com/shzlw/poli/dto/LoginResponse.java:    }\nsrc/main/java/com/shzlw/poli/dto/LoginResponse.java:\nsrc/main/java/com/shzlw/poli/dto/LoginResponse.java:    public String getSysRole() {\nsrc/main/java/com/shzlw/poli/dto/LoginResponse.java:        return sysRole;\nsrc/main/java/com/shzlw/poli/dto/LoginResponse.java:    }\nsrc/main/java/com/shzlw/poli/dto/LoginResponse.java:\nsrc/main/java/com/shzlw/poli/dto/LoginResponse.java:    public String getError() {\nsrc/main/java/com/shzlw/poli/dto/LoginResponse.java:        return error;\nsrc/main/java/com/shzlw/poli/dto/LoginResponse.java:    }\nsrc/main/java/com/shzlw/poli/dto/LoginResponse.java:\nsrc/main/java/com/shzlw/poli/dto/LoginResponse.java:    public boolean isTempPassword() {\nsrc/main/java/com/shzlw/poli/dto/LoginResponse.java:        return isTempPassword;\nsrc/main/java/com/shzlw/poli/dto/LoginResponse.java:    }\nsrc/main/java/com/shzlw/poli/dto/LoginResponse.java:\nsrc/main/java/com/shzlw/poli/dto/LoginResponse.java:    @Override\nsrc/main/java/com/shzlw/poli/dto/LoginResponse.java:    public String toString() {\nsrc/main/java/com/shzlw/poli/dto/LoginResponse.java:        return \"LoginResponse{\" +\nsrc/main/java/com/shzlw/poli/dto/LoginResponse.java:                \"username='\" + username + '\\'' +\nsrc/main/java/com/shzlw/poli/dto/LoginResponse.java:                \", sysRole='\" + sysRole + '\\'' +\nsrc/main/java/com/shzlw/poli/dto/LoginResponse.java:                \", error='\" + error + '\\'' +\nsrc/main/java/com/shzlw/poli/dto/LoginResponse.java:                \", isTempPassword=\" + isTempPassword +\nsrc/main/java/com/shzlw/poli/dto/LoginResponse.java:                '}';\nsrc/main/java/com/shzlw/poli/dto/LoginResponse.java:    }\nsrc/main/java/com/shzlw/poli/dto/LoginResponse.java:}\nsrc/main/java/com/shzlw/poli/dto/FilterParameter.java:package com.shzlw.poli.dto;\nsrc/main/java/com/shzlw/poli/dto/FilterParameter.java:\nsrc/main/java/com/shzlw/poli/dto/FilterParameter.java:import com.fasterxml.jackson.annotation.JsonRawValue;\nsrc/main/java/com/shzlw/poli/dto/FilterParameter.java:import com.fasterxml.jackson.databind.annotation.JsonDeserialize;\nsrc/main/java/com/shzlw/poli/dto/FilterParameter.java:import com.shzlw.poli.util.RawStringDeserialzier;\nsrc/main/java/com/shzlw/poli/dto/FilterParameter.java:\nsrc/main/java/com/shzlw/poli/dto/FilterParameter.java:public class FilterParameter {\nsrc/main/java/com/shzlw/poli/dto/FilterParameter.java:\nsrc/main/java/com/shzlw/poli/dto/FilterParameter.java:    private String type;\nsrc/main/java/com/shzlw/poli/dto/FilterParameter.java:    private String param;\nsrc/main/java/com/shzlw/poli/dto/FilterParameter.java:    private String value;\nsrc/main/java/com/shzlw/poli/dto/FilterParameter.java:    /**\nsrc/main/java/com/shzlw/poli/dto/FilterParameter.java:     * If the type is: 'slicer' and remark is: 'select all', then no parameters should be applied to the query.\nsrc/main/java/com/shzlw/poli/dto/FilterParameter.java:     */\nsrc/main/java/com/shzlw/poli/dto/FilterParameter.java:    private String remark;\nsrc/main/java/com/shzlw/poli/dto/FilterParameter.java:\nsrc/main/java/com/shzlw/poli/dto/FilterParameter.java:    public String getType() {\nsrc/main/java/com/shzlw/poli/dto/FilterParameter.java:        return type;\nsrc/main/java/com/shzlw/poli/dto/FilterParameter.java:    }\nsrc/main/java/com/shzlw/poli/dto/FilterParameter.java:\nsrc/main/java/com/shzlw/poli/dto/FilterParameter.java:    public void setType(String type) {\nsrc/main/java/com/shzlw/poli/dto/FilterParameter.java:        this.type = type;\nsrc/main/java/com/shzlw/poli/dto/FilterParameter.java:    }\nsrc/main/java/com/shzlw/poli/dto/FilterParameter.java:\nsrc/main/java/com/shzlw/poli/dto/FilterParameter.java:    public String getParam() {\nsrc/main/java/com/shzlw/poli/dto/FilterParameter.java:        return param;\nsrc/main/java/com/shzlw/poli/dto/FilterParameter.java:    }\nsrc/main/java/com/shzlw/poli/dto/FilterParameter.java:\nsrc/main/java/com/shzlw/poli/dto/FilterParameter.java:    public void setParam(String param) {\nsrc/main/java/com/shzlw/poli/dto/FilterParameter.java:        this.param = param;\nsrc/main/java/com/shzlw/poli/dto/FilterParameter.java:    }\nsrc/main/java/com/shzlw/poli/dto/FilterParameter.java:\nsrc/main/java/com/shzlw/poli/dto/FilterParameter.java:    @JsonRawValue\nsrc/main/java/com/shzlw/poli/dto/FilterParameter.java:    public String getValue() {\nsrc/main/java/com/shzlw/poli/dto/FilterParameter.java:        return value;\nsrc/main/java/com/shzlw/poli/dto/FilterParameter.java:    }\nsrc/main/java/com/shzlw/poli/dto/FilterParameter.java:\nsrc/main/java/com/shzlw/poli/dto/FilterParameter.java:    @JsonDeserialize(using = RawStringDeserialzier.class)\nsrc/main/java/com/shzlw/poli/dto/FilterParameter.java:    public void setValue(String value) {\nsrc/main/java/com/shzlw/poli/dto/FilterParameter.java:        this.value = value;\nsrc/main/java/com/shzlw/poli/dto/FilterParameter.java:    }\nsrc/main/java/com/shzlw/poli/dto/FilterParameter.java:\nsrc/main/java/com/shzlw/poli/dto/FilterParameter.java:    public String getRemark() {\nsrc/main/java/com/shzlw/poli/dto/FilterParameter.java:        return remark;\nsrc/main/java/com/shzlw/poli/dto/FilterParameter.java:    }\nsrc/main/java/com/shzlw/poli/dto/FilterParameter.java:\nsrc/main/java/com/shzlw/poli/dto/FilterParameter.java:    public void setRemark(String remark) {\nsrc/main/java/com/shzlw/poli/dto/FilterParameter.java:        this.remark = remark;\nsrc/main/java/com/shzlw/poli/dto/FilterParameter.java:    }\nsrc/main/java/com/shzlw/poli/dto/FilterParameter.java:\nsrc/main/java/com/shzlw/poli/dto/FilterParameter.java:    @Override\nsrc/main/java/com/shzlw/poli/dto/FilterParameter.java:    public String toString() {\nsrc/main/java/com/shzlw/poli/dto/FilterParameter.java:        return \"FilterParameter{\" +\nsrc/main/java/com/shzlw/poli/dto/FilterParameter.java:                \"type='\" + type + '\\'' +\nsrc/main/java/com/shzlw/poli/dto/FilterParameter.java:                \", param='\" + param + '\\'' +\nsrc/main/java/com/shzlw/poli/dto/FilterParameter.java:                \", value='\" + value + '\\'' +\nsrc/main/java/com/shzlw/poli/dto/FilterParameter.java:                '}';\nsrc/main/java/com/shzlw/poli/dto/FilterParameter.java:    }\nsrc/main/java/com/shzlw/poli/dto/FilterParameter.java:}\nsrc/main/java/com/shzlw/poli/dto/SharedLinkInfo.java:package com.shzlw.poli.dto;\nsrc/main/java/com/shzlw/poli/dto/SharedLinkInfo.java:\nsrc/main/java/com/shzlw/poli/dto/SharedLinkInfo.java:import com.shzlw.poli.model.User;\nsrc/main/java/com/shzlw/poli/dto/SharedLinkInfo.java:\nsrc/main/java/com/shzlw/poli/dto/SharedLinkInfo.java:import java.util.Set;\nsrc/main/java/com/shzlw/poli/dto/SharedLinkInfo.java:\nsrc/main/java/com/shzlw/poli/dto/SharedLinkInfo.java:public class SharedLinkInfo {\nsrc/main/java/com/shzlw/poli/dto/SharedLinkInfo.java:\nsrc/main/java/com/shzlw/poli/dto/SharedLinkInfo.java:    private User user;\nsrc/main/java/com/shzlw/poli/dto/SharedLinkInfo.java:    private long reportId;\nsrc/main/java/com/shzlw/poli/dto/SharedLinkInfo.java:    private Set<String> componentQueryUrls;\nsrc/main/java/com/shzlw/poli/dto/SharedLinkInfo.java:\nsrc/main/java/com/shzlw/poli/dto/SharedLinkInfo.java:    public SharedLinkInfo(User user, long reportId, Set<String> componentQueryUrls) {\nsrc/main/java/com/shzlw/poli/dto/SharedLinkInfo.java:        this.user = user;\nsrc/main/java/com/shzlw/poli/dto/SharedLinkInfo.java:        this.reportId = reportId;\nsrc/main/java/com/shzlw/poli/dto/SharedLinkInfo.java:        this.componentQueryUrls = componentQueryUrls;\nsrc/main/java/com/shzlw/poli/dto/SharedLinkInfo.java:    }\nsrc/main/java/com/shzlw/poli/dto/SharedLinkInfo.java:\nsrc/main/java/com/shzlw/poli/dto/SharedLinkInfo.java:    public User getUser() {\nsrc/main/java/com/shzlw/poli/dto/SharedLinkInfo.java:        return user;\nsrc/main/java/com/shzlw/poli/dto/SharedLinkInfo.java:    }\nsrc/main/java/com/shzlw/poli/dto/SharedLinkInfo.java:\nsrc/main/java/com/shzlw/poli/dto/SharedLinkInfo.java:    public long getReportId() {\nsrc/main/java/com/shzlw/poli/dto/SharedLinkInfo.java:        return reportId;\nsrc/main/java/com/shzlw/poli/dto/SharedLinkInfo.java:    }\nsrc/main/java/com/shzlw/poli/dto/SharedLinkInfo.java:\nsrc/main/java/com/shzlw/poli/dto/SharedLinkInfo.java:    public Set<String> getComponentQueryUrls() {\nsrc/main/java/com/shzlw/poli/dto/SharedLinkInfo.java:        return componentQueryUrls;\nsrc/main/java/com/shzlw/poli/dto/SharedLinkInfo.java:    }\nsrc/main/java/com/shzlw/poli/dto/SharedLinkInfo.java:}\nsrc/main/java/com/shzlw/poli/dto/QueryResult.java:package com.shzlw.poli.dto;\nsrc/main/java/com/shzlw/poli/dto/QueryResult.java:\nsrc/main/java/com/shzlw/poli/dto/QueryResult.java:import com.shzlw.poli.util.Constants;\nsrc/main/java/com/shzlw/poli/dto/QueryResult.java:import org.springframework.util.StringUtils;\nsrc/main/java/com/shzlw/poli/dto/QueryResult.java:\nsrc/main/java/com/shzlw/poli/dto/QueryResult.java:import java.util.ArrayList;\nsrc/main/java/com/shzlw/poli/dto/QueryResult.java:import java.util.List;\nsrc/main/java/com/shzlw/poli/dto/QueryResult.java:\nsrc/main/java/com/shzlw/poli/dto/QueryResult.java:public class QueryResult {\nsrc/main/java/com/shzlw/poli/dto/QueryResult.java:\nsrc/main/java/com/shzlw/poli/dto/QueryResult.java:    private List<Column> columns = new ArrayList<>();\nsrc/main/java/com/shzlw/poli/dto/QueryResult.java:\nsrc/main/java/com/shzlw/poli/dto/QueryResult.java:    /**\nsrc/main/java/com/shzlw/poli/dto/QueryResult.java:     * JSON array value\nsrc/main/java/com/shzlw/poli/dto/QueryResult.java:     */\nsrc/main/java/com/shzlw/poli/dto/QueryResult.java:    private String data;\nsrc/main/java/com/shzlw/poli/dto/QueryResult.java:    private String error;\nsrc/main/java/com/shzlw/poli/dto/QueryResult.java:\nsrc/main/java/com/shzlw/poli/dto/QueryResult.java:    public static QueryResult ofError(String error) {\nsrc/main/java/com/shzlw/poli/dto/QueryResult.java:        return new QueryResult(error);\nsrc/main/java/com/shzlw/poli/dto/QueryResult.java:    }\nsrc/main/java/com/shzlw/poli/dto/QueryResult.java:\nsrc/main/java/com/shzlw/poli/dto/QueryResult.java:    public static QueryResult ofData(String data, List<Column> columns) {\nsrc/main/java/com/shzlw/poli/dto/QueryResult.java:        return new QueryResult(data, columns);\nsrc/main/java/com/shzlw/poli/dto/QueryResult.java:    }\nsrc/main/java/com/shzlw/poli/dto/QueryResult.java:\nsrc/main/java/com/shzlw/poli/dto/QueryResult.java:    private QueryResult() {\nsrc/main/java/com/shzlw/poli/dto/QueryResult.java:    }\nsrc/main/java/com/shzlw/poli/dto/QueryResult.java:\nsrc/main/java/com/shzlw/poli/dto/QueryResult.java:    private QueryResult(String error) {\nsrc/main/java/com/shzlw/poli/dto/QueryResult.java:        this.error = error;\nsrc/main/java/com/shzlw/poli/dto/QueryResult.java:    }\nsrc/main/java/com/shzlw/poli/dto/QueryResult.java:\nsrc/main/java/com/shzlw/poli/dto/QueryResult.java:    private QueryResult(String data, List<Column> columns) {\nsrc/main/java/com/shzlw/poli/dto/QueryResult.java:        this.data = data;\nsrc/main/java/com/shzlw/poli/dto/QueryResult.java:        this.columns = columns;\nsrc/main/java/com/shzlw/poli/dto/QueryResult.java:    }\nsrc/main/java/com/shzlw/poli/dto/QueryResult.java:\nsrc/main/java/com/shzlw/poli/dto/QueryResult.java:    public List<Column> getColumns() {\nsrc/main/java/com/shzlw/poli/dto/QueryResult.java:        return columns;\nsrc/main/java/com/shzlw/poli/dto/QueryResult.java:    }\nsrc/main/java/com/shzlw/poli/dto/QueryResult.java:\nsrc/main/java/com/shzlw/poli/dto/QueryResult.java:    public String getData() {\nsrc/main/java/com/shzlw/poli/dto/QueryResult.java:        if (StringUtils.isEmpty(data)) {\nsrc/main/java/com/shzlw/poli/dto/QueryResult.java:            return Constants.EMPTY_JSON_ARRAY;\nsrc/main/java/com/shzlw/poli/dto/QueryResult.java:        }\nsrc/main/java/com/shzlw/poli/dto/QueryResult.java:        return data;\nsrc/main/java/com/shzlw/poli/dto/QueryResult.java:    }\nsrc/main/java/com/shzlw/poli/dto/QueryResult.java:\nsrc/main/java/com/shzlw/poli/dto/QueryResult.java:    public String getError() {\nsrc/main/java/com/shzlw/poli/dto/QueryResult.java:        return error;\nsrc/main/java/com/shzlw/poli/dto/QueryResult.java:    }\nsrc/main/java/com/shzlw/poli/dto/QueryResult.java:}\nsrc/main/java/com/shzlw/poli/dto/AppInfo.java:package com.shzlw.poli.dto;\nsrc/main/java/com/shzlw/poli/dto/AppInfo.java:\nsrc/main/java/com/shzlw/poli/dto/AppInfo.java:public class AppInfo {\nsrc/main/java/com/shzlw/poli/dto/AppInfo.java:\nsrc/main/java/com/shzlw/poli/dto/AppInfo.java:    private String version;\nsrc/main/java/com/shzlw/poli/dto/AppInfo.java:    private String localeLanguage;\nsrc/main/java/com/shzlw/poli/dto/AppInfo.java:\nsrc/main/java/com/shzlw/poli/dto/AppInfo.java:    public AppInfo(String version, String localeLanguage) {\nsrc/main/java/com/shzlw/poli/dto/AppInfo.java:        this.version = version;\nsrc/main/java/com/shzlw/poli/dto/AppInfo.java:        this.localeLanguage = localeLanguage;\nsrc/main/java/com/shzlw/poli/dto/AppInfo.java:    }\nsrc/main/java/com/shzlw/poli/dto/AppInfo.java:\nsrc/main/java/com/shzlw/poli/dto/AppInfo.java:    public String getVersion() {\nsrc/main/java/com/shzlw/poli/dto/AppInfo.java:        return version;\nsrc/main/java/com/shzlw/poli/dto/AppInfo.java:    }\nsrc/main/java/com/shzlw/poli/dto/AppInfo.java:\nsrc/main/java/com/shzlw/poli/dto/AppInfo.java:    public String getLocaleLanguage() {\nsrc/main/java/com/shzlw/poli/dto/AppInfo.java:        return localeLanguage;\nsrc/main/java/com/shzlw/poli/dto/AppInfo.java:    }\nsrc/main/java/com/shzlw/poli/dto/AppInfo.java:}\n"
                            }
                        ]
                    }
                }
            ]
        }
    ]
}